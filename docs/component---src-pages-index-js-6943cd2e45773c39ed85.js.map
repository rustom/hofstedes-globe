{"version":3,"file":"component---src-pages-index-js-6943cd2e45773c39ed85.js","mappings":"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","sources":["webpack://hofstede-globe/./node_modules/@babel/runtime/helpers/arrayLikeToArray.js","webpack://hofstede-globe/./node_modules/@babel/runtime/helpers/arrayWithHoles.js","webpack://hofstede-globe/./node_modules/@babel/runtime/helpers/arrayWithoutHoles.js","webpack://hofstede-globe/./node_modules/@babel/runtime/helpers/classCallCheck.js","webpack://hofstede-globe/./node_modules/@babel/runtime/helpers/construct.js","webpack://hofstede-globe/./node_modules/@babel/runtime/helpers/createClass.js","webpack://hofstede-globe/./node_modules/@babel/runtime/helpers/defineProperty.js","webpack://hofstede-globe/./node_modules/@babel/runtime/helpers/get.js","webpack://hofstede-globe/./node_modules/@babel/runtime/helpers/getPrototypeOf.js","webpack://hofstede-globe/./node_modules/@babel/runtime/helpers/inherits.js","webpack://hofstede-globe/./node_modules/@babel/runtime/helpers/isNativeFunction.js","webpack://hofstede-globe/./node_modules/@babel/runtime/helpers/isNativeReflectConstruct.js","webpack://hofstede-globe/./node_modules/@babel/runtime/helpers/iterableToArray.js","webpack://hofstede-globe/./node_modules/@babel/runtime/helpers/iterableToArrayLimit.js","webpack://hofstede-globe/./node_modules/@babel/runtime/helpers/nonIterableRest.js","webpack://hofstede-globe/./node_modules/@babel/runtime/helpers/nonIterableSpread.js","webpack://hofstede-globe/./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js","webpack://hofstede-globe/./node_modules/@babel/runtime/helpers/slicedToArray.js","webpack://hofstede-globe/./node_modules/@babel/runtime/helpers/superPropBase.js","webpack://hofstede-globe/./node_modules/@babel/runtime/helpers/toArray.js","webpack://hofstede-globe/./node_modules/@babel/runtime/helpers/toConsumableArray.js","webpack://hofstede-globe/./node_modules/@babel/runtime/helpers/typeof.js","webpack://hofstede-globe/./node_modules/@babel/runtime/helpers/unsupportedIterableToArray.js","webpack://hofstede-globe/./node_modules/@babel/runtime/helpers/wrapNativeSuper.js","webpack://hofstede-globe/./node_modules/chroma-js/chroma.js","webpack://hofstede-globe/./node_modules/hammerjs/hammer.js","webpack://hofstede-globe/./node_modules/core-js/internals/a-callable.js","webpack://hofstede-globe/./node_modules/core-js/internals/an-object.js","webpack://hofstede-globe/./node_modules/core-js/internals/array-includes.js","webpack://hofstede-globe/./node_modules/core-js/internals/classof-raw.js","webpack://hofstede-globe/./node_modules/core-js/internals/copy-constructor-properties.js","webpack://hofstede-globe/./node_modules/core-js/internals/create-non-enumerable-property.js","webpack://hofstede-globe/./node_modules/core-js/internals/create-property-descriptor.js","webpack://hofstede-globe/./node_modules/core-js/internals/descriptors.js","webpack://hofstede-globe/./node_modules/core-js/internals/document-create-element.js","webpack://hofstede-globe/./node_modules/core-js/internals/engine-user-agent.js","webpack://hofstede-globe/./node_modules/core-js/internals/engine-v8-version.js","webpack://hofstede-globe/./node_modules/core-js/internals/enum-bug-keys.js","webpack://hofstede-globe/./node_modules/core-js/internals/export.js","webpack://hofstede-globe/./node_modules/core-js/internals/fails.js","webpack://hofstede-globe/./node_modules/core-js/internals/function-call.js","webpack://hofstede-globe/./node_modules/core-js/internals/function-name.js","webpack://hofstede-globe/./node_modules/core-js/internals/function-uncurry-this.js","webpack://hofstede-globe/./node_modules/core-js/internals/get-built-in.js","webpack://hofstede-globe/./node_modules/core-js/internals/get-method.js","webpack://hofstede-globe/./node_modules/core-js/internals/global.js","webpack://hofstede-globe/./node_modules/core-js/internals/has-own-property.js","webpack://hofstede-globe/./node_modules/core-js/internals/hidden-keys.js","webpack://hofstede-globe/./node_modules/core-js/internals/ie8-dom-define.js","webpack://hofstede-globe/./node_modules/core-js/internals/indexed-object.js","webpack://hofstede-globe/./node_modules/core-js/internals/inspect-source.js","webpack://hofstede-globe/./node_modules/core-js/internals/internal-state.js","webpack://hofstede-globe/./node_modules/core-js/internals/is-callable.js","webpack://hofstede-globe/./node_modules/core-js/internals/is-forced.js","webpack://hofstede-globe/./node_modules/core-js/internals/is-object.js","webpack://hofstede-globe/./node_modules/core-js/internals/is-pure.js","webpack://hofstede-globe/./node_modules/core-js/internals/is-symbol.js","webpack://hofstede-globe/./node_modules/core-js/internals/length-of-array-like.js","webpack://hofstede-globe/./node_modules/core-js/internals/native-symbol.js","webpack://hofstede-globe/./node_modules/core-js/internals/native-weak-map.js","webpack://hofstede-globe/./node_modules/core-js/internals/object-define-property.js","webpack://hofstede-globe/./node_modules/core-js/internals/object-get-own-property-descriptor.js","webpack://hofstede-globe/./node_modules/core-js/internals/object-get-own-property-names.js","webpack://hofstede-globe/./node_modules/core-js/internals/object-get-own-property-symbols.js","webpack://hofstede-globe/./node_modules/core-js/internals/object-is-prototype-of.js","webpack://hofstede-globe/./node_modules/core-js/internals/object-keys-internal.js","webpack://hofstede-globe/./node_modules/core-js/internals/object-property-is-enumerable.js","webpack://hofstede-globe/./node_modules/core-js/internals/ordinary-to-primitive.js","webpack://hofstede-globe/./node_modules/core-js/internals/own-keys.js","webpack://hofstede-globe/./node_modules/core-js/internals/redefine.js","webpack://hofstede-globe/./node_modules/core-js/internals/require-object-coercible.js","webpack://hofstede-globe/./node_modules/core-js/internals/set-global.js","webpack://hofstede-globe/./node_modules/core-js/internals/shared-key.js","webpack://hofstede-globe/./node_modules/core-js/internals/shared-store.js","webpack://hofstede-globe/./node_modules/core-js/internals/shared.js","webpack://hofstede-globe/./node_modules/core-js/internals/to-absolute-index.js","webpack://hofstede-globe/./node_modules/core-js/internals/to-indexed-object.js","webpack://hofstede-globe/./node_modules/core-js/internals/to-integer-or-infinity.js","webpack://hofstede-globe/./node_modules/core-js/internals/to-length.js","webpack://hofstede-globe/./node_modules/core-js/internals/to-object.js","webpack://hofstede-globe/./node_modules/core-js/internals/to-primitive.js","webpack://hofstede-globe/./node_modules/core-js/internals/to-property-key.js","webpack://hofstede-globe/./node_modules/core-js/internals/try-to-string.js","webpack://hofstede-globe/./node_modules/core-js/internals/uid.js","webpack://hofstede-globe/./node_modules/core-js/internals/use-symbol-as-uid.js","webpack://hofstede-globe/./node_modules/core-js/internals/well-known-symbol.js","webpack://hofstede-globe/./node_modules/core-js/modules/es.global-this.js","webpack://hofstede-globe/./node_modules/core-js/modules/es.math.hypot.js","webpack://hofstede-globe/./node_modules/core-js/modules/esnext.global-this.js","webpack://hofstede-globe/./src/styles/theme.js","webpack://hofstede-globe/./src/styles/global-style.js","webpack://hofstede-globe/./src/components/color-key.js","webpack://hofstede-globe/./src/styles/mixins.js","webpack://hofstede-globe/./src/data/dimension-data.js","webpack://hofstede-globe/./src/data/dimension-info.js","webpack://hofstede-globe/./src/components/dimension-info.js","webpack://hofstede-globe/./node_modules/@babel/runtime/helpers/esm/extends.js","webpack://hofstede-globe/./node_modules/@babel/runtime/helpers/esm/slicedToArray.js","webpack://hofstede-globe/./node_modules/@babel/runtime/helpers/esm/arrayWithHoles.js","webpack://hofstede-globe/./node_modules/@babel/runtime/helpers/esm/iterableToArrayLimit.js","webpack://hofstede-globe/./node_modules/@babel/runtime/helpers/esm/nonIterableRest.js","webpack://hofstede-globe/./node_modules/@babel/runtime/helpers/esm/classCallCheck.js","webpack://hofstede-globe/./node_modules/@babel/runtime/helpers/esm/createClass.js","webpack://hofstede-globe/./node_modules/@math.gl/web-mercator/node_modules/gl-matrix/esm/common.js","webpack://hofstede-globe/./node_modules/@math.gl/web-mercator/node_modules/gl-matrix/esm/vec4.js","webpack://hofstede-globe/./node_modules/@math.gl/web-mercator/dist/esm/math-utils.js","webpack://hofstede-globe/./node_modules/@math.gl/web-mercator/node_modules/gl-matrix/esm/mat4.js","webpack://hofstede-globe/./node_modules/@math.gl/web-mercator/node_modules/gl-matrix/esm/vec2.js","webpack://hofstede-globe/./node_modules/@math.gl/web-mercator/node_modules/gl-matrix/esm/vec3.js","webpack://hofstede-globe/./node_modules/@math.gl/web-mercator/dist/esm/assert.js","webpack://hofstede-globe/./node_modules/@math.gl/web-mercator/dist/esm/web-mercator-utils.js","webpack://hofstede-globe/./node_modules/@math.gl/web-mercator/dist/esm/fit-bounds.js","webpack://hofstede-globe/./node_modules/@math.gl/web-mercator/dist/esm/get-bounds.js","webpack://hofstede-globe/./node_modules/@math.gl/web-mercator/dist/esm/web-mercator-viewport.js","webpack://hofstede-globe/./node_modules/@math.gl/web-mercator/dist/esm/fly-to-viewport.js","webpack://hofstede-globe/./node_modules/resize-observer-polyfill/dist/ResizeObserver.es.js","webpack://hofstede-globe/./node_modules/react-map-gl/dist/esm/utils/globals.js","webpack://hofstede-globe/./node_modules/react-map-gl/dist/esm/utils/style-utils.js","webpack://hofstede-globe/./node_modules/react-map-gl/dist/esm/mapbox/mapbox.js","webpack://hofstede-globe/./node_modules/react-map-gl/dist/esm/utils/math-utils.js","webpack://hofstede-globe/./node_modules/react-map-gl/dist/esm/utils/assert.js","webpack://hofstede-globe/./node_modules/react-map-gl/dist/esm/utils/map-state.js","webpack://hofstede-globe/./node_modules/@math.gl/web-mercator/dist/esm/normalize-viewport-props.js","webpack://hofstede-globe/./node_modules/react-map-gl/dist/esm/utils/map-constraints.js","webpack://hofstede-globe/./node_modules/react-map-gl/dist/esm/components/map-context.js","webpack://hofstede-globe/./node_modules/react-map-gl/dist/esm/utils/use-isomorphic-layout-effect.js","webpack://hofstede-globe/./node_modules/react-map-gl/dist/esm/utils/terrain.js","webpack://hofstede-globe/./node_modules/react-map-gl/dist/esm/components/static-map.js","webpack://hofstede-globe/./node_modules/react-map-gl/dist/esm/utils/transition/transition-interpolator.js","webpack://hofstede-globe/./node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js","webpack://hofstede-globe/./node_modules/@babel/runtime/helpers/esm/inherits.js","webpack://hofstede-globe/./node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js","webpack://hofstede-globe/./node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js","webpack://hofstede-globe/./node_modules/react-map-gl/dist/esm/utils/transition/transition-utils.js","webpack://hofstede-globe/./node_modules/react-map-gl/dist/esm/utils/transition/viewport-fly-to-interpolator.js","webpack://hofstede-globe/./node_modules/react-map-gl/dist/esm/utils/transition/linear-interpolator.js","webpack://hofstede-globe/./node_modules/react-map-gl/dist/esm/utils/transition-manager.js","webpack://hofstede-globe/./node_modules/mjolnir.js/dist/esm/utils/hammer-overrides.js","webpack://hofstede-globe/./node_modules/mjolnir.js/dist/esm/utils/hammer.browser.js","webpack://hofstede-globe/./node_modules/mjolnir.js/dist/esm/constants.js","webpack://hofstede-globe/./node_modules/mjolnir.js/dist/esm/utils/globals.js","webpack://hofstede-globe/./node_modules/mjolnir.js/dist/esm/inputs/wheel-input.js","webpack://hofstede-globe/./node_modules/mjolnir.js/dist/esm/inputs/move-input.js","webpack://hofstede-globe/./node_modules/mjolnir.js/dist/esm/inputs/key-input.js","webpack://hofstede-globe/./node_modules/mjolnir.js/dist/esm/inputs/contextmenu-input.js","webpack://hofstede-globe/./node_modules/mjolnir.js/dist/esm/utils/event-utils.js","webpack://hofstede-globe/./node_modules/mjolnir.js/dist/esm/utils/event-registrar.js","webpack://hofstede-globe/./node_modules/mjolnir.js/dist/esm/event-manager.js","webpack://hofstede-globe/./node_modules/react-map-gl/dist/esm/utils/map-controller.js","webpack://hofstede-globe/./node_modules/react-map-gl/dist/esm/components/interactive-map.js","webpack://hofstede-globe/./node_modules/@babel/runtime/helpers/esm/typeof.js","webpack://hofstede-globe/./node_modules/react-map-gl/dist/esm/utils/deep-equal.js","webpack://hofstede-globe/./node_modules/react-map-gl/dist/esm/components/source.js","webpack://hofstede-globe/./node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js","webpack://hofstede-globe/./node_modules/@babel/runtime/helpers/esm/objectWithoutPropertiesLoose.js","webpack://hofstede-globe/./node_modules/react-map-gl/dist/esm/components/layer.js","webpack://hofstede-globe/./node_modules/react-map-gl/dist/esm/components/use-map-control.js","webpack://hofstede-globe/./node_modules/react-map-gl/dist/esm/components/base-control.js","webpack://hofstede-globe/./node_modules/react-map-gl/dist/esm/components/draggable-control.js","webpack://hofstede-globe/./node_modules/react-map-gl/dist/esm/utils/crisp-pixel.js","webpack://hofstede-globe/./node_modules/react-map-gl/dist/esm/components/marker.js","webpack://hofstede-globe/./node_modules/react-map-gl/dist/esm/utils/dynamic-position.js","webpack://hofstede-globe/./node_modules/react-map-gl/dist/esm/components/popup.js","webpack://hofstede-globe/./node_modules/react-map-gl/dist/esm/components/attribution-control.js","webpack://hofstede-globe/./node_modules/react-map-gl/dist/esm/components/fullscreen-control.js","webpack://hofstede-globe/./node_modules/react-map-gl/dist/esm/utils/geolocate-utils.js","webpack://hofstede-globe/./node_modules/react-map-gl/dist/esm/components/geolocate-control.js","webpack://hofstede-globe/./node_modules/react-map-gl/dist/esm/components/navigation-control.js","webpack://hofstede-globe/./node_modules/react-map-gl/dist/esm/utils/version.js","webpack://hofstede-globe/./node_modules/react-map-gl/dist/esm/components/scale-control.js","webpack://hofstede-globe/./node_modules/react-map-gl/dist/esm/overlays/canvas-overlay.js","webpack://hofstede-globe/./node_modules/react-map-gl/dist/esm/overlays/html-overlay.js","webpack://hofstede-globe/./node_modules/react-map-gl/dist/esm/overlays/svg-overlay.js","webpack://hofstede-globe/./node_modules/react-map-gl/dist/esm/utils/set-rtl-text-plugin.js","webpack://hofstede-globe/./src/components/map.js","webpack://hofstede-globe/./node_modules/framer-motion/node_modules/tslib/tslib.es6.js","webpack://hofstede-globe/./node_modules/framer-motion/dist/es/motion/features/definitions.mjs","webpack://hofstede-globe/./node_modules/framer-motion/dist/es/context/LazyContext.mjs","webpack://hofstede-globe/./node_modules/framer-motion/dist/es/motion/features/use-features.mjs","webpack://hofstede-globe/./node_modules/framer-motion/dist/es/context/MotionConfigContext.mjs","webpack://hofstede-globe/./node_modules/framer-motion/dist/es/context/MotionContext/index.mjs","webpack://hofstede-globe/./node_modules/framer-motion/dist/es/context/PresenceContext.mjs","webpack://hofstede-globe/./node_modules/framer-motion/dist/es/utils/is-browser.mjs","webpack://hofstede-globe/./node_modules/framer-motion/dist/es/utils/use-isomorphic-effect.mjs","webpack://hofstede-globe/./node_modules/framer-motion/dist/es/motion/utils/use-visual-element.mjs","webpack://hofstede-globe/./node_modules/framer-motion/dist/es/utils/is-ref-object.mjs","webpack://hofstede-globe/./node_modules/framer-motion/dist/es/render/utils/variants.mjs","webpack://hofstede-globe/./node_modules/framer-motion/dist/es/context/MotionContext/create.mjs","webpack://hofstede-globe/./node_modules/framer-motion/dist/es/context/MotionContext/utils.mjs","webpack://hofstede-globe/./node_modules/framer-motion/dist/es/utils/use-constant.mjs","webpack://hofstede-globe/./node_modules/framesync/dist/es/on-next-frame.mjs","webpack://hofstede-globe/./node_modules/framesync/dist/es/index.mjs","webpack://hofstede-globe/./node_modules/framesync/dist/es/create-render-step.mjs","webpack://hofstede-globe/./node_modules/popmotion/dist/es/utils/mix.mjs","webpack://hofstede-globe/./node_modules/popmotion/dist/es/utils/velocity-per-second.mjs","webpack://hofstede-globe/./node_modules/framer-motion/dist/es/utils/array.mjs","webpack://hofstede-globe/./node_modules/framer-motion/dist/es/utils/subscription-manager.mjs","webpack://hofstede-globe/./node_modules/framer-motion/dist/es/value/index.mjs","webpack://hofstede-globe/./node_modules/framer-motion/dist/es/value/utils/is-motion-value.mjs","webpack://hofstede-globe/./node_modules/popmotion/node_modules/tslib/tslib.es6.js","webpack://hofstede-globe/./node_modules/popmotion/dist/es/utils/clamp.mjs","webpack://hofstede-globe/./node_modules/popmotion/dist/es/animations/utils/find-spring.mjs","webpack://hofstede-globe/./node_modules/popmotion/dist/es/animations/generators/spring.mjs","webpack://hofstede-globe/./node_modules/popmotion/dist/es/utils/progress.mjs","webpack://hofstede-globe/./node_modules/style-value-types/dist/es/utils.mjs","webpack://hofstede-globe/./node_modules/style-value-types/dist/es/numbers/index.mjs","webpack://hofstede-globe/./node_modules/style-value-types/dist/es/color/utils.mjs","webpack://hofstede-globe/./node_modules/style-value-types/dist/es/color/rgba.mjs","webpack://hofstede-globe/./node_modules/style-value-types/dist/es/color/hex.mjs","webpack://hofstede-globe/./node_modules/style-value-types/dist/es/numbers/units.mjs","webpack://hofstede-globe/./node_modules/style-value-types/dist/es/color/hsla.mjs","webpack://hofstede-globe/./node_modules/popmotion/dist/es/utils/hsla-to-rgba.mjs","webpack://hofstede-globe/./node_modules/popmotion/dist/es/utils/mix-color.mjs","webpack://hofstede-globe/./node_modules/style-value-types/dist/es/color/index.mjs","webpack://hofstede-globe/./node_modules/style-value-types/dist/es/complex/index.mjs","webpack://hofstede-globe/./node_modules/popmotion/dist/es/utils/inc.mjs","webpack://hofstede-globe/./node_modules/popmotion/dist/es/utils/pipe.mjs","webpack://hofstede-globe/./node_modules/popmotion/dist/es/utils/mix-complex.mjs","webpack://hofstede-globe/./node_modules/popmotion/dist/es/utils/interpolate.mjs","webpack://hofstede-globe/./node_modules/popmotion/dist/es/easing/utils.mjs","webpack://hofstede-globe/./node_modules/popmotion/dist/es/easing/index.mjs","webpack://hofstede-globe/./node_modules/popmotion/dist/es/animations/generators/keyframes.mjs","webpack://hofstede-globe/./node_modules/popmotion/dist/es/animations/utils/detect-animation-from-options.mjs","webpack://hofstede-globe/./node_modules/popmotion/dist/es/animations/generators/decay.mjs","webpack://hofstede-globe/./node_modules/popmotion/dist/es/animations/utils/elapsed.mjs","webpack://hofstede-globe/./node_modules/popmotion/dist/es/animations/index.mjs","webpack://hofstede-globe/./node_modules/framer-motion/dist/es/utils/time-conversion.mjs","webpack://hofstede-globe/./node_modules/popmotion/dist/es/easing/cubic-bezier.mjs","webpack://hofstede-globe/./node_modules/framer-motion/dist/es/animation/utils/easing.mjs","webpack://hofstede-globe/./node_modules/framer-motion/dist/es/animation/utils/is-animatable.mjs","webpack://hofstede-globe/./node_modules/framer-motion/dist/es/animation/utils/is-keyframes-target.mjs","webpack://hofstede-globe/./node_modules/framer-motion/dist/es/animation/utils/default-transitions.mjs","webpack://hofstede-globe/./node_modules/style-value-types/dist/es/complex/filter.mjs","webpack://hofstede-globe/./node_modules/framer-motion/dist/es/render/dom/value-types/type-int.mjs","webpack://hofstede-globe/./node_modules/framer-motion/dist/es/render/dom/value-types/number.mjs","webpack://hofstede-globe/./node_modules/framer-motion/dist/es/render/dom/value-types/defaults.mjs","webpack://hofstede-globe/./node_modules/framer-motion/dist/es/render/dom/value-types/animatable-none.mjs","webpack://hofstede-globe/./node_modules/framer-motion/dist/es/utils/use-instant-transition-state.mjs","webpack://hofstede-globe/./node_modules/framer-motion/dist/es/utils/resolve-value.mjs","webpack://hofstede-globe/./node_modules/framer-motion/dist/es/animation/utils/transitions.mjs","webpack://hofstede-globe/./node_modules/popmotion/dist/es/animations/inertia.mjs","webpack://hofstede-globe/./node_modules/framer-motion/dist/es/projection/animation/mix-values.mjs","webpack://hofstede-globe/./node_modules/framer-motion/dist/es/projection/geometry/copy.mjs","webpack://hofstede-globe/./node_modules/framer-motion/dist/es/projection/utils/has-transform.mjs","webpack://hofstede-globe/./node_modules/framer-motion/dist/es/projection/geometry/delta-apply.mjs","webpack://hofstede-globe/./node_modules/popmotion/dist/es/utils/is-point.mjs","webpack://hofstede-globe/./node_modules/popmotion/dist/es/utils/is-point-3d.mjs","webpack://hofstede-globe/./node_modules/popmotion/dist/es/utils/distance.mjs","webpack://hofstede-globe/./node_modules/framer-motion/dist/es/projection/geometry/delta-calc.mjs","webpack://hofstede-globe/./node_modules/framer-motion/dist/es/projection/geometry/delta-remove.mjs","webpack://hofstede-globe/./node_modules/framer-motion/dist/es/projection/geometry/utils.mjs","webpack://hofstede-globe/./node_modules/framer-motion/dist/es/projection/shared/stack.mjs","webpack://hofstede-globe/./node_modules/framer-motion/dist/es/projection/styles/scale-correction.mjs","webpack://hofstede-globe/./node_modules/framer-motion/dist/es/projection/styles/transform.mjs","webpack://hofstede-globe/./node_modules/framer-motion/dist/es/projection/utils/each-axis.mjs","webpack://hofstede-globe/./node_modules/framer-motion/dist/es/render/html/utils/transform.mjs","webpack://hofstede-globe/./node_modules/framer-motion/dist/es/render/utils/compare-by-depth.mjs","webpack://hofstede-globe/./node_modules/framer-motion/dist/es/render/utils/flat-tree.mjs","webpack://hofstede-globe/./node_modules/framer-motion/dist/es/value/utils/resolve-motion-value.mjs","webpack://hofstede-globe/./node_modules/framer-motion/dist/es/projection/node/create-projection-node.mjs","webpack://hofstede-globe/./node_modules/framer-motion/dist/es/projection/geometry/models.mjs","webpack://hofstede-globe/./node_modules/framer-motion/dist/es/animation/animate.mjs","webpack://hofstede-globe/./node_modules/framer-motion/dist/es/projection/node/id.mjs","webpack://hofstede-globe/./node_modules/framer-motion/dist/es/context/LayoutGroupContext.mjs","webpack://hofstede-globe/./node_modules/framer-motion/dist/es/context/SwitchLayoutGroupContext.mjs","webpack://hofstede-globe/./node_modules/framer-motion/dist/es/motion/utils/VisualElementHandler.mjs","webpack://hofstede-globe/./node_modules/framer-motion/dist/es/motion/index.mjs","webpack://hofstede-globe/./node_modules/framer-motion/dist/es/motion/features/use-projection.mjs","webpack://hofstede-globe/./node_modules/framer-motion/dist/es/motion/utils/use-motion-ref.mjs","webpack://hofstede-globe/./node_modules/framer-motion/dist/es/render/dom/motion-proxy.mjs","webpack://hofstede-globe/./node_modules/framer-motion/dist/es/render/svg/lowercase-elements.mjs","webpack://hofstede-globe/./node_modules/framer-motion/dist/es/render/dom/utils/is-svg-component.mjs","webpack://hofstede-globe/./node_modules/framer-motion/dist/es/motion/utils/is-forced-motion-value.mjs","webpack://hofstede-globe/./node_modules/framer-motion/dist/es/render/html/utils/build-transform.mjs","webpack://hofstede-globe/./node_modules/framer-motion/dist/es/render/dom/utils/is-css-variable.mjs","webpack://hofstede-globe/./node_modules/framer-motion/dist/es/render/dom/value-types/get-as-type.mjs","webpack://hofstede-globe/./node_modules/framer-motion/dist/es/render/html/utils/build-styles.mjs","webpack://hofstede-globe/./node_modules/framer-motion/dist/es/render/html/utils/create-render-state.mjs","webpack://hofstede-globe/./node_modules/framer-motion/dist/es/render/html/use-props.mjs","webpack://hofstede-globe/./node_modules/framer-motion/dist/es/motion/utils/valid-prop.mjs","webpack://hofstede-globe/./node_modules/framer-motion/dist/es/render/dom/utils/filter-props.mjs","webpack://hofstede-globe/./node_modules/framer-motion/dist/es/render/svg/utils/transform-origin.mjs","webpack://hofstede-globe/./node_modules/framer-motion/dist/es/render/svg/utils/path.mjs","webpack://hofstede-globe/./node_modules/framer-motion/dist/es/render/svg/utils/build-attrs.mjs","webpack://hofstede-globe/./node_modules/framer-motion/dist/es/render/svg/utils/create-render-state.mjs","webpack://hofstede-globe/./node_modules/framer-motion/dist/es/render/svg/use-props.mjs","webpack://hofstede-globe/./node_modules/framer-motion/dist/es/render/dom/use-render.mjs","webpack://hofstede-globe/./node_modules/framer-motion/dist/es/render/dom/utils/camel-to-dash.mjs","webpack://hofstede-globe/./node_modules/framer-motion/dist/es/render/html/utils/render.mjs","webpack://hofstede-globe/./node_modules/framer-motion/dist/es/render/svg/utils/camel-case-attrs.mjs","webpack://hofstede-globe/./node_modules/framer-motion/dist/es/render/svg/utils/render.mjs","webpack://hofstede-globe/./node_modules/framer-motion/dist/es/render/html/utils/scrape-motion-values.mjs","webpack://hofstede-globe/./node_modules/framer-motion/dist/es/render/svg/utils/scrape-motion-values.mjs","webpack://hofstede-globe/./node_modules/framer-motion/dist/es/animation/utils/is-animation-controls.mjs","webpack://hofstede-globe/./node_modules/framer-motion/dist/es/motion/utils/use-visual-state.mjs","webpack://hofstede-globe/./node_modules/framer-motion/dist/es/render/svg/config-motion.mjs","webpack://hofstede-globe/./node_modules/framer-motion/dist/es/render/utils/types.mjs","webpack://hofstede-globe/./node_modules/framer-motion/dist/es/render/html/config-motion.mjs","webpack://hofstede-globe/./node_modules/framer-motion/dist/es/events/use-dom-event.mjs","webpack://hofstede-globe/./node_modules/framer-motion/dist/es/gestures/utils/event-type.mjs","webpack://hofstede-globe/./node_modules/framer-motion/dist/es/events/event-info.mjs","webpack://hofstede-globe/./node_modules/framer-motion/dist/es/events/use-pointer-event.mjs","webpack://hofstede-globe/./node_modules/framer-motion/dist/es/events/utils.mjs","webpack://hofstede-globe/./node_modules/framer-motion/dist/es/gestures/drag/utils/lock.mjs","webpack://hofstede-globe/./node_modules/framer-motion/dist/es/gestures/use-hover-gesture.mjs","webpack://hofstede-globe/./node_modules/framer-motion/dist/es/gestures/utils/is-node-or-child.mjs","webpack://hofstede-globe/./node_modules/framer-motion/dist/es/utils/use-unmount-effect.mjs","webpack://hofstede-globe/./node_modules/framer-motion/dist/es/motion/features/viewport/observers.mjs","webpack://hofstede-globe/./node_modules/framer-motion/dist/es/motion/features/viewport/use-viewport.mjs","webpack://hofstede-globe/./node_modules/framer-motion/dist/es/motion/utils/make-renderless-component.mjs","webpack://hofstede-globe/./node_modules/framer-motion/dist/es/motion/features/gestures.mjs","webpack://hofstede-globe/./node_modules/framer-motion/dist/es/gestures/use-tap-gesture.mjs","webpack://hofstede-globe/./node_modules/framer-motion/dist/es/gestures/use-focus-gesture.mjs","webpack://hofstede-globe/./node_modules/framer-motion/dist/es/components/AnimatePresence/use-presence.mjs","webpack://hofstede-globe/./node_modules/framer-motion/dist/es/utils/shallow-compare.mjs","webpack://hofstede-globe/./node_modules/framer-motion/dist/es/utils/is-numerical-string.mjs","webpack://hofstede-globe/./node_modules/framer-motion/dist/es/utils/is-zero-value-string.mjs","webpack://hofstede-globe/./node_modules/framer-motion/dist/es/render/dom/value-types/test.mjs","webpack://hofstede-globe/./node_modules/framer-motion/dist/es/render/dom/value-types/dimensions.mjs","webpack://hofstede-globe/./node_modules/framer-motion/dist/es/render/dom/value-types/type-auto.mjs","webpack://hofstede-globe/./node_modules/framer-motion/dist/es/render/dom/value-types/find.mjs","webpack://hofstede-globe/./node_modules/framer-motion/dist/es/render/utils/setters.mjs","webpack://hofstede-globe/./node_modules/framer-motion/dist/es/render/utils/animation.mjs","webpack://hofstede-globe/./node_modules/framer-motion/dist/es/render/utils/animation-state.mjs","webpack://hofstede-globe/./node_modules/framer-motion/dist/es/motion/features/animations.mjs","webpack://hofstede-globe/./node_modules/framer-motion/dist/es/gestures/PanSession.mjs","webpack://hofstede-globe/./node_modules/framer-motion/dist/es/gestures/drag/utils/constraints.mjs","webpack://hofstede-globe/./node_modules/framer-motion/dist/es/projection/geometry/conversion.mjs","webpack://hofstede-globe/./node_modules/framer-motion/dist/es/projection/utils/measure.mjs","webpack://hofstede-globe/./node_modules/framer-motion/dist/es/gestures/drag/VisualElementDragControls.mjs","webpack://hofstede-globe/./node_modules/framer-motion/dist/es/motion/features/drag.mjs","webpack://hofstede-globe/./node_modules/framer-motion/dist/es/gestures/use-pan-gesture.mjs","webpack://hofstede-globe/./node_modules/framer-motion/dist/es/gestures/drag/use-drag.mjs","webpack://hofstede-globe/./node_modules/framer-motion/dist/es/render/utils/lifecycles.mjs","webpack://hofstede-globe/./node_modules/framer-motion/dist/es/render/index.mjs","webpack://hofstede-globe/./node_modules/framer-motion/dist/es/render/utils/motion-values.mjs","webpack://hofstede-globe/./node_modules/framer-motion/dist/es/render/dom/utils/css-variables-conversion.mjs","webpack://hofstede-globe/./node_modules/framer-motion/dist/es/render/dom/utils/unit-conversion.mjs","webpack://hofstede-globe/./node_modules/framer-motion/dist/es/render/dom/utils/parse-dom-variant.mjs","webpack://hofstede-globe/./node_modules/framer-motion/dist/es/render/html/visual-element.mjs","webpack://hofstede-globe/./node_modules/framer-motion/dist/es/render/svg/visual-element.mjs","webpack://hofstede-globe/./node_modules/framer-motion/dist/es/render/dom/create-visual-element.mjs","webpack://hofstede-globe/./node_modules/framer-motion/dist/es/projection/styles/scale-border-radius.mjs","webpack://hofstede-globe/./node_modules/framer-motion/dist/es/projection/styles/scale-box-shadow.mjs","webpack://hofstede-globe/./node_modules/framer-motion/dist/es/motion/features/layout/MeasureLayout.mjs","webpack://hofstede-globe/./node_modules/framer-motion/dist/es/motion/features/layout/index.mjs","webpack://hofstede-globe/./node_modules/framer-motion/dist/es/projection/node/DocumentProjectionNode.mjs","webpack://hofstede-globe/./node_modules/framer-motion/dist/es/projection/node/HTMLProjectionNode.mjs","webpack://hofstede-globe/./node_modules/framer-motion/dist/es/render/dom/motion.mjs","webpack://hofstede-globe/./node_modules/framer-motion/dist/es/render/dom/utils/create-config.mjs","webpack://hofstede-globe/./src/components/menu.js","webpack://hofstede-globe/./src/components/menu-item.js","webpack://hofstede-globe/./node_modules/framer-motion/dist/es/components/AnimatePresence/PresenceChild.mjs","webpack://hofstede-globe/./node_modules/framer-motion/dist/es/components/AnimatePresence/index.mjs","webpack://hofstede-globe/./node_modules/framer-motion/dist/es/utils/use-force-update.mjs","webpack://hofstede-globe/./src/components/more-info.js","webpack://hofstede-globe/./src/components/sidebar.js","webpack://hofstede-globe/./src/pages/index.js"],"sourcesContent":["function _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n\n  for (var i = 0, arr2 = new Array(len); i < len; i++) {\n    arr2[i] = arr[i];\n  }\n\n  return arr2;\n}\n\nmodule.exports = _arrayLikeToArray, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","function _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}\n\nmodule.exports = _arrayWithHoles, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","var arrayLikeToArray = require(\"./arrayLikeToArray.js\");\n\nfunction _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) return arrayLikeToArray(arr);\n}\n\nmodule.exports = _arrayWithoutHoles, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","function _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nmodule.exports = _classCallCheck, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","var setPrototypeOf = require(\"./setPrototypeOf.js\");\n\nvar isNativeReflectConstruct = require(\"./isNativeReflectConstruct.js\");\n\nfunction _construct(Parent, args, Class) {\n  if (isNativeReflectConstruct()) {\n    module.exports = _construct = Reflect.construct, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;\n  } else {\n    module.exports = _construct = function _construct(Parent, args, Class) {\n      var a = [null];\n      a.push.apply(a, args);\n      var Constructor = Function.bind.apply(Parent, a);\n      var instance = new Constructor();\n      if (Class) setPrototypeOf(instance, Class.prototype);\n      return instance;\n    }, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;\n  }\n\n  return _construct.apply(null, arguments);\n}\n\nmodule.exports = _construct, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","function _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  Object.defineProperty(Constructor, \"prototype\", {\n    writable: false\n  });\n  return Constructor;\n}\n\nmodule.exports = _createClass, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nmodule.exports = _defineProperty, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","var superPropBase = require(\"./superPropBase.js\");\n\nfunction _get() {\n  if (typeof Reflect !== \"undefined\" && Reflect.get) {\n    module.exports = _get = Reflect.get, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;\n  } else {\n    module.exports = _get = function _get(target, property, receiver) {\n      var base = superPropBase(target, property);\n      if (!base) return;\n      var desc = Object.getOwnPropertyDescriptor(base, property);\n\n      if (desc.get) {\n        return desc.get.call(arguments.length < 3 ? target : receiver);\n      }\n\n      return desc.value;\n    }, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;\n  }\n\n  return _get.apply(this, arguments);\n}\n\nmodule.exports = _get, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","function _getPrototypeOf(o) {\n  module.exports = _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  }, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;\n  return _getPrototypeOf(o);\n}\n\nmodule.exports = _getPrototypeOf, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","var setPrototypeOf = require(\"./setPrototypeOf.js\");\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  Object.defineProperty(subClass, \"prototype\", {\n    value: Object.create(superClass && superClass.prototype, {\n      constructor: {\n        value: subClass,\n        writable: true,\n        configurable: true\n      }\n    }),\n    writable: false\n  });\n  if (superClass) setPrototypeOf(subClass, superClass);\n}\n\nmodule.exports = _inherits, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","function _isNativeFunction(fn) {\n  return Function.toString.call(fn).indexOf(\"[native code]\") !== -1;\n}\n\nmodule.exports = _isNativeFunction, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","function _isNativeReflectConstruct() {\n  if (typeof Reflect === \"undefined\" || !Reflect.construct) return false;\n  if (Reflect.construct.sham) return false;\n  if (typeof Proxy === \"function\") return true;\n\n  try {\n    Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {}));\n    return true;\n  } catch (e) {\n    return false;\n  }\n}\n\nmodule.exports = _isNativeReflectConstruct, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","function _iterableToArray(iter) {\n  if (typeof Symbol !== \"undefined\" && iter[Symbol.iterator] != null || iter[\"@@iterator\"] != null) return Array.from(iter);\n}\n\nmodule.exports = _iterableToArray, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","function _iterableToArrayLimit(arr, i) {\n  var _i = arr == null ? null : typeof Symbol !== \"undefined\" && arr[Symbol.iterator] || arr[\"@@iterator\"];\n\n  if (_i == null) return;\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n\n  var _s, _e;\n\n  try {\n    for (_i = _i.call(arr); !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}\n\nmodule.exports = _iterableToArrayLimit, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","function _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\n\nmodule.exports = _nonIterableRest, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","function _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\n\nmodule.exports = _nonIterableSpread, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","var _typeof = require(\"@babel/runtime/helpers/typeof\")[\"default\"];\n\nvar assertThisInitialized = require(\"./assertThisInitialized.js\");\n\nfunction _possibleConstructorReturn(self, call) {\n  if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) {\n    return call;\n  } else if (call !== void 0) {\n    throw new TypeError(\"Derived constructors may only return object or undefined\");\n  }\n\n  return assertThisInitialized(self);\n}\n\nmodule.exports = _possibleConstructorReturn, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","var arrayWithHoles = require(\"./arrayWithHoles.js\");\n\nvar iterableToArrayLimit = require(\"./iterableToArrayLimit.js\");\n\nvar unsupportedIterableToArray = require(\"./unsupportedIterableToArray.js\");\n\nvar nonIterableRest = require(\"./nonIterableRest.js\");\n\nfunction _slicedToArray(arr, i) {\n  return arrayWithHoles(arr) || iterableToArrayLimit(arr, i) || unsupportedIterableToArray(arr, i) || nonIterableRest();\n}\n\nmodule.exports = _slicedToArray, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","var getPrototypeOf = require(\"./getPrototypeOf.js\");\n\nfunction _superPropBase(object, property) {\n  while (!Object.prototype.hasOwnProperty.call(object, property)) {\n    object = getPrototypeOf(object);\n    if (object === null) break;\n  }\n\n  return object;\n}\n\nmodule.exports = _superPropBase, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","var arrayWithHoles = require(\"./arrayWithHoles.js\");\n\nvar iterableToArray = require(\"./iterableToArray.js\");\n\nvar unsupportedIterableToArray = require(\"./unsupportedIterableToArray.js\");\n\nvar nonIterableRest = require(\"./nonIterableRest.js\");\n\nfunction _toArray(arr) {\n  return arrayWithHoles(arr) || iterableToArray(arr) || unsupportedIterableToArray(arr) || nonIterableRest();\n}\n\nmodule.exports = _toArray, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","var arrayWithoutHoles = require(\"./arrayWithoutHoles.js\");\n\nvar iterableToArray = require(\"./iterableToArray.js\");\n\nvar unsupportedIterableToArray = require(\"./unsupportedIterableToArray.js\");\n\nvar nonIterableSpread = require(\"./nonIterableSpread.js\");\n\nfunction _toConsumableArray(arr) {\n  return arrayWithoutHoles(arr) || iterableToArray(arr) || unsupportedIterableToArray(arr) || nonIterableSpread();\n}\n\nmodule.exports = _toConsumableArray, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","function _typeof(obj) {\n  \"@babel/helpers - typeof\";\n\n  return (module.exports = _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) {\n    return typeof obj;\n  } : function (obj) {\n    return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n  }, module.exports.__esModule = true, module.exports[\"default\"] = module.exports), _typeof(obj);\n}\n\nmodule.exports = _typeof, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","var arrayLikeToArray = require(\"./arrayLikeToArray.js\");\n\nfunction _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return arrayLikeToArray(o, minLen);\n}\n\nmodule.exports = _unsupportedIterableToArray, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","var getPrototypeOf = require(\"./getPrototypeOf.js\");\n\nvar setPrototypeOf = require(\"./setPrototypeOf.js\");\n\nvar isNativeFunction = require(\"./isNativeFunction.js\");\n\nvar construct = require(\"./construct.js\");\n\nfunction _wrapNativeSuper(Class) {\n  var _cache = typeof Map === \"function\" ? new Map() : undefined;\n\n  module.exports = _wrapNativeSuper = function _wrapNativeSuper(Class) {\n    if (Class === null || !isNativeFunction(Class)) return Class;\n\n    if (typeof Class !== \"function\") {\n      throw new TypeError(\"Super expression must either be null or a function\");\n    }\n\n    if (typeof _cache !== \"undefined\") {\n      if (_cache.has(Class)) return _cache.get(Class);\n\n      _cache.set(Class, Wrapper);\n    }\n\n    function Wrapper() {\n      return construct(Class, arguments, getPrototypeOf(this).constructor);\n    }\n\n    Wrapper.prototype = Object.create(Class.prototype, {\n      constructor: {\n        value: Wrapper,\n        enumerable: false,\n        writable: true,\n        configurable: true\n      }\n    });\n    return setPrototypeOf(Wrapper, Class);\n  }, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;\n  return _wrapNativeSuper(Class);\n}\n\nmodule.exports = _wrapNativeSuper, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","/**\n * chroma.js - JavaScript library for color conversions\n *\n * Copyright (c) 2011-2019, Gregor Aisch\n * All rights reserved.\n *\n * Redistribution and use in source and binary forms, with or without\n * modification, are permitted provided that the following conditions are met:\n *\n * 1. Redistributions of source code must retain the above copyright notice, this\n * list of conditions and the following disclaimer.\n *\n * 2. Redistributions in binary form must reproduce the above copyright notice,\n * this list of conditions and the following disclaimer in the documentation\n * and/or other materials provided with the distribution.\n *\n * 3. The name Gregor Aisch may not be used to endorse or promote products\n * derived from this software without specific prior written permission.\n *\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\"\n * AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE\n * IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE\n * DISCLAIMED. IN NO EVENT SHALL GREGOR AISCH OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT,\n * INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING,\n * BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,\n * DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY\n * OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING\n * NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE,\n * EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n *\n * -------------------------------------------------------\n *\n * chroma.js includes colors from colorbrewer2.org, which are released under\n * the following license:\n *\n * Copyright (c) 2002 Cynthia Brewer, Mark Harrower,\n * and The Pennsylvania State University.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND,\n * either express or implied. See the License for the specific\n * language governing permissions and limitations under the License.\n *\n * ------------------------------------------------------\n *\n * Named colors are taken from X11 Color Names.\n * http://www.w3.org/TR/css3-color/#svg-color\n *\n * @preserve\n */\n(function (global, factory) {\n  typeof exports === 'object' && typeof module !== 'undefined' ? module.exports = factory() : typeof define === 'function' && define.amd ? define(factory) : global.chroma = factory();\n})(this, function () {\n  'use strict';\n\n  var limit = function limit(x, min, max) {\n    if (min === void 0) min = 0;\n    if (max === void 0) max = 1;\n    return x < min ? min : x > max ? max : x;\n  };\n\n  var clip_rgb = function clip_rgb(rgb) {\n    rgb._clipped = false;\n    rgb._unclipped = rgb.slice(0);\n\n    for (var i = 0; i <= 3; i++) {\n      if (i < 3) {\n        if (rgb[i] < 0 || rgb[i] > 255) {\n          rgb._clipped = true;\n        }\n\n        rgb[i] = limit(rgb[i], 0, 255);\n      } else if (i === 3) {\n        rgb[i] = limit(rgb[i], 0, 1);\n      }\n    }\n\n    return rgb;\n  }; // ported from jQuery's $.type\n\n\n  var classToType = {};\n\n  for (var i = 0, list = ['Boolean', 'Number', 'String', 'Function', 'Array', 'Date', 'RegExp', 'Undefined', 'Null']; i < list.length; i += 1) {\n    var name = list[i];\n    classToType[\"[object \" + name + \"]\"] = name.toLowerCase();\n  }\n\n  var type = function type(obj) {\n    return classToType[Object.prototype.toString.call(obj)] || \"object\";\n  };\n\n  var unpack = function unpack(args, keyOrder) {\n    if (keyOrder === void 0) keyOrder = null; // if called with more than 3 arguments, we return the arguments\n\n    if (args.length >= 3) {\n      return Array.prototype.slice.call(args);\n    } // with less than 3 args we check if first arg is object\n    // and use the keyOrder string to extract and sort properties\n\n\n    if (type(args[0]) == 'object' && keyOrder) {\n      return keyOrder.split('').filter(function (k) {\n        return args[0][k] !== undefined;\n      }).map(function (k) {\n        return args[0][k];\n      });\n    } // otherwise we just return the first argument\n    // (which we suppose is an array of args)\n\n\n    return args[0];\n  };\n\n  var last = function last(args) {\n    if (args.length < 2) {\n      return null;\n    }\n\n    var l = args.length - 1;\n\n    if (type(args[l]) == 'string') {\n      return args[l].toLowerCase();\n    }\n\n    return null;\n  };\n\n  var PI = Math.PI;\n  var utils = {\n    clip_rgb: clip_rgb,\n    limit: limit,\n    type: type,\n    unpack: unpack,\n    last: last,\n    PI: PI,\n    TWOPI: PI * 2,\n    PITHIRD: PI / 3,\n    DEG2RAD: PI / 180,\n    RAD2DEG: 180 / PI\n  };\n  var input = {\n    format: {},\n    autodetect: []\n  };\n  var last$1 = utils.last;\n  var clip_rgb$1 = utils.clip_rgb;\n  var type$1 = utils.type;\n\n  var Color = function Color() {\n    var args = [],\n        len = arguments.length;\n\n    while (len--) {\n      args[len] = arguments[len];\n    }\n\n    var me = this;\n\n    if (type$1(args[0]) === 'object' && args[0].constructor && args[0].constructor === this.constructor) {\n      // the argument is already a Color instance\n      return args[0];\n    } // last argument could be the mode\n\n\n    var mode = last$1(args);\n    var autodetect = false;\n\n    if (!mode) {\n      autodetect = true;\n\n      if (!input.sorted) {\n        input.autodetect = input.autodetect.sort(function (a, b) {\n          return b.p - a.p;\n        });\n        input.sorted = true;\n      } // auto-detect format\n\n\n      for (var i = 0, list = input.autodetect; i < list.length; i += 1) {\n        var chk = list[i];\n        mode = chk.test.apply(chk, args);\n\n        if (mode) {\n          break;\n        }\n      }\n    }\n\n    if (input.format[mode]) {\n      var rgb = input.format[mode].apply(null, autodetect ? args : args.slice(0, -1));\n      me._rgb = clip_rgb$1(rgb);\n    } else {\n      throw new Error('unknown format: ' + args);\n    } // add alpha channel\n\n\n    if (me._rgb.length === 3) {\n      me._rgb.push(1);\n    }\n  };\n\n  Color.prototype.toString = function toString() {\n    if (type$1(this.hex) == 'function') {\n      return this.hex();\n    }\n\n    return \"[\" + this._rgb.join(',') + \"]\";\n  };\n\n  var Color_1 = Color;\n\n  var chroma = function chroma() {\n    var args = [],\n        len = arguments.length;\n\n    while (len--) {\n      args[len] = arguments[len];\n    }\n\n    return new (Function.prototype.bind.apply(chroma.Color, [null].concat(args)))();\n  };\n\n  chroma.Color = Color_1;\n  chroma.version = '2.1.2';\n  var chroma_1 = chroma;\n  var unpack$1 = utils.unpack;\n  var max = Math.max;\n\n  var rgb2cmyk = function rgb2cmyk() {\n    var args = [],\n        len = arguments.length;\n\n    while (len--) {\n      args[len] = arguments[len];\n    }\n\n    var ref = unpack$1(args, 'rgb');\n    var r = ref[0];\n    var g = ref[1];\n    var b = ref[2];\n    r = r / 255;\n    g = g / 255;\n    b = b / 255;\n    var k = 1 - max(r, max(g, b));\n    var f = k < 1 ? 1 / (1 - k) : 0;\n    var c = (1 - r - k) * f;\n    var m = (1 - g - k) * f;\n    var y = (1 - b - k) * f;\n    return [c, m, y, k];\n  };\n\n  var rgb2cmyk_1 = rgb2cmyk;\n  var unpack$2 = utils.unpack;\n\n  var cmyk2rgb = function cmyk2rgb() {\n    var args = [],\n        len = arguments.length;\n\n    while (len--) {\n      args[len] = arguments[len];\n    }\n\n    args = unpack$2(args, 'cmyk');\n    var c = args[0];\n    var m = args[1];\n    var y = args[2];\n    var k = args[3];\n    var alpha = args.length > 4 ? args[4] : 1;\n\n    if (k === 1) {\n      return [0, 0, 0, alpha];\n    }\n\n    return [c >= 1 ? 0 : 255 * (1 - c) * (1 - k), // r\n    m >= 1 ? 0 : 255 * (1 - m) * (1 - k), // g\n    y >= 1 ? 0 : 255 * (1 - y) * (1 - k), // b\n    alpha];\n  };\n\n  var cmyk2rgb_1 = cmyk2rgb;\n  var unpack$3 = utils.unpack;\n  var type$2 = utils.type;\n\n  Color_1.prototype.cmyk = function () {\n    return rgb2cmyk_1(this._rgb);\n  };\n\n  chroma_1.cmyk = function () {\n    var args = [],\n        len = arguments.length;\n\n    while (len--) {\n      args[len] = arguments[len];\n    }\n\n    return new (Function.prototype.bind.apply(Color_1, [null].concat(args, ['cmyk'])))();\n  };\n\n  input.format.cmyk = cmyk2rgb_1;\n  input.autodetect.push({\n    p: 2,\n    test: function test() {\n      var args = [],\n          len = arguments.length;\n\n      while (len--) {\n        args[len] = arguments[len];\n      }\n\n      args = unpack$3(args, 'cmyk');\n\n      if (type$2(args) === 'array' && args.length === 4) {\n        return 'cmyk';\n      }\n    }\n  });\n  var unpack$4 = utils.unpack;\n  var last$2 = utils.last;\n\n  var rnd = function rnd(a) {\n    return Math.round(a * 100) / 100;\n  };\n  /*\n   * supported arguments:\n   * - hsl2css(h,s,l)\n   * - hsl2css(h,s,l,a)\n   * - hsl2css([h,s,l], mode)\n   * - hsl2css([h,s,l,a], mode)\n   * - hsl2css({h,s,l,a}, mode)\n   */\n\n\n  var hsl2css = function hsl2css() {\n    var args = [],\n        len = arguments.length;\n\n    while (len--) {\n      args[len] = arguments[len];\n    }\n\n    var hsla = unpack$4(args, 'hsla');\n    var mode = last$2(args) || 'lsa';\n    hsla[0] = rnd(hsla[0] || 0);\n    hsla[1] = rnd(hsla[1] * 100) + '%';\n    hsla[2] = rnd(hsla[2] * 100) + '%';\n\n    if (mode === 'hsla' || hsla.length > 3 && hsla[3] < 1) {\n      hsla[3] = hsla.length > 3 ? hsla[3] : 1;\n      mode = 'hsla';\n    } else {\n      hsla.length = 3;\n    }\n\n    return mode + \"(\" + hsla.join(',') + \")\";\n  };\n\n  var hsl2css_1 = hsl2css;\n  var unpack$5 = utils.unpack;\n  /*\n   * supported arguments:\n   * - rgb2hsl(r,g,b)\n   * - rgb2hsl(r,g,b,a)\n   * - rgb2hsl([r,g,b])\n   * - rgb2hsl([r,g,b,a])\n   * - rgb2hsl({r,g,b,a})\n   */\n\n  var rgb2hsl = function rgb2hsl() {\n    var args = [],\n        len = arguments.length;\n\n    while (len--) {\n      args[len] = arguments[len];\n    }\n\n    args = unpack$5(args, 'rgba');\n    var r = args[0];\n    var g = args[1];\n    var b = args[2];\n    r /= 255;\n    g /= 255;\n    b /= 255;\n    var min = Math.min(r, g, b);\n    var max = Math.max(r, g, b);\n    var l = (max + min) / 2;\n    var s, h;\n\n    if (max === min) {\n      s = 0;\n      h = Number.NaN;\n    } else {\n      s = l < 0.5 ? (max - min) / (max + min) : (max - min) / (2 - max - min);\n    }\n\n    if (r == max) {\n      h = (g - b) / (max - min);\n    } else if (g == max) {\n      h = 2 + (b - r) / (max - min);\n    } else if (b == max) {\n      h = 4 + (r - g) / (max - min);\n    }\n\n    h *= 60;\n\n    if (h < 0) {\n      h += 360;\n    }\n\n    if (args.length > 3 && args[3] !== undefined) {\n      return [h, s, l, args[3]];\n    }\n\n    return [h, s, l];\n  };\n\n  var rgb2hsl_1 = rgb2hsl;\n  var unpack$6 = utils.unpack;\n  var last$3 = utils.last;\n  var round = Math.round;\n  /*\n   * supported arguments:\n   * - rgb2css(r,g,b)\n   * - rgb2css(r,g,b,a)\n   * - rgb2css([r,g,b], mode)\n   * - rgb2css([r,g,b,a], mode)\n   * - rgb2css({r,g,b,a}, mode)\n   */\n\n  var rgb2css = function rgb2css() {\n    var args = [],\n        len = arguments.length;\n\n    while (len--) {\n      args[len] = arguments[len];\n    }\n\n    var rgba = unpack$6(args, 'rgba');\n    var mode = last$3(args) || 'rgb';\n\n    if (mode.substr(0, 3) == 'hsl') {\n      return hsl2css_1(rgb2hsl_1(rgba), mode);\n    }\n\n    rgba[0] = round(rgba[0]);\n    rgba[1] = round(rgba[1]);\n    rgba[2] = round(rgba[2]);\n\n    if (mode === 'rgba' || rgba.length > 3 && rgba[3] < 1) {\n      rgba[3] = rgba.length > 3 ? rgba[3] : 1;\n      mode = 'rgba';\n    }\n\n    return mode + \"(\" + rgba.slice(0, mode === 'rgb' ? 3 : 4).join(',') + \")\";\n  };\n\n  var rgb2css_1 = rgb2css;\n  var unpack$7 = utils.unpack;\n  var round$1 = Math.round;\n\n  var hsl2rgb = function hsl2rgb() {\n    var assign;\n    var args = [],\n        len = arguments.length;\n\n    while (len--) {\n      args[len] = arguments[len];\n    }\n\n    args = unpack$7(args, 'hsl');\n    var h = args[0];\n    var s = args[1];\n    var l = args[2];\n    var r, g, b;\n\n    if (s === 0) {\n      r = g = b = l * 255;\n    } else {\n      var t3 = [0, 0, 0];\n      var c = [0, 0, 0];\n      var t2 = l < 0.5 ? l * (1 + s) : l + s - l * s;\n      var t1 = 2 * l - t2;\n      var h_ = h / 360;\n      t3[0] = h_ + 1 / 3;\n      t3[1] = h_;\n      t3[2] = h_ - 1 / 3;\n\n      for (var i = 0; i < 3; i++) {\n        if (t3[i] < 0) {\n          t3[i] += 1;\n        }\n\n        if (t3[i] > 1) {\n          t3[i] -= 1;\n        }\n\n        if (6 * t3[i] < 1) {\n          c[i] = t1 + (t2 - t1) * 6 * t3[i];\n        } else if (2 * t3[i] < 1) {\n          c[i] = t2;\n        } else if (3 * t3[i] < 2) {\n          c[i] = t1 + (t2 - t1) * (2 / 3 - t3[i]) * 6;\n        } else {\n          c[i] = t1;\n        }\n      }\n\n      assign = [round$1(c[0] * 255), round$1(c[1] * 255), round$1(c[2] * 255)], r = assign[0], g = assign[1], b = assign[2];\n    }\n\n    if (args.length > 3) {\n      // keep alpha channel\n      return [r, g, b, args[3]];\n    }\n\n    return [r, g, b, 1];\n  };\n\n  var hsl2rgb_1 = hsl2rgb;\n  var RE_RGB = /^rgb\\(\\s*(-?\\d+),\\s*(-?\\d+)\\s*,\\s*(-?\\d+)\\s*\\)$/;\n  var RE_RGBA = /^rgba\\(\\s*(-?\\d+),\\s*(-?\\d+)\\s*,\\s*(-?\\d+)\\s*,\\s*([01]|[01]?\\.\\d+)\\)$/;\n  var RE_RGB_PCT = /^rgb\\(\\s*(-?\\d+(?:\\.\\d+)?)%,\\s*(-?\\d+(?:\\.\\d+)?)%\\s*,\\s*(-?\\d+(?:\\.\\d+)?)%\\s*\\)$/;\n  var RE_RGBA_PCT = /^rgba\\(\\s*(-?\\d+(?:\\.\\d+)?)%,\\s*(-?\\d+(?:\\.\\d+)?)%\\s*,\\s*(-?\\d+(?:\\.\\d+)?)%\\s*,\\s*([01]|[01]?\\.\\d+)\\)$/;\n  var RE_HSL = /^hsl\\(\\s*(-?\\d+(?:\\.\\d+)?),\\s*(-?\\d+(?:\\.\\d+)?)%\\s*,\\s*(-?\\d+(?:\\.\\d+)?)%\\s*\\)$/;\n  var RE_HSLA = /^hsla\\(\\s*(-?\\d+(?:\\.\\d+)?),\\s*(-?\\d+(?:\\.\\d+)?)%\\s*,\\s*(-?\\d+(?:\\.\\d+)?)%\\s*,\\s*([01]|[01]?\\.\\d+)\\)$/;\n  var round$2 = Math.round;\n\n  var css2rgb = function css2rgb(css) {\n    css = css.toLowerCase().trim();\n    var m;\n\n    if (input.format.named) {\n      try {\n        return input.format.named(css);\n      } catch (e) {// eslint-disable-next-line\n      }\n    } // rgb(250,20,0)\n\n\n    if (m = css.match(RE_RGB)) {\n      var rgb = m.slice(1, 4);\n\n      for (var i = 0; i < 3; i++) {\n        rgb[i] = +rgb[i];\n      }\n\n      rgb[3] = 1; // default alpha\n\n      return rgb;\n    } // rgba(250,20,0,0.4)\n\n\n    if (m = css.match(RE_RGBA)) {\n      var rgb$1 = m.slice(1, 5);\n\n      for (var i$1 = 0; i$1 < 4; i$1++) {\n        rgb$1[i$1] = +rgb$1[i$1];\n      }\n\n      return rgb$1;\n    } // rgb(100%,0%,0%)\n\n\n    if (m = css.match(RE_RGB_PCT)) {\n      var rgb$2 = m.slice(1, 4);\n\n      for (var i$2 = 0; i$2 < 3; i$2++) {\n        rgb$2[i$2] = round$2(rgb$2[i$2] * 2.55);\n      }\n\n      rgb$2[3] = 1; // default alpha\n\n      return rgb$2;\n    } // rgba(100%,0%,0%,0.4)\n\n\n    if (m = css.match(RE_RGBA_PCT)) {\n      var rgb$3 = m.slice(1, 5);\n\n      for (var i$3 = 0; i$3 < 3; i$3++) {\n        rgb$3[i$3] = round$2(rgb$3[i$3] * 2.55);\n      }\n\n      rgb$3[3] = +rgb$3[3];\n      return rgb$3;\n    } // hsl(0,100%,50%)\n\n\n    if (m = css.match(RE_HSL)) {\n      var hsl = m.slice(1, 4);\n      hsl[1] *= 0.01;\n      hsl[2] *= 0.01;\n      var rgb$4 = hsl2rgb_1(hsl);\n      rgb$4[3] = 1;\n      return rgb$4;\n    } // hsla(0,100%,50%,0.5)\n\n\n    if (m = css.match(RE_HSLA)) {\n      var hsl$1 = m.slice(1, 4);\n      hsl$1[1] *= 0.01;\n      hsl$1[2] *= 0.01;\n      var rgb$5 = hsl2rgb_1(hsl$1);\n      rgb$5[3] = +m[4]; // default alpha = 1\n\n      return rgb$5;\n    }\n  };\n\n  css2rgb.test = function (s) {\n    return RE_RGB.test(s) || RE_RGBA.test(s) || RE_RGB_PCT.test(s) || RE_RGBA_PCT.test(s) || RE_HSL.test(s) || RE_HSLA.test(s);\n  };\n\n  var css2rgb_1 = css2rgb;\n  var type$3 = utils.type;\n\n  Color_1.prototype.css = function (mode) {\n    return rgb2css_1(this._rgb, mode);\n  };\n\n  chroma_1.css = function () {\n    var args = [],\n        len = arguments.length;\n\n    while (len--) {\n      args[len] = arguments[len];\n    }\n\n    return new (Function.prototype.bind.apply(Color_1, [null].concat(args, ['css'])))();\n  };\n\n  input.format.css = css2rgb_1;\n  input.autodetect.push({\n    p: 5,\n    test: function test(h) {\n      var rest = [],\n          len = arguments.length - 1;\n\n      while (len-- > 0) {\n        rest[len] = arguments[len + 1];\n      }\n\n      if (!rest.length && type$3(h) === 'string' && css2rgb_1.test(h)) {\n        return 'css';\n      }\n    }\n  });\n  var unpack$8 = utils.unpack;\n\n  input.format.gl = function () {\n    var args = [],\n        len = arguments.length;\n\n    while (len--) {\n      args[len] = arguments[len];\n    }\n\n    var rgb = unpack$8(args, 'rgba');\n    rgb[0] *= 255;\n    rgb[1] *= 255;\n    rgb[2] *= 255;\n    return rgb;\n  };\n\n  chroma_1.gl = function () {\n    var args = [],\n        len = arguments.length;\n\n    while (len--) {\n      args[len] = arguments[len];\n    }\n\n    return new (Function.prototype.bind.apply(Color_1, [null].concat(args, ['gl'])))();\n  };\n\n  Color_1.prototype.gl = function () {\n    var rgb = this._rgb;\n    return [rgb[0] / 255, rgb[1] / 255, rgb[2] / 255, rgb[3]];\n  };\n\n  var unpack$9 = utils.unpack;\n\n  var rgb2hcg = function rgb2hcg() {\n    var args = [],\n        len = arguments.length;\n\n    while (len--) {\n      args[len] = arguments[len];\n    }\n\n    var ref = unpack$9(args, 'rgb');\n    var r = ref[0];\n    var g = ref[1];\n    var b = ref[2];\n    var min = Math.min(r, g, b);\n    var max = Math.max(r, g, b);\n    var delta = max - min;\n    var c = delta * 100 / 255;\n\n    var _g = min / (255 - delta) * 100;\n\n    var h;\n\n    if (delta === 0) {\n      h = Number.NaN;\n    } else {\n      if (r === max) {\n        h = (g - b) / delta;\n      }\n\n      if (g === max) {\n        h = 2 + (b - r) / delta;\n      }\n\n      if (b === max) {\n        h = 4 + (r - g) / delta;\n      }\n\n      h *= 60;\n\n      if (h < 0) {\n        h += 360;\n      }\n    }\n\n    return [h, c, _g];\n  };\n\n  var rgb2hcg_1 = rgb2hcg;\n  var unpack$a = utils.unpack;\n  var floor = Math.floor;\n  /*\n   * this is basically just HSV with some minor tweaks\n   *\n   * hue.. [0..360]\n   * chroma .. [0..1]\n   * grayness .. [0..1]\n   */\n\n  var hcg2rgb = function hcg2rgb() {\n    var assign, assign$1, assign$2, assign$3, assign$4, assign$5;\n    var args = [],\n        len = arguments.length;\n\n    while (len--) {\n      args[len] = arguments[len];\n    }\n\n    args = unpack$a(args, 'hcg');\n    var h = args[0];\n    var c = args[1];\n    var _g = args[2];\n    var r, g, b;\n    _g = _g * 255;\n\n    var _c = c * 255;\n\n    if (c === 0) {\n      r = g = b = _g;\n    } else {\n      if (h === 360) {\n        h = 0;\n      }\n\n      if (h > 360) {\n        h -= 360;\n      }\n\n      if (h < 0) {\n        h += 360;\n      }\n\n      h /= 60;\n      var i = floor(h);\n      var f = h - i;\n      var p = _g * (1 - c);\n      var q = p + _c * (1 - f);\n      var t = p + _c * f;\n      var v = p + _c;\n\n      switch (i) {\n        case 0:\n          assign = [v, t, p], r = assign[0], g = assign[1], b = assign[2];\n          break;\n\n        case 1:\n          assign$1 = [q, v, p], r = assign$1[0], g = assign$1[1], b = assign$1[2];\n          break;\n\n        case 2:\n          assign$2 = [p, v, t], r = assign$2[0], g = assign$2[1], b = assign$2[2];\n          break;\n\n        case 3:\n          assign$3 = [p, q, v], r = assign$3[0], g = assign$3[1], b = assign$3[2];\n          break;\n\n        case 4:\n          assign$4 = [t, p, v], r = assign$4[0], g = assign$4[1], b = assign$4[2];\n          break;\n\n        case 5:\n          assign$5 = [v, p, q], r = assign$5[0], g = assign$5[1], b = assign$5[2];\n          break;\n      }\n    }\n\n    return [r, g, b, args.length > 3 ? args[3] : 1];\n  };\n\n  var hcg2rgb_1 = hcg2rgb;\n  var unpack$b = utils.unpack;\n  var type$4 = utils.type;\n\n  Color_1.prototype.hcg = function () {\n    return rgb2hcg_1(this._rgb);\n  };\n\n  chroma_1.hcg = function () {\n    var args = [],\n        len = arguments.length;\n\n    while (len--) {\n      args[len] = arguments[len];\n    }\n\n    return new (Function.prototype.bind.apply(Color_1, [null].concat(args, ['hcg'])))();\n  };\n\n  input.format.hcg = hcg2rgb_1;\n  input.autodetect.push({\n    p: 1,\n    test: function test() {\n      var args = [],\n          len = arguments.length;\n\n      while (len--) {\n        args[len] = arguments[len];\n      }\n\n      args = unpack$b(args, 'hcg');\n\n      if (type$4(args) === 'array' && args.length === 3) {\n        return 'hcg';\n      }\n    }\n  });\n  var unpack$c = utils.unpack;\n  var last$4 = utils.last;\n  var round$3 = Math.round;\n\n  var rgb2hex = function rgb2hex() {\n    var args = [],\n        len = arguments.length;\n\n    while (len--) {\n      args[len] = arguments[len];\n    }\n\n    var ref = unpack$c(args, 'rgba');\n    var r = ref[0];\n    var g = ref[1];\n    var b = ref[2];\n    var a = ref[3];\n    var mode = last$4(args) || 'auto';\n\n    if (a === undefined) {\n      a = 1;\n    }\n\n    if (mode === 'auto') {\n      mode = a < 1 ? 'rgba' : 'rgb';\n    }\n\n    r = round$3(r);\n    g = round$3(g);\n    b = round$3(b);\n    var u = r << 16 | g << 8 | b;\n    var str = \"000000\" + u.toString(16); //#.toUpperCase();\n\n    str = str.substr(str.length - 6);\n    var hxa = '0' + round$3(a * 255).toString(16);\n    hxa = hxa.substr(hxa.length - 2);\n\n    switch (mode.toLowerCase()) {\n      case 'rgba':\n        return \"#\" + str + hxa;\n\n      case 'argb':\n        return \"#\" + hxa + str;\n\n      default:\n        return \"#\" + str;\n    }\n  };\n\n  var rgb2hex_1 = rgb2hex;\n  var RE_HEX = /^#?([A-Fa-f0-9]{6}|[A-Fa-f0-9]{3})$/;\n  var RE_HEXA = /^#?([A-Fa-f0-9]{8}|[A-Fa-f0-9]{4})$/;\n\n  var hex2rgb = function hex2rgb(hex) {\n    if (hex.match(RE_HEX)) {\n      // remove optional leading #\n      if (hex.length === 4 || hex.length === 7) {\n        hex = hex.substr(1);\n      } // expand short-notation to full six-digit\n\n\n      if (hex.length === 3) {\n        hex = hex.split('');\n        hex = hex[0] + hex[0] + hex[1] + hex[1] + hex[2] + hex[2];\n      }\n\n      var u = parseInt(hex, 16);\n      var r = u >> 16;\n      var g = u >> 8 & 0xFF;\n      var b = u & 0xFF;\n      return [r, g, b, 1];\n    } // match rgba hex format, eg #FF000077\n\n\n    if (hex.match(RE_HEXA)) {\n      if (hex.length === 5 || hex.length === 9) {\n        // remove optional leading #\n        hex = hex.substr(1);\n      } // expand short-notation to full eight-digit\n\n\n      if (hex.length === 4) {\n        hex = hex.split('');\n        hex = hex[0] + hex[0] + hex[1] + hex[1] + hex[2] + hex[2] + hex[3] + hex[3];\n      }\n\n      var u$1 = parseInt(hex, 16);\n      var r$1 = u$1 >> 24 & 0xFF;\n      var g$1 = u$1 >> 16 & 0xFF;\n      var b$1 = u$1 >> 8 & 0xFF;\n      var a = Math.round((u$1 & 0xFF) / 0xFF * 100) / 100;\n      return [r$1, g$1, b$1, a];\n    } // we used to check for css colors here\n    // if _input.css? and rgb = _input.css hex\n    //     return rgb\n\n\n    throw new Error(\"unknown hex color: \" + hex);\n  };\n\n  var hex2rgb_1 = hex2rgb;\n  var type$5 = utils.type;\n\n  Color_1.prototype.hex = function (mode) {\n    return rgb2hex_1(this._rgb, mode);\n  };\n\n  chroma_1.hex = function () {\n    var args = [],\n        len = arguments.length;\n\n    while (len--) {\n      args[len] = arguments[len];\n    }\n\n    return new (Function.prototype.bind.apply(Color_1, [null].concat(args, ['hex'])))();\n  };\n\n  input.format.hex = hex2rgb_1;\n  input.autodetect.push({\n    p: 4,\n    test: function test(h) {\n      var rest = [],\n          len = arguments.length - 1;\n\n      while (len-- > 0) {\n        rest[len] = arguments[len + 1];\n      }\n\n      if (!rest.length && type$5(h) === 'string' && [3, 4, 5, 6, 7, 8, 9].indexOf(h.length) >= 0) {\n        return 'hex';\n      }\n    }\n  });\n  var unpack$d = utils.unpack;\n  var TWOPI = utils.TWOPI;\n  var min = Math.min;\n  var sqrt = Math.sqrt;\n  var acos = Math.acos;\n\n  var rgb2hsi = function rgb2hsi() {\n    var args = [],\n        len = arguments.length;\n\n    while (len--) {\n      args[len] = arguments[len];\n    }\n    /*\n    borrowed from here:\n    http://hummer.stanford.edu/museinfo/doc/examples/humdrum/keyscape2/rgb2hsi.cpp\n    */\n\n\n    var ref = unpack$d(args, 'rgb');\n    var r = ref[0];\n    var g = ref[1];\n    var b = ref[2];\n    r /= 255;\n    g /= 255;\n    b /= 255;\n    var h;\n    var min_ = min(r, g, b);\n    var i = (r + g + b) / 3;\n    var s = i > 0 ? 1 - min_ / i : 0;\n\n    if (s === 0) {\n      h = NaN;\n    } else {\n      h = (r - g + (r - b)) / 2;\n      h /= sqrt((r - g) * (r - g) + (r - b) * (g - b));\n      h = acos(h);\n\n      if (b > g) {\n        h = TWOPI - h;\n      }\n\n      h /= TWOPI;\n    }\n\n    return [h * 360, s, i];\n  };\n\n  var rgb2hsi_1 = rgb2hsi;\n  var unpack$e = utils.unpack;\n  var limit$1 = utils.limit;\n  var TWOPI$1 = utils.TWOPI;\n  var PITHIRD = utils.PITHIRD;\n  var cos = Math.cos;\n  /*\n   * hue [0..360]\n   * saturation [0..1]\n   * intensity [0..1]\n   */\n\n  var hsi2rgb = function hsi2rgb() {\n    var args = [],\n        len = arguments.length;\n\n    while (len--) {\n      args[len] = arguments[len];\n    }\n    /*\n    borrowed from here:\n    http://hummer.stanford.edu/museinfo/doc/examples/humdrum/keyscape2/hsi2rgb.cpp\n    */\n\n\n    args = unpack$e(args, 'hsi');\n    var h = args[0];\n    var s = args[1];\n    var i = args[2];\n    var r, g, b;\n\n    if (isNaN(h)) {\n      h = 0;\n    }\n\n    if (isNaN(s)) {\n      s = 0;\n    } // normalize hue\n\n\n    if (h > 360) {\n      h -= 360;\n    }\n\n    if (h < 0) {\n      h += 360;\n    }\n\n    h /= 360;\n\n    if (h < 1 / 3) {\n      b = (1 - s) / 3;\n      r = (1 + s * cos(TWOPI$1 * h) / cos(PITHIRD - TWOPI$1 * h)) / 3;\n      g = 1 - (b + r);\n    } else if (h < 2 / 3) {\n      h -= 1 / 3;\n      r = (1 - s) / 3;\n      g = (1 + s * cos(TWOPI$1 * h) / cos(PITHIRD - TWOPI$1 * h)) / 3;\n      b = 1 - (r + g);\n    } else {\n      h -= 2 / 3;\n      g = (1 - s) / 3;\n      b = (1 + s * cos(TWOPI$1 * h) / cos(PITHIRD - TWOPI$1 * h)) / 3;\n      r = 1 - (g + b);\n    }\n\n    r = limit$1(i * r * 3);\n    g = limit$1(i * g * 3);\n    b = limit$1(i * b * 3);\n    return [r * 255, g * 255, b * 255, args.length > 3 ? args[3] : 1];\n  };\n\n  var hsi2rgb_1 = hsi2rgb;\n  var unpack$f = utils.unpack;\n  var type$6 = utils.type;\n\n  Color_1.prototype.hsi = function () {\n    return rgb2hsi_1(this._rgb);\n  };\n\n  chroma_1.hsi = function () {\n    var args = [],\n        len = arguments.length;\n\n    while (len--) {\n      args[len] = arguments[len];\n    }\n\n    return new (Function.prototype.bind.apply(Color_1, [null].concat(args, ['hsi'])))();\n  };\n\n  input.format.hsi = hsi2rgb_1;\n  input.autodetect.push({\n    p: 2,\n    test: function test() {\n      var args = [],\n          len = arguments.length;\n\n      while (len--) {\n        args[len] = arguments[len];\n      }\n\n      args = unpack$f(args, 'hsi');\n\n      if (type$6(args) === 'array' && args.length === 3) {\n        return 'hsi';\n      }\n    }\n  });\n  var unpack$g = utils.unpack;\n  var type$7 = utils.type;\n\n  Color_1.prototype.hsl = function () {\n    return rgb2hsl_1(this._rgb);\n  };\n\n  chroma_1.hsl = function () {\n    var args = [],\n        len = arguments.length;\n\n    while (len--) {\n      args[len] = arguments[len];\n    }\n\n    return new (Function.prototype.bind.apply(Color_1, [null].concat(args, ['hsl'])))();\n  };\n\n  input.format.hsl = hsl2rgb_1;\n  input.autodetect.push({\n    p: 2,\n    test: function test() {\n      var args = [],\n          len = arguments.length;\n\n      while (len--) {\n        args[len] = arguments[len];\n      }\n\n      args = unpack$g(args, 'hsl');\n\n      if (type$7(args) === 'array' && args.length === 3) {\n        return 'hsl';\n      }\n    }\n  });\n  var unpack$h = utils.unpack;\n  var min$1 = Math.min;\n  var max$1 = Math.max;\n  /*\n   * supported arguments:\n   * - rgb2hsv(r,g,b)\n   * - rgb2hsv([r,g,b])\n   * - rgb2hsv({r,g,b})\n   */\n\n  var rgb2hsl$1 = function rgb2hsl$1() {\n    var args = [],\n        len = arguments.length;\n\n    while (len--) {\n      args[len] = arguments[len];\n    }\n\n    args = unpack$h(args, 'rgb');\n    var r = args[0];\n    var g = args[1];\n    var b = args[2];\n    var min_ = min$1(r, g, b);\n    var max_ = max$1(r, g, b);\n    var delta = max_ - min_;\n    var h, s, v;\n    v = max_ / 255.0;\n\n    if (max_ === 0) {\n      h = Number.NaN;\n      s = 0;\n    } else {\n      s = delta / max_;\n\n      if (r === max_) {\n        h = (g - b) / delta;\n      }\n\n      if (g === max_) {\n        h = 2 + (b - r) / delta;\n      }\n\n      if (b === max_) {\n        h = 4 + (r - g) / delta;\n      }\n\n      h *= 60;\n\n      if (h < 0) {\n        h += 360;\n      }\n    }\n\n    return [h, s, v];\n  };\n\n  var rgb2hsv = rgb2hsl$1;\n  var unpack$i = utils.unpack;\n  var floor$1 = Math.floor;\n\n  var hsv2rgb = function hsv2rgb() {\n    var assign, assign$1, assign$2, assign$3, assign$4, assign$5;\n    var args = [],\n        len = arguments.length;\n\n    while (len--) {\n      args[len] = arguments[len];\n    }\n\n    args = unpack$i(args, 'hsv');\n    var h = args[0];\n    var s = args[1];\n    var v = args[2];\n    var r, g, b;\n    v *= 255;\n\n    if (s === 0) {\n      r = g = b = v;\n    } else {\n      if (h === 360) {\n        h = 0;\n      }\n\n      if (h > 360) {\n        h -= 360;\n      }\n\n      if (h < 0) {\n        h += 360;\n      }\n\n      h /= 60;\n      var i = floor$1(h);\n      var f = h - i;\n      var p = v * (1 - s);\n      var q = v * (1 - s * f);\n      var t = v * (1 - s * (1 - f));\n\n      switch (i) {\n        case 0:\n          assign = [v, t, p], r = assign[0], g = assign[1], b = assign[2];\n          break;\n\n        case 1:\n          assign$1 = [q, v, p], r = assign$1[0], g = assign$1[1], b = assign$1[2];\n          break;\n\n        case 2:\n          assign$2 = [p, v, t], r = assign$2[0], g = assign$2[1], b = assign$2[2];\n          break;\n\n        case 3:\n          assign$3 = [p, q, v], r = assign$3[0], g = assign$3[1], b = assign$3[2];\n          break;\n\n        case 4:\n          assign$4 = [t, p, v], r = assign$4[0], g = assign$4[1], b = assign$4[2];\n          break;\n\n        case 5:\n          assign$5 = [v, p, q], r = assign$5[0], g = assign$5[1], b = assign$5[2];\n          break;\n      }\n    }\n\n    return [r, g, b, args.length > 3 ? args[3] : 1];\n  };\n\n  var hsv2rgb_1 = hsv2rgb;\n  var unpack$j = utils.unpack;\n  var type$8 = utils.type;\n\n  Color_1.prototype.hsv = function () {\n    return rgb2hsv(this._rgb);\n  };\n\n  chroma_1.hsv = function () {\n    var args = [],\n        len = arguments.length;\n\n    while (len--) {\n      args[len] = arguments[len];\n    }\n\n    return new (Function.prototype.bind.apply(Color_1, [null].concat(args, ['hsv'])))();\n  };\n\n  input.format.hsv = hsv2rgb_1;\n  input.autodetect.push({\n    p: 2,\n    test: function test() {\n      var args = [],\n          len = arguments.length;\n\n      while (len--) {\n        args[len] = arguments[len];\n      }\n\n      args = unpack$j(args, 'hsv');\n\n      if (type$8(args) === 'array' && args.length === 3) {\n        return 'hsv';\n      }\n    }\n  });\n  var labConstants = {\n    // Corresponds roughly to RGB brighter/darker\n    Kn: 18,\n    // D65 standard referent\n    Xn: 0.950470,\n    Yn: 1,\n    Zn: 1.088830,\n    t0: 0.137931034,\n    // 4 / 29\n    t1: 0.206896552,\n    // 6 / 29\n    t2: 0.12841855,\n    // 3 * t1 * t1\n    t3: 0.008856452 // t1 * t1 * t1\n\n  };\n  var unpack$k = utils.unpack;\n  var pow = Math.pow;\n\n  var rgb2lab = function rgb2lab() {\n    var args = [],\n        len = arguments.length;\n\n    while (len--) {\n      args[len] = arguments[len];\n    }\n\n    var ref = unpack$k(args, 'rgb');\n    var r = ref[0];\n    var g = ref[1];\n    var b = ref[2];\n    var ref$1 = rgb2xyz(r, g, b);\n    var x = ref$1[0];\n    var y = ref$1[1];\n    var z = ref$1[2];\n    var l = 116 * y - 16;\n    return [l < 0 ? 0 : l, 500 * (x - y), 200 * (y - z)];\n  };\n\n  var rgb_xyz = function rgb_xyz(r) {\n    if ((r /= 255) <= 0.04045) {\n      return r / 12.92;\n    }\n\n    return pow((r + 0.055) / 1.055, 2.4);\n  };\n\n  var xyz_lab = function xyz_lab(t) {\n    if (t > labConstants.t3) {\n      return pow(t, 1 / 3);\n    }\n\n    return t / labConstants.t2 + labConstants.t0;\n  };\n\n  var rgb2xyz = function rgb2xyz(r, g, b) {\n    r = rgb_xyz(r);\n    g = rgb_xyz(g);\n    b = rgb_xyz(b);\n    var x = xyz_lab((0.4124564 * r + 0.3575761 * g + 0.1804375 * b) / labConstants.Xn);\n    var y = xyz_lab((0.2126729 * r + 0.7151522 * g + 0.0721750 * b) / labConstants.Yn);\n    var z = xyz_lab((0.0193339 * r + 0.1191920 * g + 0.9503041 * b) / labConstants.Zn);\n    return [x, y, z];\n  };\n\n  var rgb2lab_1 = rgb2lab;\n  var unpack$l = utils.unpack;\n  var pow$1 = Math.pow;\n  /*\n   * L* [0..100]\n   * a [-100..100]\n   * b [-100..100]\n   */\n\n  var lab2rgb = function lab2rgb() {\n    var args = [],\n        len = arguments.length;\n\n    while (len--) {\n      args[len] = arguments[len];\n    }\n\n    args = unpack$l(args, 'lab');\n    var l = args[0];\n    var a = args[1];\n    var b = args[2];\n    var x, y, z, r, g, b_;\n    y = (l + 16) / 116;\n    x = isNaN(a) ? y : y + a / 500;\n    z = isNaN(b) ? y : y - b / 200;\n    y = labConstants.Yn * lab_xyz(y);\n    x = labConstants.Xn * lab_xyz(x);\n    z = labConstants.Zn * lab_xyz(z);\n    r = xyz_rgb(3.2404542 * x - 1.5371385 * y - 0.4985314 * z); // D65 -> sRGB\n\n    g = xyz_rgb(-0.9692660 * x + 1.8760108 * y + 0.0415560 * z);\n    b_ = xyz_rgb(0.0556434 * x - 0.2040259 * y + 1.0572252 * z);\n    return [r, g, b_, args.length > 3 ? args[3] : 1];\n  };\n\n  var xyz_rgb = function xyz_rgb(r) {\n    return 255 * (r <= 0.00304 ? 12.92 * r : 1.055 * pow$1(r, 1 / 2.4) - 0.055);\n  };\n\n  var lab_xyz = function lab_xyz(t) {\n    return t > labConstants.t1 ? t * t * t : labConstants.t2 * (t - labConstants.t0);\n  };\n\n  var lab2rgb_1 = lab2rgb;\n  var unpack$m = utils.unpack;\n  var type$9 = utils.type;\n\n  Color_1.prototype.lab = function () {\n    return rgb2lab_1(this._rgb);\n  };\n\n  chroma_1.lab = function () {\n    var args = [],\n        len = arguments.length;\n\n    while (len--) {\n      args[len] = arguments[len];\n    }\n\n    return new (Function.prototype.bind.apply(Color_1, [null].concat(args, ['lab'])))();\n  };\n\n  input.format.lab = lab2rgb_1;\n  input.autodetect.push({\n    p: 2,\n    test: function test() {\n      var args = [],\n          len = arguments.length;\n\n      while (len--) {\n        args[len] = arguments[len];\n      }\n\n      args = unpack$m(args, 'lab');\n\n      if (type$9(args) === 'array' && args.length === 3) {\n        return 'lab';\n      }\n    }\n  });\n  var unpack$n = utils.unpack;\n  var RAD2DEG = utils.RAD2DEG;\n  var sqrt$1 = Math.sqrt;\n  var atan2 = Math.atan2;\n  var round$4 = Math.round;\n\n  var lab2lch = function lab2lch() {\n    var args = [],\n        len = arguments.length;\n\n    while (len--) {\n      args[len] = arguments[len];\n    }\n\n    var ref = unpack$n(args, 'lab');\n    var l = ref[0];\n    var a = ref[1];\n    var b = ref[2];\n    var c = sqrt$1(a * a + b * b);\n    var h = (atan2(b, a) * RAD2DEG + 360) % 360;\n\n    if (round$4(c * 10000) === 0) {\n      h = Number.NaN;\n    }\n\n    return [l, c, h];\n  };\n\n  var lab2lch_1 = lab2lch;\n  var unpack$o = utils.unpack;\n\n  var rgb2lch = function rgb2lch() {\n    var args = [],\n        len = arguments.length;\n\n    while (len--) {\n      args[len] = arguments[len];\n    }\n\n    var ref = unpack$o(args, 'rgb');\n    var r = ref[0];\n    var g = ref[1];\n    var b = ref[2];\n    var ref$1 = rgb2lab_1(r, g, b);\n    var l = ref$1[0];\n    var a = ref$1[1];\n    var b_ = ref$1[2];\n    return lab2lch_1(l, a, b_);\n  };\n\n  var rgb2lch_1 = rgb2lch;\n  var unpack$p = utils.unpack;\n  var DEG2RAD = utils.DEG2RAD;\n  var sin = Math.sin;\n  var cos$1 = Math.cos;\n\n  var lch2lab = function lch2lab() {\n    var args = [],\n        len = arguments.length;\n\n    while (len--) {\n      args[len] = arguments[len];\n    }\n    /*\n    Convert from a qualitative parameter h and a quantitative parameter l to a 24-bit pixel.\n    These formulas were invented by David Dalrymple to obtain maximum contrast without going\n    out of gamut if the parameters are in the range 0-1.\n     A saturation multiplier was added by Gregor Aisch\n    */\n\n\n    var ref = unpack$p(args, 'lch');\n    var l = ref[0];\n    var c = ref[1];\n    var h = ref[2];\n\n    if (isNaN(h)) {\n      h = 0;\n    }\n\n    h = h * DEG2RAD;\n    return [l, cos$1(h) * c, sin(h) * c];\n  };\n\n  var lch2lab_1 = lch2lab;\n  var unpack$q = utils.unpack;\n\n  var lch2rgb = function lch2rgb() {\n    var args = [],\n        len = arguments.length;\n\n    while (len--) {\n      args[len] = arguments[len];\n    }\n\n    args = unpack$q(args, 'lch');\n    var l = args[0];\n    var c = args[1];\n    var h = args[2];\n    var ref = lch2lab_1(l, c, h);\n    var L = ref[0];\n    var a = ref[1];\n    var b_ = ref[2];\n    var ref$1 = lab2rgb_1(L, a, b_);\n    var r = ref$1[0];\n    var g = ref$1[1];\n    var b = ref$1[2];\n    return [r, g, b, args.length > 3 ? args[3] : 1];\n  };\n\n  var lch2rgb_1 = lch2rgb;\n  var unpack$r = utils.unpack;\n\n  var hcl2rgb = function hcl2rgb() {\n    var args = [],\n        len = arguments.length;\n\n    while (len--) {\n      args[len] = arguments[len];\n    }\n\n    var hcl = unpack$r(args, 'hcl').reverse();\n    return lch2rgb_1.apply(void 0, hcl);\n  };\n\n  var hcl2rgb_1 = hcl2rgb;\n  var unpack$s = utils.unpack;\n  var type$a = utils.type;\n\n  Color_1.prototype.lch = function () {\n    return rgb2lch_1(this._rgb);\n  };\n\n  Color_1.prototype.hcl = function () {\n    return rgb2lch_1(this._rgb).reverse();\n  };\n\n  chroma_1.lch = function () {\n    var args = [],\n        len = arguments.length;\n\n    while (len--) {\n      args[len] = arguments[len];\n    }\n\n    return new (Function.prototype.bind.apply(Color_1, [null].concat(args, ['lch'])))();\n  };\n\n  chroma_1.hcl = function () {\n    var args = [],\n        len = arguments.length;\n\n    while (len--) {\n      args[len] = arguments[len];\n    }\n\n    return new (Function.prototype.bind.apply(Color_1, [null].concat(args, ['hcl'])))();\n  };\n\n  input.format.lch = lch2rgb_1;\n  input.format.hcl = hcl2rgb_1;\n  ['lch', 'hcl'].forEach(function (m) {\n    return input.autodetect.push({\n      p: 2,\n      test: function test() {\n        var args = [],\n            len = arguments.length;\n\n        while (len--) {\n          args[len] = arguments[len];\n        }\n\n        args = unpack$s(args, m);\n\n        if (type$a(args) === 'array' && args.length === 3) {\n          return m;\n        }\n      }\n    });\n  });\n  /**\n  \tX11 color names\n   \thttp://www.w3.org/TR/css3-color/#svg-color\n  */\n\n  var w3cx11 = {\n    aliceblue: '#f0f8ff',\n    antiquewhite: '#faebd7',\n    aqua: '#00ffff',\n    aquamarine: '#7fffd4',\n    azure: '#f0ffff',\n    beige: '#f5f5dc',\n    bisque: '#ffe4c4',\n    black: '#000000',\n    blanchedalmond: '#ffebcd',\n    blue: '#0000ff',\n    blueviolet: '#8a2be2',\n    brown: '#a52a2a',\n    burlywood: '#deb887',\n    cadetblue: '#5f9ea0',\n    chartreuse: '#7fff00',\n    chocolate: '#d2691e',\n    coral: '#ff7f50',\n    cornflower: '#6495ed',\n    cornflowerblue: '#6495ed',\n    cornsilk: '#fff8dc',\n    crimson: '#dc143c',\n    cyan: '#00ffff',\n    darkblue: '#00008b',\n    darkcyan: '#008b8b',\n    darkgoldenrod: '#b8860b',\n    darkgray: '#a9a9a9',\n    darkgreen: '#006400',\n    darkgrey: '#a9a9a9',\n    darkkhaki: '#bdb76b',\n    darkmagenta: '#8b008b',\n    darkolivegreen: '#556b2f',\n    darkorange: '#ff8c00',\n    darkorchid: '#9932cc',\n    darkred: '#8b0000',\n    darksalmon: '#e9967a',\n    darkseagreen: '#8fbc8f',\n    darkslateblue: '#483d8b',\n    darkslategray: '#2f4f4f',\n    darkslategrey: '#2f4f4f',\n    darkturquoise: '#00ced1',\n    darkviolet: '#9400d3',\n    deeppink: '#ff1493',\n    deepskyblue: '#00bfff',\n    dimgray: '#696969',\n    dimgrey: '#696969',\n    dodgerblue: '#1e90ff',\n    firebrick: '#b22222',\n    floralwhite: '#fffaf0',\n    forestgreen: '#228b22',\n    fuchsia: '#ff00ff',\n    gainsboro: '#dcdcdc',\n    ghostwhite: '#f8f8ff',\n    gold: '#ffd700',\n    goldenrod: '#daa520',\n    gray: '#808080',\n    green: '#008000',\n    greenyellow: '#adff2f',\n    grey: '#808080',\n    honeydew: '#f0fff0',\n    hotpink: '#ff69b4',\n    indianred: '#cd5c5c',\n    indigo: '#4b0082',\n    ivory: '#fffff0',\n    khaki: '#f0e68c',\n    laserlemon: '#ffff54',\n    lavender: '#e6e6fa',\n    lavenderblush: '#fff0f5',\n    lawngreen: '#7cfc00',\n    lemonchiffon: '#fffacd',\n    lightblue: '#add8e6',\n    lightcoral: '#f08080',\n    lightcyan: '#e0ffff',\n    lightgoldenrod: '#fafad2',\n    lightgoldenrodyellow: '#fafad2',\n    lightgray: '#d3d3d3',\n    lightgreen: '#90ee90',\n    lightgrey: '#d3d3d3',\n    lightpink: '#ffb6c1',\n    lightsalmon: '#ffa07a',\n    lightseagreen: '#20b2aa',\n    lightskyblue: '#87cefa',\n    lightslategray: '#778899',\n    lightslategrey: '#778899',\n    lightsteelblue: '#b0c4de',\n    lightyellow: '#ffffe0',\n    lime: '#00ff00',\n    limegreen: '#32cd32',\n    linen: '#faf0e6',\n    magenta: '#ff00ff',\n    maroon: '#800000',\n    maroon2: '#7f0000',\n    maroon3: '#b03060',\n    mediumaquamarine: '#66cdaa',\n    mediumblue: '#0000cd',\n    mediumorchid: '#ba55d3',\n    mediumpurple: '#9370db',\n    mediumseagreen: '#3cb371',\n    mediumslateblue: '#7b68ee',\n    mediumspringgreen: '#00fa9a',\n    mediumturquoise: '#48d1cc',\n    mediumvioletred: '#c71585',\n    midnightblue: '#191970',\n    mintcream: '#f5fffa',\n    mistyrose: '#ffe4e1',\n    moccasin: '#ffe4b5',\n    navajowhite: '#ffdead',\n    navy: '#000080',\n    oldlace: '#fdf5e6',\n    olive: '#808000',\n    olivedrab: '#6b8e23',\n    orange: '#ffa500',\n    orangered: '#ff4500',\n    orchid: '#da70d6',\n    palegoldenrod: '#eee8aa',\n    palegreen: '#98fb98',\n    paleturquoise: '#afeeee',\n    palevioletred: '#db7093',\n    papayawhip: '#ffefd5',\n    peachpuff: '#ffdab9',\n    peru: '#cd853f',\n    pink: '#ffc0cb',\n    plum: '#dda0dd',\n    powderblue: '#b0e0e6',\n    purple: '#800080',\n    purple2: '#7f007f',\n    purple3: '#a020f0',\n    rebeccapurple: '#663399',\n    red: '#ff0000',\n    rosybrown: '#bc8f8f',\n    royalblue: '#4169e1',\n    saddlebrown: '#8b4513',\n    salmon: '#fa8072',\n    sandybrown: '#f4a460',\n    seagreen: '#2e8b57',\n    seashell: '#fff5ee',\n    sienna: '#a0522d',\n    silver: '#c0c0c0',\n    skyblue: '#87ceeb',\n    slateblue: '#6a5acd',\n    slategray: '#708090',\n    slategrey: '#708090',\n    snow: '#fffafa',\n    springgreen: '#00ff7f',\n    steelblue: '#4682b4',\n    tan: '#d2b48c',\n    teal: '#008080',\n    thistle: '#d8bfd8',\n    tomato: '#ff6347',\n    turquoise: '#40e0d0',\n    violet: '#ee82ee',\n    wheat: '#f5deb3',\n    white: '#ffffff',\n    whitesmoke: '#f5f5f5',\n    yellow: '#ffff00',\n    yellowgreen: '#9acd32'\n  };\n  var w3cx11_1 = w3cx11;\n  var type$b = utils.type;\n\n  Color_1.prototype.name = function () {\n    var hex = rgb2hex_1(this._rgb, 'rgb');\n\n    for (var i = 0, list = Object.keys(w3cx11_1); i < list.length; i += 1) {\n      var n = list[i];\n\n      if (w3cx11_1[n] === hex) {\n        return n.toLowerCase();\n      }\n    }\n\n    return hex;\n  };\n\n  input.format.named = function (name) {\n    name = name.toLowerCase();\n\n    if (w3cx11_1[name]) {\n      return hex2rgb_1(w3cx11_1[name]);\n    }\n\n    throw new Error('unknown color name: ' + name);\n  };\n\n  input.autodetect.push({\n    p: 5,\n    test: function test(h) {\n      var rest = [],\n          len = arguments.length - 1;\n\n      while (len-- > 0) {\n        rest[len] = arguments[len + 1];\n      }\n\n      if (!rest.length && type$b(h) === 'string' && w3cx11_1[h.toLowerCase()]) {\n        return 'named';\n      }\n    }\n  });\n  var unpack$t = utils.unpack;\n\n  var rgb2num = function rgb2num() {\n    var args = [],\n        len = arguments.length;\n\n    while (len--) {\n      args[len] = arguments[len];\n    }\n\n    var ref = unpack$t(args, 'rgb');\n    var r = ref[0];\n    var g = ref[1];\n    var b = ref[2];\n    return (r << 16) + (g << 8) + b;\n  };\n\n  var rgb2num_1 = rgb2num;\n  var type$c = utils.type;\n\n  var num2rgb = function num2rgb(num) {\n    if (type$c(num) == \"number\" && num >= 0 && num <= 0xFFFFFF) {\n      var r = num >> 16;\n      var g = num >> 8 & 0xFF;\n      var b = num & 0xFF;\n      return [r, g, b, 1];\n    }\n\n    throw new Error(\"unknown num color: \" + num);\n  };\n\n  var num2rgb_1 = num2rgb;\n  var type$d = utils.type;\n\n  Color_1.prototype.num = function () {\n    return rgb2num_1(this._rgb);\n  };\n\n  chroma_1.num = function () {\n    var args = [],\n        len = arguments.length;\n\n    while (len--) {\n      args[len] = arguments[len];\n    }\n\n    return new (Function.prototype.bind.apply(Color_1, [null].concat(args, ['num'])))();\n  };\n\n  input.format.num = num2rgb_1;\n  input.autodetect.push({\n    p: 5,\n    test: function test() {\n      var args = [],\n          len = arguments.length;\n\n      while (len--) {\n        args[len] = arguments[len];\n      }\n\n      if (args.length === 1 && type$d(args[0]) === 'number' && args[0] >= 0 && args[0] <= 0xFFFFFF) {\n        return 'num';\n      }\n    }\n  });\n  var unpack$u = utils.unpack;\n  var type$e = utils.type;\n  var round$5 = Math.round;\n\n  Color_1.prototype.rgb = function (rnd) {\n    if (rnd === void 0) rnd = true;\n\n    if (rnd === false) {\n      return this._rgb.slice(0, 3);\n    }\n\n    return this._rgb.slice(0, 3).map(round$5);\n  };\n\n  Color_1.prototype.rgba = function (rnd) {\n    if (rnd === void 0) rnd = true;\n    return this._rgb.slice(0, 4).map(function (v, i) {\n      return i < 3 ? rnd === false ? v : round$5(v) : v;\n    });\n  };\n\n  chroma_1.rgb = function () {\n    var args = [],\n        len = arguments.length;\n\n    while (len--) {\n      args[len] = arguments[len];\n    }\n\n    return new (Function.prototype.bind.apply(Color_1, [null].concat(args, ['rgb'])))();\n  };\n\n  input.format.rgb = function () {\n    var args = [],\n        len = arguments.length;\n\n    while (len--) {\n      args[len] = arguments[len];\n    }\n\n    var rgba = unpack$u(args, 'rgba');\n\n    if (rgba[3] === undefined) {\n      rgba[3] = 1;\n    }\n\n    return rgba;\n  };\n\n  input.autodetect.push({\n    p: 3,\n    test: function test() {\n      var args = [],\n          len = arguments.length;\n\n      while (len--) {\n        args[len] = arguments[len];\n      }\n\n      args = unpack$u(args, 'rgba');\n\n      if (type$e(args) === 'array' && (args.length === 3 || args.length === 4 && type$e(args[3]) == 'number' && args[3] >= 0 && args[3] <= 1)) {\n        return 'rgb';\n      }\n    }\n  });\n  /*\n   * Based on implementation by Neil Bartlett\n   * https://github.com/neilbartlett/color-temperature\n   */\n\n  var log = Math.log;\n\n  var temperature2rgb = function temperature2rgb(kelvin) {\n    var temp = kelvin / 100;\n    var r, g, b;\n\n    if (temp < 66) {\n      r = 255;\n      g = -155.25485562709179 - 0.44596950469579133 * (g = temp - 2) + 104.49216199393888 * log(g);\n      b = temp < 20 ? 0 : -254.76935184120902 + 0.8274096064007395 * (b = temp - 10) + 115.67994401066147 * log(b);\n    } else {\n      r = 351.97690566805693 + 0.114206453784165 * (r = temp - 55) - 40.25366309332127 * log(r);\n      g = 325.4494125711974 + 0.07943456536662342 * (g = temp - 50) - 28.0852963507957 * log(g);\n      b = 255;\n    }\n\n    return [r, g, b, 1];\n  };\n\n  var temperature2rgb_1 = temperature2rgb;\n  /*\n   * Based on implementation by Neil Bartlett\n   * https://github.com/neilbartlett/color-temperature\n   **/\n\n  var unpack$v = utils.unpack;\n  var round$6 = Math.round;\n\n  var rgb2temperature = function rgb2temperature() {\n    var args = [],\n        len = arguments.length;\n\n    while (len--) {\n      args[len] = arguments[len];\n    }\n\n    var rgb = unpack$v(args, 'rgb');\n    var r = rgb[0],\n        b = rgb[2];\n    var minTemp = 1000;\n    var maxTemp = 40000;\n    var eps = 0.4;\n    var temp;\n\n    while (maxTemp - minTemp > eps) {\n      temp = (maxTemp + minTemp) * 0.5;\n      var rgb$1 = temperature2rgb_1(temp);\n\n      if (rgb$1[2] / rgb$1[0] >= b / r) {\n        maxTemp = temp;\n      } else {\n        minTemp = temp;\n      }\n    }\n\n    return round$6(temp);\n  };\n\n  var rgb2temperature_1 = rgb2temperature;\n\n  Color_1.prototype.temp = Color_1.prototype.kelvin = Color_1.prototype.temperature = function () {\n    return rgb2temperature_1(this._rgb);\n  };\n\n  chroma_1.temp = chroma_1.kelvin = chroma_1.temperature = function () {\n    var args = [],\n        len = arguments.length;\n\n    while (len--) {\n      args[len] = arguments[len];\n    }\n\n    return new (Function.prototype.bind.apply(Color_1, [null].concat(args, ['temp'])))();\n  };\n\n  input.format.temp = input.format.kelvin = input.format.temperature = temperature2rgb_1;\n  var type$f = utils.type;\n\n  Color_1.prototype.alpha = function (a, mutate) {\n    if (mutate === void 0) mutate = false;\n\n    if (a !== undefined && type$f(a) === 'number') {\n      if (mutate) {\n        this._rgb[3] = a;\n        return this;\n      }\n\n      return new Color_1([this._rgb[0], this._rgb[1], this._rgb[2], a], 'rgb');\n    }\n\n    return this._rgb[3];\n  };\n\n  Color_1.prototype.clipped = function () {\n    return this._rgb._clipped || false;\n  };\n\n  Color_1.prototype.darken = function (amount) {\n    if (amount === void 0) amount = 1;\n    var me = this;\n    var lab = me.lab();\n    lab[0] -= labConstants.Kn * amount;\n    return new Color_1(lab, 'lab').alpha(me.alpha(), true);\n  };\n\n  Color_1.prototype.brighten = function (amount) {\n    if (amount === void 0) amount = 1;\n    return this.darken(-amount);\n  };\n\n  Color_1.prototype.darker = Color_1.prototype.darken;\n  Color_1.prototype.brighter = Color_1.prototype.brighten;\n\n  Color_1.prototype.get = function (mc) {\n    var ref = mc.split('.');\n    var mode = ref[0];\n    var channel = ref[1];\n    var src = this[mode]();\n\n    if (channel) {\n      var i = mode.indexOf(channel);\n\n      if (i > -1) {\n        return src[i];\n      }\n\n      throw new Error(\"unknown channel \" + channel + \" in mode \" + mode);\n    } else {\n      return src;\n    }\n  };\n\n  var type$g = utils.type;\n  var pow$2 = Math.pow;\n  var EPS = 1e-7;\n  var MAX_ITER = 20;\n\n  Color_1.prototype.luminance = function (lum) {\n    if (lum !== undefined && type$g(lum) === 'number') {\n      if (lum === 0) {\n        // return pure black\n        return new Color_1([0, 0, 0, this._rgb[3]], 'rgb');\n      }\n\n      if (lum === 1) {\n        // return pure white\n        return new Color_1([255, 255, 255, this._rgb[3]], 'rgb');\n      } // compute new color using...\n\n\n      var cur_lum = this.luminance();\n      var mode = 'rgb';\n      var max_iter = MAX_ITER;\n\n      var test = function test(low, high) {\n        var mid = low.interpolate(high, 0.5, mode);\n        var lm = mid.luminance();\n\n        if (Math.abs(lum - lm) < EPS || !max_iter--) {\n          // close enough\n          return mid;\n        }\n\n        return lm > lum ? test(low, mid) : test(mid, high);\n      };\n\n      var rgb = (cur_lum > lum ? test(new Color_1([0, 0, 0]), this) : test(this, new Color_1([255, 255, 255]))).rgb();\n      return new Color_1(rgb.concat([this._rgb[3]]));\n    }\n\n    return rgb2luminance.apply(void 0, this._rgb.slice(0, 3));\n  };\n\n  var rgb2luminance = function rgb2luminance(r, g, b) {\n    // relative luminance\n    // see http://www.w3.org/TR/2008/REC-WCAG20-20081211/#relativeluminancedef\n    r = luminance_x(r);\n    g = luminance_x(g);\n    b = luminance_x(b);\n    return 0.2126 * r + 0.7152 * g + 0.0722 * b;\n  };\n\n  var luminance_x = function luminance_x(x) {\n    x /= 255;\n    return x <= 0.03928 ? x / 12.92 : pow$2((x + 0.055) / 1.055, 2.4);\n  };\n\n  var interpolator = {};\n  var type$h = utils.type;\n\n  var mix = function mix(col1, col2, f) {\n    if (f === void 0) f = 0.5;\n    var rest = [],\n        len = arguments.length - 3;\n\n    while (len-- > 0) {\n      rest[len] = arguments[len + 3];\n    }\n\n    var mode = rest[0] || 'lrgb';\n\n    if (!interpolator[mode] && !rest.length) {\n      // fall back to the first supported mode\n      mode = Object.keys(interpolator)[0];\n    }\n\n    if (!interpolator[mode]) {\n      throw new Error(\"interpolation mode \" + mode + \" is not defined\");\n    }\n\n    if (type$h(col1) !== 'object') {\n      col1 = new Color_1(col1);\n    }\n\n    if (type$h(col2) !== 'object') {\n      col2 = new Color_1(col2);\n    }\n\n    return interpolator[mode](col1, col2, f).alpha(col1.alpha() + f * (col2.alpha() - col1.alpha()));\n  };\n\n  Color_1.prototype.mix = Color_1.prototype.interpolate = function (col2, f) {\n    if (f === void 0) f = 0.5;\n    var rest = [],\n        len = arguments.length - 2;\n\n    while (len-- > 0) {\n      rest[len] = arguments[len + 2];\n    }\n\n    return mix.apply(void 0, [this, col2, f].concat(rest));\n  };\n\n  Color_1.prototype.premultiply = function (mutate) {\n    if (mutate === void 0) mutate = false;\n    var rgb = this._rgb;\n    var a = rgb[3];\n\n    if (mutate) {\n      this._rgb = [rgb[0] * a, rgb[1] * a, rgb[2] * a, a];\n      return this;\n    } else {\n      return new Color_1([rgb[0] * a, rgb[1] * a, rgb[2] * a, a], 'rgb');\n    }\n  };\n\n  Color_1.prototype.saturate = function (amount) {\n    if (amount === void 0) amount = 1;\n    var me = this;\n    var lch = me.lch();\n    lch[1] += labConstants.Kn * amount;\n\n    if (lch[1] < 0) {\n      lch[1] = 0;\n    }\n\n    return new Color_1(lch, 'lch').alpha(me.alpha(), true);\n  };\n\n  Color_1.prototype.desaturate = function (amount) {\n    if (amount === void 0) amount = 1;\n    return this.saturate(-amount);\n  };\n\n  var type$i = utils.type;\n\n  Color_1.prototype.set = function (mc, value, mutate) {\n    if (mutate === void 0) mutate = false;\n    var ref = mc.split('.');\n    var mode = ref[0];\n    var channel = ref[1];\n    var src = this[mode]();\n\n    if (channel) {\n      var i = mode.indexOf(channel);\n\n      if (i > -1) {\n        if (type$i(value) == 'string') {\n          switch (value.charAt(0)) {\n            case '+':\n              src[i] += +value;\n              break;\n\n            case '-':\n              src[i] += +value;\n              break;\n\n            case '*':\n              src[i] *= +value.substr(1);\n              break;\n\n            case '/':\n              src[i] /= +value.substr(1);\n              break;\n\n            default:\n              src[i] = +value;\n          }\n        } else if (type$i(value) === 'number') {\n          src[i] = value;\n        } else {\n          throw new Error(\"unsupported value for Color.set\");\n        }\n\n        var out = new Color_1(src, mode);\n\n        if (mutate) {\n          this._rgb = out._rgb;\n          return this;\n        }\n\n        return out;\n      }\n\n      throw new Error(\"unknown channel \" + channel + \" in mode \" + mode);\n    } else {\n      return src;\n    }\n  };\n\n  var rgb$1 = function rgb$1(col1, col2, f) {\n    var xyz0 = col1._rgb;\n    var xyz1 = col2._rgb;\n    return new Color_1(xyz0[0] + f * (xyz1[0] - xyz0[0]), xyz0[1] + f * (xyz1[1] - xyz0[1]), xyz0[2] + f * (xyz1[2] - xyz0[2]), 'rgb');\n  }; // register interpolator\n\n\n  interpolator.rgb = rgb$1;\n  var sqrt$2 = Math.sqrt;\n  var pow$3 = Math.pow;\n\n  var lrgb = function lrgb(col1, col2, f) {\n    var ref = col1._rgb;\n    var x1 = ref[0];\n    var y1 = ref[1];\n    var z1 = ref[2];\n    var ref$1 = col2._rgb;\n    var x2 = ref$1[0];\n    var y2 = ref$1[1];\n    var z2 = ref$1[2];\n    return new Color_1(sqrt$2(pow$3(x1, 2) * (1 - f) + pow$3(x2, 2) * f), sqrt$2(pow$3(y1, 2) * (1 - f) + pow$3(y2, 2) * f), sqrt$2(pow$3(z1, 2) * (1 - f) + pow$3(z2, 2) * f), 'rgb');\n  }; // register interpolator\n\n\n  interpolator.lrgb = lrgb;\n\n  var lab$1 = function lab$1(col1, col2, f) {\n    var xyz0 = col1.lab();\n    var xyz1 = col2.lab();\n    return new Color_1(xyz0[0] + f * (xyz1[0] - xyz0[0]), xyz0[1] + f * (xyz1[1] - xyz0[1]), xyz0[2] + f * (xyz1[2] - xyz0[2]), 'lab');\n  }; // register interpolator\n\n\n  interpolator.lab = lab$1;\n\n  var _hsx = function _hsx(col1, col2, f, m) {\n    var assign, assign$1;\n    var xyz0, xyz1;\n\n    if (m === 'hsl') {\n      xyz0 = col1.hsl();\n      xyz1 = col2.hsl();\n    } else if (m === 'hsv') {\n      xyz0 = col1.hsv();\n      xyz1 = col2.hsv();\n    } else if (m === 'hcg') {\n      xyz0 = col1.hcg();\n      xyz1 = col2.hcg();\n    } else if (m === 'hsi') {\n      xyz0 = col1.hsi();\n      xyz1 = col2.hsi();\n    } else if (m === 'lch' || m === 'hcl') {\n      m = 'hcl';\n      xyz0 = col1.hcl();\n      xyz1 = col2.hcl();\n    }\n\n    var hue0, hue1, sat0, sat1, lbv0, lbv1;\n\n    if (m.substr(0, 1) === 'h') {\n      assign = xyz0, hue0 = assign[0], sat0 = assign[1], lbv0 = assign[2];\n      assign$1 = xyz1, hue1 = assign$1[0], sat1 = assign$1[1], lbv1 = assign$1[2];\n    }\n\n    var sat, hue, lbv, dh;\n\n    if (!isNaN(hue0) && !isNaN(hue1)) {\n      // both colors have hue\n      if (hue1 > hue0 && hue1 - hue0 > 180) {\n        dh = hue1 - (hue0 + 360);\n      } else if (hue1 < hue0 && hue0 - hue1 > 180) {\n        dh = hue1 + 360 - hue0;\n      } else {\n        dh = hue1 - hue0;\n      }\n\n      hue = hue0 + f * dh;\n    } else if (!isNaN(hue0)) {\n      hue = hue0;\n\n      if ((lbv1 == 1 || lbv1 == 0) && m != 'hsv') {\n        sat = sat0;\n      }\n    } else if (!isNaN(hue1)) {\n      hue = hue1;\n\n      if ((lbv0 == 1 || lbv0 == 0) && m != 'hsv') {\n        sat = sat1;\n      }\n    } else {\n      hue = Number.NaN;\n    }\n\n    if (sat === undefined) {\n      sat = sat0 + f * (sat1 - sat0);\n    }\n\n    lbv = lbv0 + f * (lbv1 - lbv0);\n    return new Color_1([hue, sat, lbv], m);\n  };\n\n  var lch$1 = function lch$1(col1, col2, f) {\n    return _hsx(col1, col2, f, 'lch');\n  }; // register interpolator\n\n\n  interpolator.lch = lch$1;\n  interpolator.hcl = lch$1;\n\n  var num$1 = function num$1(col1, col2, f) {\n    var c1 = col1.num();\n    var c2 = col2.num();\n    return new Color_1(c1 + f * (c2 - c1), 'num');\n  }; // register interpolator\n\n\n  interpolator.num = num$1;\n\n  var hcg$1 = function hcg$1(col1, col2, f) {\n    return _hsx(col1, col2, f, 'hcg');\n  }; // register interpolator\n\n\n  interpolator.hcg = hcg$1;\n\n  var hsi$1 = function hsi$1(col1, col2, f) {\n    return _hsx(col1, col2, f, 'hsi');\n  }; // register interpolator\n\n\n  interpolator.hsi = hsi$1;\n\n  var hsl$1 = function hsl$1(col1, col2, f) {\n    return _hsx(col1, col2, f, 'hsl');\n  }; // register interpolator\n\n\n  interpolator.hsl = hsl$1;\n\n  var hsv$1 = function hsv$1(col1, col2, f) {\n    return _hsx(col1, col2, f, 'hsv');\n  }; // register interpolator\n\n\n  interpolator.hsv = hsv$1;\n  var clip_rgb$2 = utils.clip_rgb;\n  var pow$4 = Math.pow;\n  var sqrt$3 = Math.sqrt;\n  var PI$1 = Math.PI;\n  var cos$2 = Math.cos;\n  var sin$1 = Math.sin;\n  var atan2$1 = Math.atan2;\n\n  var average = function average(colors, mode, weights) {\n    if (mode === void 0) mode = 'lrgb';\n    if (weights === void 0) weights = null;\n    var l = colors.length;\n\n    if (!weights) {\n      weights = Array.from(new Array(l)).map(function () {\n        return 1;\n      });\n    } // normalize weights\n\n\n    var k = l / weights.reduce(function (a, b) {\n      return a + b;\n    });\n    weights.forEach(function (w, i) {\n      weights[i] *= k;\n    }); // convert colors to Color objects\n\n    colors = colors.map(function (c) {\n      return new Color_1(c);\n    });\n\n    if (mode === 'lrgb') {\n      return _average_lrgb(colors, weights);\n    }\n\n    var first = colors.shift();\n    var xyz = first.get(mode);\n    var cnt = [];\n    var dx = 0;\n    var dy = 0; // initial color\n\n    for (var i = 0; i < xyz.length; i++) {\n      xyz[i] = (xyz[i] || 0) * weights[0];\n      cnt.push(isNaN(xyz[i]) ? 0 : weights[0]);\n\n      if (mode.charAt(i) === 'h' && !isNaN(xyz[i])) {\n        var A = xyz[i] / 180 * PI$1;\n        dx += cos$2(A) * weights[0];\n        dy += sin$1(A) * weights[0];\n      }\n    }\n\n    var alpha = first.alpha() * weights[0];\n    colors.forEach(function (c, ci) {\n      var xyz2 = c.get(mode);\n      alpha += c.alpha() * weights[ci + 1];\n\n      for (var i = 0; i < xyz.length; i++) {\n        if (!isNaN(xyz2[i])) {\n          cnt[i] += weights[ci + 1];\n\n          if (mode.charAt(i) === 'h') {\n            var A = xyz2[i] / 180 * PI$1;\n            dx += cos$2(A) * weights[ci + 1];\n            dy += sin$1(A) * weights[ci + 1];\n          } else {\n            xyz[i] += xyz2[i] * weights[ci + 1];\n          }\n        }\n      }\n    });\n\n    for (var i$1 = 0; i$1 < xyz.length; i$1++) {\n      if (mode.charAt(i$1) === 'h') {\n        var A$1 = atan2$1(dy / cnt[i$1], dx / cnt[i$1]) / PI$1 * 180;\n\n        while (A$1 < 0) {\n          A$1 += 360;\n        }\n\n        while (A$1 >= 360) {\n          A$1 -= 360;\n        }\n\n        xyz[i$1] = A$1;\n      } else {\n        xyz[i$1] = xyz[i$1] / cnt[i$1];\n      }\n    }\n\n    alpha /= l;\n    return new Color_1(xyz, mode).alpha(alpha > 0.99999 ? 1 : alpha, true);\n  };\n\n  var _average_lrgb = function _average_lrgb(colors, weights) {\n    var l = colors.length;\n    var xyz = [0, 0, 0, 0];\n\n    for (var i = 0; i < colors.length; i++) {\n      var col = colors[i];\n      var f = weights[i] / l;\n      var rgb = col._rgb;\n      xyz[0] += pow$4(rgb[0], 2) * f;\n      xyz[1] += pow$4(rgb[1], 2) * f;\n      xyz[2] += pow$4(rgb[2], 2) * f;\n      xyz[3] += rgb[3] * f;\n    }\n\n    xyz[0] = sqrt$3(xyz[0]);\n    xyz[1] = sqrt$3(xyz[1]);\n    xyz[2] = sqrt$3(xyz[2]);\n\n    if (xyz[3] > 0.9999999) {\n      xyz[3] = 1;\n    }\n\n    return new Color_1(clip_rgb$2(xyz));\n  }; // minimal multi-purpose interface\n  // @requires utils color analyze\n\n\n  var type$j = utils.type;\n  var pow$5 = Math.pow;\n\n  var scale = function scale(colors) {\n    // constructor\n    var _mode = 'rgb';\n\n    var _nacol = chroma_1('#ccc');\n\n    var _spread = 0; // const _fixed = false;\n\n    var _domain = [0, 1];\n    var _pos = [];\n    var _padding = [0, 0];\n    var _classes = false;\n    var _colors = [];\n    var _out = false;\n    var _min = 0;\n    var _max = 1;\n    var _correctLightness = false;\n    var _colorCache = {};\n    var _useCache = true;\n    var _gamma = 1; // private methods\n\n    var setColors = function setColors(colors) {\n      colors = colors || ['#fff', '#000'];\n\n      if (colors && type$j(colors) === 'string' && chroma_1.brewer && chroma_1.brewer[colors.toLowerCase()]) {\n        colors = chroma_1.brewer[colors.toLowerCase()];\n      }\n\n      if (type$j(colors) === 'array') {\n        // handle single color\n        if (colors.length === 1) {\n          colors = [colors[0], colors[0]];\n        } // make a copy of the colors\n\n\n        colors = colors.slice(0); // convert to chroma classes\n\n        for (var c = 0; c < colors.length; c++) {\n          colors[c] = chroma_1(colors[c]);\n        } // auto-fill color position\n\n\n        _pos.length = 0;\n\n        for (var c$1 = 0; c$1 < colors.length; c$1++) {\n          _pos.push(c$1 / (colors.length - 1));\n        }\n      }\n\n      resetCache();\n      return _colors = colors;\n    };\n\n    var getClass = function getClass(value) {\n      if (_classes != null) {\n        var n = _classes.length - 1;\n        var i = 0;\n\n        while (i < n && value >= _classes[i]) {\n          i++;\n        }\n\n        return i - 1;\n      }\n\n      return 0;\n    };\n\n    var tMapLightness = function tMapLightness(t) {\n      return t;\n    };\n\n    var tMapDomain = function tMapDomain(t) {\n      return t;\n    }; // const classifyValue = function(value) {\n    //     let val = value;\n    //     if (_classes.length > 2) {\n    //         const n = _classes.length-1;\n    //         const i = getClass(value);\n    //         const minc = _classes[0] + ((_classes[1]-_classes[0]) * (0 + (_spread * 0.5)));  // center of 1st class\n    //         const maxc = _classes[n-1] + ((_classes[n]-_classes[n-1]) * (1 - (_spread * 0.5)));  // center of last class\n    //         val = _min + ((((_classes[i] + ((_classes[i+1] - _classes[i]) * 0.5)) - minc) / (maxc-minc)) * (_max - _min));\n    //     }\n    //     return val;\n    // };\n\n\n    var getColor = function getColor(val, bypassMap) {\n      var col, t;\n\n      if (bypassMap == null) {\n        bypassMap = false;\n      }\n\n      if (isNaN(val) || val === null) {\n        return _nacol;\n      }\n\n      if (!bypassMap) {\n        if (_classes && _classes.length > 2) {\n          // find the class\n          var c = getClass(val);\n          t = c / (_classes.length - 2);\n        } else if (_max !== _min) {\n          // just interpolate between min/max\n          t = (val - _min) / (_max - _min);\n        } else {\n          t = 1;\n        }\n      } else {\n        t = val;\n      } // domain map\n\n\n      t = tMapDomain(t);\n\n      if (!bypassMap) {\n        t = tMapLightness(t); // lightness correction\n      }\n\n      if (_gamma !== 1) {\n        t = pow$5(t, _gamma);\n      }\n\n      t = _padding[0] + t * (1 - _padding[0] - _padding[1]);\n      t = Math.min(1, Math.max(0, t));\n      var k = Math.floor(t * 10000);\n\n      if (_useCache && _colorCache[k]) {\n        col = _colorCache[k];\n      } else {\n        if (type$j(_colors) === 'array') {\n          //for i in [0.._pos.length-1]\n          for (var i = 0; i < _pos.length; i++) {\n            var p = _pos[i];\n\n            if (t <= p) {\n              col = _colors[i];\n              break;\n            }\n\n            if (t >= p && i === _pos.length - 1) {\n              col = _colors[i];\n              break;\n            }\n\n            if (t > p && t < _pos[i + 1]) {\n              t = (t - p) / (_pos[i + 1] - p);\n              col = chroma_1.interpolate(_colors[i], _colors[i + 1], t, _mode);\n              break;\n            }\n          }\n        } else if (type$j(_colors) === 'function') {\n          col = _colors(t);\n        }\n\n        if (_useCache) {\n          _colorCache[k] = col;\n        }\n      }\n\n      return col;\n    };\n\n    var resetCache = function resetCache() {\n      return _colorCache = {};\n    };\n\n    setColors(colors); // public interface\n\n    var f = function f(v) {\n      var c = chroma_1(getColor(v));\n\n      if (_out && c[_out]) {\n        return c[_out]();\n      } else {\n        return c;\n      }\n    };\n\n    f.classes = function (classes) {\n      if (classes != null) {\n        if (type$j(classes) === 'array') {\n          _classes = classes;\n          _domain = [classes[0], classes[classes.length - 1]];\n        } else {\n          var d = chroma_1.analyze(_domain);\n\n          if (classes === 0) {\n            _classes = [d.min, d.max];\n          } else {\n            _classes = chroma_1.limits(d, 'e', classes);\n          }\n        }\n\n        return f;\n      }\n\n      return _classes;\n    };\n\n    f.domain = function (domain) {\n      if (!arguments.length) {\n        return _domain;\n      }\n\n      _min = domain[0];\n      _max = domain[domain.length - 1];\n      _pos = [];\n      var k = _colors.length;\n\n      if (domain.length === k && _min !== _max) {\n        // update positions\n        for (var i = 0, list = Array.from(domain); i < list.length; i += 1) {\n          var d = list[i];\n\n          _pos.push((d - _min) / (_max - _min));\n        }\n      } else {\n        for (var c = 0; c < k; c++) {\n          _pos.push(c / (k - 1));\n        }\n\n        if (domain.length > 2) {\n          // set domain map\n          var tOut = domain.map(function (d, i) {\n            return i / (domain.length - 1);\n          });\n          var tBreaks = domain.map(function (d) {\n            return (d - _min) / (_max - _min);\n          });\n\n          if (!tBreaks.every(function (val, i) {\n            return tOut[i] === val;\n          })) {\n            tMapDomain = function tMapDomain(t) {\n              if (t <= 0 || t >= 1) {\n                return t;\n              }\n\n              var i = 0;\n\n              while (t >= tBreaks[i + 1]) {\n                i++;\n              }\n\n              var f = (t - tBreaks[i]) / (tBreaks[i + 1] - tBreaks[i]);\n              var out = tOut[i] + f * (tOut[i + 1] - tOut[i]);\n              return out;\n            };\n          }\n        }\n      }\n\n      _domain = [_min, _max];\n      return f;\n    };\n\n    f.mode = function (_m) {\n      if (!arguments.length) {\n        return _mode;\n      }\n\n      _mode = _m;\n      resetCache();\n      return f;\n    };\n\n    f.range = function (colors, _pos) {\n      setColors(colors, _pos);\n      return f;\n    };\n\n    f.out = function (_o) {\n      _out = _o;\n      return f;\n    };\n\n    f.spread = function (val) {\n      if (!arguments.length) {\n        return _spread;\n      }\n\n      _spread = val;\n      return f;\n    };\n\n    f.correctLightness = function (v) {\n      if (v == null) {\n        v = true;\n      }\n\n      _correctLightness = v;\n      resetCache();\n\n      if (_correctLightness) {\n        tMapLightness = function tMapLightness(t) {\n          var L0 = getColor(0, true).lab()[0];\n          var L1 = getColor(1, true).lab()[0];\n          var pol = L0 > L1;\n          var L_actual = getColor(t, true).lab()[0];\n          var L_ideal = L0 + (L1 - L0) * t;\n          var L_diff = L_actual - L_ideal;\n          var t0 = 0;\n          var t1 = 1;\n          var max_iter = 20;\n\n          while (Math.abs(L_diff) > 1e-2 && max_iter-- > 0) {\n            (function () {\n              if (pol) {\n                L_diff *= -1;\n              }\n\n              if (L_diff < 0) {\n                t0 = t;\n                t += (t1 - t) * 0.5;\n              } else {\n                t1 = t;\n                t += (t0 - t) * 0.5;\n              }\n\n              L_actual = getColor(t, true).lab()[0];\n              return L_diff = L_actual - L_ideal;\n            })();\n          }\n\n          return t;\n        };\n      } else {\n        tMapLightness = function tMapLightness(t) {\n          return t;\n        };\n      }\n\n      return f;\n    };\n\n    f.padding = function (p) {\n      if (p != null) {\n        if (type$j(p) === 'number') {\n          p = [p, p];\n        }\n\n        _padding = p;\n        return f;\n      } else {\n        return _padding;\n      }\n    };\n\n    f.colors = function (numColors, out) {\n      // If no arguments are given, return the original colors that were provided\n      if (arguments.length < 2) {\n        out = 'hex';\n      }\n\n      var result = [];\n\n      if (arguments.length === 0) {\n        result = _colors.slice(0);\n      } else if (numColors === 1) {\n        result = [f(0.5)];\n      } else if (numColors > 1) {\n        var dm = _domain[0];\n        var dd = _domain[1] - dm;\n        result = __range__(0, numColors, false).map(function (i) {\n          return f(dm + i / (numColors - 1) * dd);\n        });\n      } else {\n        // returns all colors based on the defined classes\n        colors = [];\n        var samples = [];\n\n        if (_classes && _classes.length > 2) {\n          for (var i = 1, end = _classes.length, asc = 1 <= end; asc ? i < end : i > end; asc ? i++ : i--) {\n            samples.push((_classes[i - 1] + _classes[i]) * 0.5);\n          }\n        } else {\n          samples = _domain;\n        }\n\n        result = samples.map(function (v) {\n          return f(v);\n        });\n      }\n\n      if (chroma_1[out]) {\n        result = result.map(function (c) {\n          return c[out]();\n        });\n      }\n\n      return result;\n    };\n\n    f.cache = function (c) {\n      if (c != null) {\n        _useCache = c;\n        return f;\n      } else {\n        return _useCache;\n      }\n    };\n\n    f.gamma = function (g) {\n      if (g != null) {\n        _gamma = g;\n        return f;\n      } else {\n        return _gamma;\n      }\n    };\n\n    f.nodata = function (d) {\n      if (d != null) {\n        _nacol = chroma_1(d);\n        return f;\n      } else {\n        return _nacol;\n      }\n    };\n\n    return f;\n  };\n\n  function __range__(left, right, inclusive) {\n    var range = [];\n    var ascending = left < right;\n    var end = !inclusive ? right : ascending ? right + 1 : right - 1;\n\n    for (var i = left; ascending ? i < end : i > end; ascending ? i++ : i--) {\n      range.push(i);\n    }\n\n    return range;\n  } //\n  // interpolates between a set of colors uzing a bezier spline\n  //\n  // @requires utils lab\n\n\n  var bezier = function bezier(colors) {\n    var assign, assign$1, assign$2;\n    var I, lab0, lab1, lab2;\n    colors = colors.map(function (c) {\n      return new Color_1(c);\n    });\n\n    if (colors.length === 2) {\n      // linear interpolation\n      assign = colors.map(function (c) {\n        return c.lab();\n      }), lab0 = assign[0], lab1 = assign[1];\n\n      I = function I(t) {\n        var lab = [0, 1, 2].map(function (i) {\n          return lab0[i] + t * (lab1[i] - lab0[i]);\n        });\n        return new Color_1(lab, 'lab');\n      };\n    } else if (colors.length === 3) {\n      // quadratic bezier interpolation\n      assign$1 = colors.map(function (c) {\n        return c.lab();\n      }), lab0 = assign$1[0], lab1 = assign$1[1], lab2 = assign$1[2];\n\n      I = function I(t) {\n        var lab = [0, 1, 2].map(function (i) {\n          return (1 - t) * (1 - t) * lab0[i] + 2 * (1 - t) * t * lab1[i] + t * t * lab2[i];\n        });\n        return new Color_1(lab, 'lab');\n      };\n    } else if (colors.length === 4) {\n      // cubic bezier interpolation\n      var lab3;\n      assign$2 = colors.map(function (c) {\n        return c.lab();\n      }), lab0 = assign$2[0], lab1 = assign$2[1], lab2 = assign$2[2], lab3 = assign$2[3];\n\n      I = function I(t) {\n        var lab = [0, 1, 2].map(function (i) {\n          return (1 - t) * (1 - t) * (1 - t) * lab0[i] + 3 * (1 - t) * (1 - t) * t * lab1[i] + 3 * (1 - t) * t * t * lab2[i] + t * t * t * lab3[i];\n        });\n        return new Color_1(lab, 'lab');\n      };\n    } else if (colors.length === 5) {\n      var I0 = bezier(colors.slice(0, 3));\n      var I1 = bezier(colors.slice(2, 5));\n\n      I = function I(t) {\n        if (t < 0.5) {\n          return I0(t * 2);\n        } else {\n          return I1((t - 0.5) * 2);\n        }\n      };\n    }\n\n    return I;\n  };\n\n  var bezier_1 = function bezier_1(colors) {\n    var f = bezier(colors);\n\n    f.scale = function () {\n      return scale(f);\n    };\n\n    return f;\n  };\n  /*\n   * interpolates between a set of colors uzing a bezier spline\n   * blend mode formulas taken from http://www.venture-ware.com/kevin/coding/lets-learn-math-photoshop-blend-modes/\n   */\n\n\n  var blend = function blend(bottom, top, mode) {\n    if (!blend[mode]) {\n      throw new Error('unknown blend mode ' + mode);\n    }\n\n    return blend[mode](bottom, top);\n  };\n\n  var blend_f = function blend_f(f) {\n    return function (bottom, top) {\n      var c0 = chroma_1(top).rgb();\n      var c1 = chroma_1(bottom).rgb();\n      return chroma_1.rgb(f(c0, c1));\n    };\n  };\n\n  var each = function each(f) {\n    return function (c0, c1) {\n      var out = [];\n      out[0] = f(c0[0], c1[0]);\n      out[1] = f(c0[1], c1[1]);\n      out[2] = f(c0[2], c1[2]);\n      return out;\n    };\n  };\n\n  var normal = function normal(a) {\n    return a;\n  };\n\n  var multiply = function multiply(a, b) {\n    return a * b / 255;\n  };\n\n  var darken$1 = function darken$1(a, b) {\n    return a > b ? b : a;\n  };\n\n  var lighten = function lighten(a, b) {\n    return a > b ? a : b;\n  };\n\n  var screen = function screen(a, b) {\n    return 255 * (1 - (1 - a / 255) * (1 - b / 255));\n  };\n\n  var overlay = function overlay(a, b) {\n    return b < 128 ? 2 * a * b / 255 : 255 * (1 - 2 * (1 - a / 255) * (1 - b / 255));\n  };\n\n  var burn = function burn(a, b) {\n    return 255 * (1 - (1 - b / 255) / (a / 255));\n  };\n\n  var dodge = function dodge(a, b) {\n    if (a === 255) {\n      return 255;\n    }\n\n    a = 255 * (b / 255) / (1 - a / 255);\n    return a > 255 ? 255 : a;\n  }; // # add = (a,b) ->\n  // #     if (a + b > 255) then 255 else a + b\n\n\n  blend.normal = blend_f(each(normal));\n  blend.multiply = blend_f(each(multiply));\n  blend.screen = blend_f(each(screen));\n  blend.overlay = blend_f(each(overlay));\n  blend.darken = blend_f(each(darken$1));\n  blend.lighten = blend_f(each(lighten));\n  blend.dodge = blend_f(each(dodge));\n  blend.burn = blend_f(each(burn)); // blend.add = blend_f(each(add));\n\n  var blend_1 = blend; // cubehelix interpolation\n  // based on D.A. Green \"A colour scheme for the display of astronomical intensity images\"\n  // http://astron-soc.in/bulletin/11June/289392011.pdf\n\n  var type$k = utils.type;\n  var clip_rgb$3 = utils.clip_rgb;\n  var TWOPI$2 = utils.TWOPI;\n  var pow$6 = Math.pow;\n  var sin$2 = Math.sin;\n  var cos$3 = Math.cos;\n\n  var cubehelix = function cubehelix(start, rotations, hue, gamma, lightness) {\n    if (start === void 0) start = 300;\n    if (rotations === void 0) rotations = -1.5;\n    if (hue === void 0) hue = 1;\n    if (gamma === void 0) gamma = 1;\n    if (lightness === void 0) lightness = [0, 1];\n    var dh = 0,\n        dl;\n\n    if (type$k(lightness) === 'array') {\n      dl = lightness[1] - lightness[0];\n    } else {\n      dl = 0;\n      lightness = [lightness, lightness];\n    }\n\n    var f = function f(fract) {\n      var a = TWOPI$2 * ((start + 120) / 360 + rotations * fract);\n      var l = pow$6(lightness[0] + dl * fract, gamma);\n      var h = dh !== 0 ? hue[0] + fract * dh : hue;\n      var amp = h * l * (1 - l) / 2;\n      var cos_a = cos$3(a);\n      var sin_a = sin$2(a);\n      var r = l + amp * (-0.14861 * cos_a + 1.78277 * sin_a);\n      var g = l + amp * (-0.29227 * cos_a - 0.90649 * sin_a);\n      var b = l + amp * (+1.97294 * cos_a);\n      return chroma_1(clip_rgb$3([r * 255, g * 255, b * 255, 1]));\n    };\n\n    f.start = function (s) {\n      if (s == null) {\n        return start;\n      }\n\n      start = s;\n      return f;\n    };\n\n    f.rotations = function (r) {\n      if (r == null) {\n        return rotations;\n      }\n\n      rotations = r;\n      return f;\n    };\n\n    f.gamma = function (g) {\n      if (g == null) {\n        return gamma;\n      }\n\n      gamma = g;\n      return f;\n    };\n\n    f.hue = function (h) {\n      if (h == null) {\n        return hue;\n      }\n\n      hue = h;\n\n      if (type$k(hue) === 'array') {\n        dh = hue[1] - hue[0];\n\n        if (dh === 0) {\n          hue = hue[1];\n        }\n      } else {\n        dh = 0;\n      }\n\n      return f;\n    };\n\n    f.lightness = function (h) {\n      if (h == null) {\n        return lightness;\n      }\n\n      if (type$k(h) === 'array') {\n        lightness = h;\n        dl = h[1] - h[0];\n      } else {\n        lightness = [h, h];\n        dl = 0;\n      }\n\n      return f;\n    };\n\n    f.scale = function () {\n      return chroma_1.scale(f);\n    };\n\n    f.hue(hue);\n    return f;\n  };\n\n  var digits = '0123456789abcdef';\n  var floor$2 = Math.floor;\n  var random = Math.random;\n\n  var random_1 = function random_1() {\n    var code = '#';\n\n    for (var i = 0; i < 6; i++) {\n      code += digits.charAt(floor$2(random() * 16));\n    }\n\n    return new Color_1(code, 'hex');\n  };\n\n  var log$1 = Math.log;\n  var pow$7 = Math.pow;\n  var floor$3 = Math.floor;\n  var abs = Math.abs;\n\n  var analyze = function analyze(data, key) {\n    if (key === void 0) key = null;\n    var r = {\n      min: Number.MAX_VALUE,\n      max: Number.MAX_VALUE * -1,\n      sum: 0,\n      values: [],\n      count: 0\n    };\n\n    if (type(data) === 'object') {\n      data = Object.values(data);\n    }\n\n    data.forEach(function (val) {\n      if (key && type(val) === 'object') {\n        val = val[key];\n      }\n\n      if (val !== undefined && val !== null && !isNaN(val)) {\n        r.values.push(val);\n        r.sum += val;\n\n        if (val < r.min) {\n          r.min = val;\n        }\n\n        if (val > r.max) {\n          r.max = val;\n        }\n\n        r.count += 1;\n      }\n    });\n    r.domain = [r.min, r.max];\n\n    r.limits = function (mode, num) {\n      return limits(r, mode, num);\n    };\n\n    return r;\n  };\n\n  var limits = function limits(data, mode, num) {\n    if (mode === void 0) mode = 'equal';\n    if (num === void 0) num = 7;\n\n    if (type(data) == 'array') {\n      data = analyze(data);\n    }\n\n    var min = data.min;\n    var max = data.max;\n    var values = data.values.sort(function (a, b) {\n      return a - b;\n    });\n\n    if (num === 1) {\n      return [min, max];\n    }\n\n    var limits = [];\n\n    if (mode.substr(0, 1) === 'c') {\n      // continuous\n      limits.push(min);\n      limits.push(max);\n    }\n\n    if (mode.substr(0, 1) === 'e') {\n      // equal interval\n      limits.push(min);\n\n      for (var i = 1; i < num; i++) {\n        limits.push(min + i / num * (max - min));\n      }\n\n      limits.push(max);\n    } else if (mode.substr(0, 1) === 'l') {\n      // log scale\n      if (min <= 0) {\n        throw new Error('Logarithmic scales are only possible for values > 0');\n      }\n\n      var min_log = Math.LOG10E * log$1(min);\n      var max_log = Math.LOG10E * log$1(max);\n      limits.push(min);\n\n      for (var i$1 = 1; i$1 < num; i$1++) {\n        limits.push(pow$7(10, min_log + i$1 / num * (max_log - min_log)));\n      }\n\n      limits.push(max);\n    } else if (mode.substr(0, 1) === 'q') {\n      // quantile scale\n      limits.push(min);\n\n      for (var i$2 = 1; i$2 < num; i$2++) {\n        var p = (values.length - 1) * i$2 / num;\n        var pb = floor$3(p);\n\n        if (pb === p) {\n          limits.push(values[pb]);\n        } else {\n          // p > pb\n          var pr = p - pb;\n          limits.push(values[pb] * (1 - pr) + values[pb + 1] * pr);\n        }\n      }\n\n      limits.push(max);\n    } else if (mode.substr(0, 1) === 'k') {\n      // k-means clustering\n\n      /*\n      implementation based on\n      http://code.google.com/p/figue/source/browse/trunk/figue.js#336\n      simplified for 1-d input values\n      */\n      var cluster;\n      var n = values.length;\n      var assignments = new Array(n);\n      var clusterSizes = new Array(num);\n      var repeat = true;\n      var nb_iters = 0;\n      var centroids = null; // get seed values\n\n      centroids = [];\n      centroids.push(min);\n\n      for (var i$3 = 1; i$3 < num; i$3++) {\n        centroids.push(min + i$3 / num * (max - min));\n      }\n\n      centroids.push(max);\n\n      while (repeat) {\n        // assignment step\n        for (var j = 0; j < num; j++) {\n          clusterSizes[j] = 0;\n        }\n\n        for (var i$4 = 0; i$4 < n; i$4++) {\n          var value = values[i$4];\n          var mindist = Number.MAX_VALUE;\n          var best = void 0;\n\n          for (var j$1 = 0; j$1 < num; j$1++) {\n            var dist = abs(centroids[j$1] - value);\n\n            if (dist < mindist) {\n              mindist = dist;\n              best = j$1;\n            }\n\n            clusterSizes[best]++;\n            assignments[i$4] = best;\n          }\n        } // update centroids step\n\n\n        var newCentroids = new Array(num);\n\n        for (var j$2 = 0; j$2 < num; j$2++) {\n          newCentroids[j$2] = null;\n        }\n\n        for (var i$5 = 0; i$5 < n; i$5++) {\n          cluster = assignments[i$5];\n\n          if (newCentroids[cluster] === null) {\n            newCentroids[cluster] = values[i$5];\n          } else {\n            newCentroids[cluster] += values[i$5];\n          }\n        }\n\n        for (var j$3 = 0; j$3 < num; j$3++) {\n          newCentroids[j$3] *= 1 / clusterSizes[j$3];\n        } // check convergence\n\n\n        repeat = false;\n\n        for (var j$4 = 0; j$4 < num; j$4++) {\n          if (newCentroids[j$4] !== centroids[j$4]) {\n            repeat = true;\n            break;\n          }\n        }\n\n        centroids = newCentroids;\n        nb_iters++;\n\n        if (nb_iters > 200) {\n          repeat = false;\n        }\n      } // finished k-means clustering\n      // the next part is borrowed from gabrielflor.it\n\n\n      var kClusters = {};\n\n      for (var j$5 = 0; j$5 < num; j$5++) {\n        kClusters[j$5] = [];\n      }\n\n      for (var i$6 = 0; i$6 < n; i$6++) {\n        cluster = assignments[i$6];\n        kClusters[cluster].push(values[i$6]);\n      }\n\n      var tmpKMeansBreaks = [];\n\n      for (var j$6 = 0; j$6 < num; j$6++) {\n        tmpKMeansBreaks.push(kClusters[j$6][0]);\n        tmpKMeansBreaks.push(kClusters[j$6][kClusters[j$6].length - 1]);\n      }\n\n      tmpKMeansBreaks = tmpKMeansBreaks.sort(function (a, b) {\n        return a - b;\n      });\n      limits.push(tmpKMeansBreaks[0]);\n\n      for (var i$7 = 1; i$7 < tmpKMeansBreaks.length; i$7 += 2) {\n        var v = tmpKMeansBreaks[i$7];\n\n        if (!isNaN(v) && limits.indexOf(v) === -1) {\n          limits.push(v);\n        }\n      }\n    }\n\n    return limits;\n  };\n\n  var analyze_1 = {\n    analyze: analyze,\n    limits: limits\n  };\n\n  var contrast = function contrast(a, b) {\n    // WCAG contrast ratio\n    // see http://www.w3.org/TR/2008/REC-WCAG20-20081211/#contrast-ratiodef\n    a = new Color_1(a);\n    b = new Color_1(b);\n    var l1 = a.luminance();\n    var l2 = b.luminance();\n    return l1 > l2 ? (l1 + 0.05) / (l2 + 0.05) : (l2 + 0.05) / (l1 + 0.05);\n  };\n\n  var sqrt$4 = Math.sqrt;\n  var atan2$2 = Math.atan2;\n  var abs$1 = Math.abs;\n  var cos$4 = Math.cos;\n  var PI$2 = Math.PI;\n\n  var deltaE = function deltaE(a, b, L, C) {\n    if (L === void 0) L = 1;\n    if (C === void 0) C = 1; // Delta E (CMC)\n    // see http://www.brucelindbloom.com/index.html?Eqn_DeltaE_CMC.html\n\n    a = new Color_1(a);\n    b = new Color_1(b);\n    var ref = Array.from(a.lab());\n    var L1 = ref[0];\n    var a1 = ref[1];\n    var b1 = ref[2];\n    var ref$1 = Array.from(b.lab());\n    var L2 = ref$1[0];\n    var a2 = ref$1[1];\n    var b2 = ref$1[2];\n    var c1 = sqrt$4(a1 * a1 + b1 * b1);\n    var c2 = sqrt$4(a2 * a2 + b2 * b2);\n    var sl = L1 < 16.0 ? 0.511 : 0.040975 * L1 / (1.0 + 0.01765 * L1);\n    var sc = 0.0638 * c1 / (1.0 + 0.0131 * c1) + 0.638;\n    var h1 = c1 < 0.000001 ? 0.0 : atan2$2(b1, a1) * 180.0 / PI$2;\n\n    while (h1 < 0) {\n      h1 += 360;\n    }\n\n    while (h1 >= 360) {\n      h1 -= 360;\n    }\n\n    var t = h1 >= 164.0 && h1 <= 345.0 ? 0.56 + abs$1(0.2 * cos$4(PI$2 * (h1 + 168.0) / 180.0)) : 0.36 + abs$1(0.4 * cos$4(PI$2 * (h1 + 35.0) / 180.0));\n    var c4 = c1 * c1 * c1 * c1;\n    var f = sqrt$4(c4 / (c4 + 1900.0));\n    var sh = sc * (f * t + 1.0 - f);\n    var delL = L1 - L2;\n    var delC = c1 - c2;\n    var delA = a1 - a2;\n    var delB = b1 - b2;\n    var dH2 = delA * delA + delB * delB - delC * delC;\n    var v1 = delL / (L * sl);\n    var v2 = delC / (C * sc);\n    var v3 = sh;\n    return sqrt$4(v1 * v1 + v2 * v2 + dH2 / (v3 * v3));\n  }; // simple Euclidean distance\n\n\n  var distance = function distance(a, b, mode) {\n    if (mode === void 0) mode = 'lab'; // Delta E (CIE 1976)\n    // see http://www.brucelindbloom.com/index.html?Equations.html\n\n    a = new Color_1(a);\n    b = new Color_1(b);\n    var l1 = a.get(mode);\n    var l2 = b.get(mode);\n    var sum_sq = 0;\n\n    for (var i in l1) {\n      var d = (l1[i] || 0) - (l2[i] || 0);\n      sum_sq += d * d;\n    }\n\n    return Math.sqrt(sum_sq);\n  };\n\n  var valid = function valid() {\n    var args = [],\n        len = arguments.length;\n\n    while (len--) {\n      args[len] = arguments[len];\n    }\n\n    try {\n      new (Function.prototype.bind.apply(Color_1, [null].concat(args)))();\n      return true;\n    } catch (e) {\n      return false;\n    }\n  }; // some pre-defined color scales:\n\n\n  var scales = {\n    cool: function cool() {\n      return scale([chroma_1.hsl(180, 1, .9), chroma_1.hsl(250, .7, .4)]);\n    },\n    hot: function hot() {\n      return scale(['#000', '#f00', '#ff0', '#fff'], [0, .25, .75, 1]).mode('rgb');\n    }\n  };\n  /**\n      ColorBrewer colors for chroma.js\n       Copyright (c) 2002 Cynthia Brewer, Mark Harrower, and The\n      Pennsylvania State University.\n       Licensed under the Apache License, Version 2.0 (the \"License\");\n      you may not use this file except in compliance with the License.\n      You may obtain a copy of the License at\n      http://www.apache.org/licenses/LICENSE-2.0\n       Unless required by applicable law or agreed to in writing, software distributed\n      under the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR\n      CONDITIONS OF ANY KIND, either express or implied. See the License for the\n      specific language governing permissions and limitations under the License.\n  */\n\n  var colorbrewer = {\n    // sequential\n    OrRd: ['#fff7ec', '#fee8c8', '#fdd49e', '#fdbb84', '#fc8d59', '#ef6548', '#d7301f', '#b30000', '#7f0000'],\n    PuBu: ['#fff7fb', '#ece7f2', '#d0d1e6', '#a6bddb', '#74a9cf', '#3690c0', '#0570b0', '#045a8d', '#023858'],\n    BuPu: ['#f7fcfd', '#e0ecf4', '#bfd3e6', '#9ebcda', '#8c96c6', '#8c6bb1', '#88419d', '#810f7c', '#4d004b'],\n    Oranges: ['#fff5eb', '#fee6ce', '#fdd0a2', '#fdae6b', '#fd8d3c', '#f16913', '#d94801', '#a63603', '#7f2704'],\n    BuGn: ['#f7fcfd', '#e5f5f9', '#ccece6', '#99d8c9', '#66c2a4', '#41ae76', '#238b45', '#006d2c', '#00441b'],\n    YlOrBr: ['#ffffe5', '#fff7bc', '#fee391', '#fec44f', '#fe9929', '#ec7014', '#cc4c02', '#993404', '#662506'],\n    YlGn: ['#ffffe5', '#f7fcb9', '#d9f0a3', '#addd8e', '#78c679', '#41ab5d', '#238443', '#006837', '#004529'],\n    Reds: ['#fff5f0', '#fee0d2', '#fcbba1', '#fc9272', '#fb6a4a', '#ef3b2c', '#cb181d', '#a50f15', '#67000d'],\n    RdPu: ['#fff7f3', '#fde0dd', '#fcc5c0', '#fa9fb5', '#f768a1', '#dd3497', '#ae017e', '#7a0177', '#49006a'],\n    Greens: ['#f7fcf5', '#e5f5e0', '#c7e9c0', '#a1d99b', '#74c476', '#41ab5d', '#238b45', '#006d2c', '#00441b'],\n    YlGnBu: ['#ffffd9', '#edf8b1', '#c7e9b4', '#7fcdbb', '#41b6c4', '#1d91c0', '#225ea8', '#253494', '#081d58'],\n    Purples: ['#fcfbfd', '#efedf5', '#dadaeb', '#bcbddc', '#9e9ac8', '#807dba', '#6a51a3', '#54278f', '#3f007d'],\n    GnBu: ['#f7fcf0', '#e0f3db', '#ccebc5', '#a8ddb5', '#7bccc4', '#4eb3d3', '#2b8cbe', '#0868ac', '#084081'],\n    Greys: ['#ffffff', '#f0f0f0', '#d9d9d9', '#bdbdbd', '#969696', '#737373', '#525252', '#252525', '#000000'],\n    YlOrRd: ['#ffffcc', '#ffeda0', '#fed976', '#feb24c', '#fd8d3c', '#fc4e2a', '#e31a1c', '#bd0026', '#800026'],\n    PuRd: ['#f7f4f9', '#e7e1ef', '#d4b9da', '#c994c7', '#df65b0', '#e7298a', '#ce1256', '#980043', '#67001f'],\n    Blues: ['#f7fbff', '#deebf7', '#c6dbef', '#9ecae1', '#6baed6', '#4292c6', '#2171b5', '#08519c', '#08306b'],\n    PuBuGn: ['#fff7fb', '#ece2f0', '#d0d1e6', '#a6bddb', '#67a9cf', '#3690c0', '#02818a', '#016c59', '#014636'],\n    Viridis: ['#440154', '#482777', '#3f4a8a', '#31678e', '#26838f', '#1f9d8a', '#6cce5a', '#b6de2b', '#fee825'],\n    // diverging\n    Spectral: ['#9e0142', '#d53e4f', '#f46d43', '#fdae61', '#fee08b', '#ffffbf', '#e6f598', '#abdda4', '#66c2a5', '#3288bd', '#5e4fa2'],\n    RdYlGn: ['#a50026', '#d73027', '#f46d43', '#fdae61', '#fee08b', '#ffffbf', '#d9ef8b', '#a6d96a', '#66bd63', '#1a9850', '#006837'],\n    RdBu: ['#67001f', '#b2182b', '#d6604d', '#f4a582', '#fddbc7', '#f7f7f7', '#d1e5f0', '#92c5de', '#4393c3', '#2166ac', '#053061'],\n    PiYG: ['#8e0152', '#c51b7d', '#de77ae', '#f1b6da', '#fde0ef', '#f7f7f7', '#e6f5d0', '#b8e186', '#7fbc41', '#4d9221', '#276419'],\n    PRGn: ['#40004b', '#762a83', '#9970ab', '#c2a5cf', '#e7d4e8', '#f7f7f7', '#d9f0d3', '#a6dba0', '#5aae61', '#1b7837', '#00441b'],\n    RdYlBu: ['#a50026', '#d73027', '#f46d43', '#fdae61', '#fee090', '#ffffbf', '#e0f3f8', '#abd9e9', '#74add1', '#4575b4', '#313695'],\n    BrBG: ['#543005', '#8c510a', '#bf812d', '#dfc27d', '#f6e8c3', '#f5f5f5', '#c7eae5', '#80cdc1', '#35978f', '#01665e', '#003c30'],\n    RdGy: ['#67001f', '#b2182b', '#d6604d', '#f4a582', '#fddbc7', '#ffffff', '#e0e0e0', '#bababa', '#878787', '#4d4d4d', '#1a1a1a'],\n    PuOr: ['#7f3b08', '#b35806', '#e08214', '#fdb863', '#fee0b6', '#f7f7f7', '#d8daeb', '#b2abd2', '#8073ac', '#542788', '#2d004b'],\n    // qualitative\n    Set2: ['#66c2a5', '#fc8d62', '#8da0cb', '#e78ac3', '#a6d854', '#ffd92f', '#e5c494', '#b3b3b3'],\n    Accent: ['#7fc97f', '#beaed4', '#fdc086', '#ffff99', '#386cb0', '#f0027f', '#bf5b17', '#666666'],\n    Set1: ['#e41a1c', '#377eb8', '#4daf4a', '#984ea3', '#ff7f00', '#ffff33', '#a65628', '#f781bf', '#999999'],\n    Set3: ['#8dd3c7', '#ffffb3', '#bebada', '#fb8072', '#80b1d3', '#fdb462', '#b3de69', '#fccde5', '#d9d9d9', '#bc80bd', '#ccebc5', '#ffed6f'],\n    Dark2: ['#1b9e77', '#d95f02', '#7570b3', '#e7298a', '#66a61e', '#e6ab02', '#a6761d', '#666666'],\n    Paired: ['#a6cee3', '#1f78b4', '#b2df8a', '#33a02c', '#fb9a99', '#e31a1c', '#fdbf6f', '#ff7f00', '#cab2d6', '#6a3d9a', '#ffff99', '#b15928'],\n    Pastel2: ['#b3e2cd', '#fdcdac', '#cbd5e8', '#f4cae4', '#e6f5c9', '#fff2ae', '#f1e2cc', '#cccccc'],\n    Pastel1: ['#fbb4ae', '#b3cde3', '#ccebc5', '#decbe4', '#fed9a6', '#ffffcc', '#e5d8bd', '#fddaec', '#f2f2f2']\n  }; // add lowercase aliases for case-insensitive matches\n\n  for (var i$1 = 0, list$1 = Object.keys(colorbrewer); i$1 < list$1.length; i$1 += 1) {\n    var key = list$1[i$1];\n    colorbrewer[key.toLowerCase()] = colorbrewer[key];\n  }\n\n  var colorbrewer_1 = colorbrewer; // feel free to comment out anything to rollup\n  // a smaller chroma.js built\n  // io --> convert colors\n  // operators --> modify existing Colors\n  // interpolators\n  // generators -- > create new colors\n\n  chroma_1.average = average;\n  chroma_1.bezier = bezier_1;\n  chroma_1.blend = blend_1;\n  chroma_1.cubehelix = cubehelix;\n  chroma_1.mix = chroma_1.interpolate = mix;\n  chroma_1.random = random_1;\n  chroma_1.scale = scale; // other utility methods\n\n  chroma_1.analyze = analyze_1.analyze;\n  chroma_1.contrast = contrast;\n  chroma_1.deltaE = deltaE;\n  chroma_1.distance = distance;\n  chroma_1.limits = analyze_1.limits;\n  chroma_1.valid = valid; // scale\n\n  chroma_1.scales = scales; // colors\n\n  chroma_1.colors = w3cx11_1;\n  chroma_1.brewer = colorbrewer_1;\n  var chroma_js = chroma_1;\n  return chroma_js;\n});","/*! Hammer.JS - v2.0.7 - 2016-04-22\n * http://hammerjs.github.io/\n *\n * Copyright (c) 2016 Jorik Tangelder;\n * Licensed under the MIT license */\n(function (window, document, exportName, undefined) {\n  'use strict';\n\n  var VENDOR_PREFIXES = ['', 'webkit', 'Moz', 'MS', 'ms', 'o'];\n  var TEST_ELEMENT = document.createElement('div');\n  var TYPE_FUNCTION = 'function';\n  var round = Math.round;\n  var abs = Math.abs;\n  var now = Date.now;\n  /**\n   * set a timeout with a given scope\n   * @param {Function} fn\n   * @param {Number} timeout\n   * @param {Object} context\n   * @returns {number}\n   */\n\n  function setTimeoutContext(fn, timeout, context) {\n    return setTimeout(bindFn(fn, context), timeout);\n  }\n  /**\n   * if the argument is an array, we want to execute the fn on each entry\n   * if it aint an array we don't want to do a thing.\n   * this is used by all the methods that accept a single and array argument.\n   * @param {*|Array} arg\n   * @param {String} fn\n   * @param {Object} [context]\n   * @returns {Boolean}\n   */\n\n\n  function invokeArrayArg(arg, fn, context) {\n    if (Array.isArray(arg)) {\n      each(arg, context[fn], context);\n      return true;\n    }\n\n    return false;\n  }\n  /**\n   * walk objects and arrays\n   * @param {Object} obj\n   * @param {Function} iterator\n   * @param {Object} context\n   */\n\n\n  function each(obj, iterator, context) {\n    var i;\n\n    if (!obj) {\n      return;\n    }\n\n    if (obj.forEach) {\n      obj.forEach(iterator, context);\n    } else if (obj.length !== undefined) {\n      i = 0;\n\n      while (i < obj.length) {\n        iterator.call(context, obj[i], i, obj);\n        i++;\n      }\n    } else {\n      for (i in obj) {\n        obj.hasOwnProperty(i) && iterator.call(context, obj[i], i, obj);\n      }\n    }\n  }\n  /**\n   * wrap a method with a deprecation warning and stack trace\n   * @param {Function} method\n   * @param {String} name\n   * @param {String} message\n   * @returns {Function} A new function wrapping the supplied method.\n   */\n\n\n  function deprecate(method, name, message) {\n    var deprecationMessage = 'DEPRECATED METHOD: ' + name + '\\n' + message + ' AT \\n';\n    return function () {\n      var e = new Error('get-stack-trace');\n      var stack = e && e.stack ? e.stack.replace(/^[^\\(]+?[\\n$]/gm, '').replace(/^\\s+at\\s+/gm, '').replace(/^Object.<anonymous>\\s*\\(/gm, '{anonymous}()@') : 'Unknown Stack Trace';\n      var log = window.console && (window.console.warn || window.console.log);\n\n      if (log) {\n        log.call(window.console, deprecationMessage, stack);\n      }\n\n      return method.apply(this, arguments);\n    };\n  }\n  /**\n   * extend object.\n   * means that properties in dest will be overwritten by the ones in src.\n   * @param {Object} target\n   * @param {...Object} objects_to_assign\n   * @returns {Object} target\n   */\n\n\n  var assign;\n\n  if (typeof Object.assign !== 'function') {\n    assign = function assign(target) {\n      if (target === undefined || target === null) {\n        throw new TypeError('Cannot convert undefined or null to object');\n      }\n\n      var output = Object(target);\n\n      for (var index = 1; index < arguments.length; index++) {\n        var source = arguments[index];\n\n        if (source !== undefined && source !== null) {\n          for (var nextKey in source) {\n            if (source.hasOwnProperty(nextKey)) {\n              output[nextKey] = source[nextKey];\n            }\n          }\n        }\n      }\n\n      return output;\n    };\n  } else {\n    assign = Object.assign;\n  }\n  /**\n   * extend object.\n   * means that properties in dest will be overwritten by the ones in src.\n   * @param {Object} dest\n   * @param {Object} src\n   * @param {Boolean} [merge=false]\n   * @returns {Object} dest\n   */\n\n\n  var extend = deprecate(function extend(dest, src, merge) {\n    var keys = Object.keys(src);\n    var i = 0;\n\n    while (i < keys.length) {\n      if (!merge || merge && dest[keys[i]] === undefined) {\n        dest[keys[i]] = src[keys[i]];\n      }\n\n      i++;\n    }\n\n    return dest;\n  }, 'extend', 'Use `assign`.');\n  /**\n   * merge the values from src in the dest.\n   * means that properties that exist in dest will not be overwritten by src\n   * @param {Object} dest\n   * @param {Object} src\n   * @returns {Object} dest\n   */\n\n  var merge = deprecate(function merge(dest, src) {\n    return extend(dest, src, true);\n  }, 'merge', 'Use `assign`.');\n  /**\n   * simple class inheritance\n   * @param {Function} child\n   * @param {Function} base\n   * @param {Object} [properties]\n   */\n\n  function inherit(child, base, properties) {\n    var baseP = base.prototype,\n        childP;\n    childP = child.prototype = Object.create(baseP);\n    childP.constructor = child;\n    childP._super = baseP;\n\n    if (properties) {\n      assign(childP, properties);\n    }\n  }\n  /**\n   * simple function bind\n   * @param {Function} fn\n   * @param {Object} context\n   * @returns {Function}\n   */\n\n\n  function bindFn(fn, context) {\n    return function boundFn() {\n      return fn.apply(context, arguments);\n    };\n  }\n  /**\n   * let a boolean value also be a function that must return a boolean\n   * this first item in args will be used as the context\n   * @param {Boolean|Function} val\n   * @param {Array} [args]\n   * @returns {Boolean}\n   */\n\n\n  function boolOrFn(val, args) {\n    if (typeof val == TYPE_FUNCTION) {\n      return val.apply(args ? args[0] || undefined : undefined, args);\n    }\n\n    return val;\n  }\n  /**\n   * use the val2 when val1 is undefined\n   * @param {*} val1\n   * @param {*} val2\n   * @returns {*}\n   */\n\n\n  function ifUndefined(val1, val2) {\n    return val1 === undefined ? val2 : val1;\n  }\n  /**\n   * addEventListener with multiple events at once\n   * @param {EventTarget} target\n   * @param {String} types\n   * @param {Function} handler\n   */\n\n\n  function addEventListeners(target, types, handler) {\n    each(splitStr(types), function (type) {\n      target.addEventListener(type, handler, false);\n    });\n  }\n  /**\n   * removeEventListener with multiple events at once\n   * @param {EventTarget} target\n   * @param {String} types\n   * @param {Function} handler\n   */\n\n\n  function removeEventListeners(target, types, handler) {\n    each(splitStr(types), function (type) {\n      target.removeEventListener(type, handler, false);\n    });\n  }\n  /**\n   * find if a node is in the given parent\n   * @method hasParent\n   * @param {HTMLElement} node\n   * @param {HTMLElement} parent\n   * @return {Boolean} found\n   */\n\n\n  function hasParent(node, parent) {\n    while (node) {\n      if (node == parent) {\n        return true;\n      }\n\n      node = node.parentNode;\n    }\n\n    return false;\n  }\n  /**\n   * small indexOf wrapper\n   * @param {String} str\n   * @param {String} find\n   * @returns {Boolean} found\n   */\n\n\n  function inStr(str, find) {\n    return str.indexOf(find) > -1;\n  }\n  /**\n   * split string on whitespace\n   * @param {String} str\n   * @returns {Array} words\n   */\n\n\n  function splitStr(str) {\n    return str.trim().split(/\\s+/g);\n  }\n  /**\n   * find if a array contains the object using indexOf or a simple polyFill\n   * @param {Array} src\n   * @param {String} find\n   * @param {String} [findByKey]\n   * @return {Boolean|Number} false when not found, or the index\n   */\n\n\n  function inArray(src, find, findByKey) {\n    if (src.indexOf && !findByKey) {\n      return src.indexOf(find);\n    } else {\n      var i = 0;\n\n      while (i < src.length) {\n        if (findByKey && src[i][findByKey] == find || !findByKey && src[i] === find) {\n          return i;\n        }\n\n        i++;\n      }\n\n      return -1;\n    }\n  }\n  /**\n   * convert array-like objects to real arrays\n   * @param {Object} obj\n   * @returns {Array}\n   */\n\n\n  function toArray(obj) {\n    return Array.prototype.slice.call(obj, 0);\n  }\n  /**\n   * unique array with objects based on a key (like 'id') or just by the array's value\n   * @param {Array} src [{id:1},{id:2},{id:1}]\n   * @param {String} [key]\n   * @param {Boolean} [sort=False]\n   * @returns {Array} [{id:1},{id:2}]\n   */\n\n\n  function uniqueArray(src, key, sort) {\n    var results = [];\n    var values = [];\n    var i = 0;\n\n    while (i < src.length) {\n      var val = key ? src[i][key] : src[i];\n\n      if (inArray(values, val) < 0) {\n        results.push(src[i]);\n      }\n\n      values[i] = val;\n      i++;\n    }\n\n    if (sort) {\n      if (!key) {\n        results = results.sort();\n      } else {\n        results = results.sort(function sortUniqueArray(a, b) {\n          return a[key] > b[key];\n        });\n      }\n    }\n\n    return results;\n  }\n  /**\n   * get the prefixed property\n   * @param {Object} obj\n   * @param {String} property\n   * @returns {String|Undefined} prefixed\n   */\n\n\n  function prefixed(obj, property) {\n    var prefix, prop;\n    var camelProp = property[0].toUpperCase() + property.slice(1);\n    var i = 0;\n\n    while (i < VENDOR_PREFIXES.length) {\n      prefix = VENDOR_PREFIXES[i];\n      prop = prefix ? prefix + camelProp : property;\n\n      if (prop in obj) {\n        return prop;\n      }\n\n      i++;\n    }\n\n    return undefined;\n  }\n  /**\n   * get a unique id\n   * @returns {number} uniqueId\n   */\n\n\n  var _uniqueId = 1;\n\n  function uniqueId() {\n    return _uniqueId++;\n  }\n  /**\n   * get the window object of an element\n   * @param {HTMLElement} element\n   * @returns {DocumentView|Window}\n   */\n\n\n  function getWindowForElement(element) {\n    var doc = element.ownerDocument || element;\n    return doc.defaultView || doc.parentWindow || window;\n  }\n\n  var MOBILE_REGEX = /mobile|tablet|ip(ad|hone|od)|android/i;\n  var SUPPORT_TOUCH = ('ontouchstart' in window);\n  var SUPPORT_POINTER_EVENTS = prefixed(window, 'PointerEvent') !== undefined;\n  var SUPPORT_ONLY_TOUCH = SUPPORT_TOUCH && MOBILE_REGEX.test(navigator.userAgent);\n  var INPUT_TYPE_TOUCH = 'touch';\n  var INPUT_TYPE_PEN = 'pen';\n  var INPUT_TYPE_MOUSE = 'mouse';\n  var INPUT_TYPE_KINECT = 'kinect';\n  var COMPUTE_INTERVAL = 25;\n  var INPUT_START = 1;\n  var INPUT_MOVE = 2;\n  var INPUT_END = 4;\n  var INPUT_CANCEL = 8;\n  var DIRECTION_NONE = 1;\n  var DIRECTION_LEFT = 2;\n  var DIRECTION_RIGHT = 4;\n  var DIRECTION_UP = 8;\n  var DIRECTION_DOWN = 16;\n  var DIRECTION_HORIZONTAL = DIRECTION_LEFT | DIRECTION_RIGHT;\n  var DIRECTION_VERTICAL = DIRECTION_UP | DIRECTION_DOWN;\n  var DIRECTION_ALL = DIRECTION_HORIZONTAL | DIRECTION_VERTICAL;\n  var PROPS_XY = ['x', 'y'];\n  var PROPS_CLIENT_XY = ['clientX', 'clientY'];\n  /**\n   * create new input type manager\n   * @param {Manager} manager\n   * @param {Function} callback\n   * @returns {Input}\n   * @constructor\n   */\n\n  function Input(manager, callback) {\n    var self = this;\n    this.manager = manager;\n    this.callback = callback;\n    this.element = manager.element;\n    this.target = manager.options.inputTarget; // smaller wrapper around the handler, for the scope and the enabled state of the manager,\n    // so when disabled the input events are completely bypassed.\n\n    this.domHandler = function (ev) {\n      if (boolOrFn(manager.options.enable, [manager])) {\n        self.handler(ev);\n      }\n    };\n\n    this.init();\n  }\n\n  Input.prototype = {\n    /**\n     * should handle the inputEvent data and trigger the callback\n     * @virtual\n     */\n    handler: function handler() {},\n\n    /**\n     * bind the events\n     */\n    init: function init() {\n      this.evEl && addEventListeners(this.element, this.evEl, this.domHandler);\n      this.evTarget && addEventListeners(this.target, this.evTarget, this.domHandler);\n      this.evWin && addEventListeners(getWindowForElement(this.element), this.evWin, this.domHandler);\n    },\n\n    /**\n     * unbind the events\n     */\n    destroy: function destroy() {\n      this.evEl && removeEventListeners(this.element, this.evEl, this.domHandler);\n      this.evTarget && removeEventListeners(this.target, this.evTarget, this.domHandler);\n      this.evWin && removeEventListeners(getWindowForElement(this.element), this.evWin, this.domHandler);\n    }\n  };\n  /**\n   * create new input type manager\n   * called by the Manager constructor\n   * @param {Hammer} manager\n   * @returns {Input}\n   */\n\n  function createInputInstance(manager) {\n    var Type;\n    var inputClass = manager.options.inputClass;\n\n    if (inputClass) {\n      Type = inputClass;\n    } else if (SUPPORT_POINTER_EVENTS) {\n      Type = PointerEventInput;\n    } else if (SUPPORT_ONLY_TOUCH) {\n      Type = TouchInput;\n    } else if (!SUPPORT_TOUCH) {\n      Type = MouseInput;\n    } else {\n      Type = TouchMouseInput;\n    }\n\n    return new Type(manager, inputHandler);\n  }\n  /**\n   * handle input events\n   * @param {Manager} manager\n   * @param {String} eventType\n   * @param {Object} input\n   */\n\n\n  function inputHandler(manager, eventType, input) {\n    var pointersLen = input.pointers.length;\n    var changedPointersLen = input.changedPointers.length;\n    var isFirst = eventType & INPUT_START && pointersLen - changedPointersLen === 0;\n    var isFinal = eventType & (INPUT_END | INPUT_CANCEL) && pointersLen - changedPointersLen === 0;\n    input.isFirst = !!isFirst;\n    input.isFinal = !!isFinal;\n\n    if (isFirst) {\n      manager.session = {};\n    } // source event is the normalized value of the domEvents\n    // like 'touchstart, mouseup, pointerdown'\n\n\n    input.eventType = eventType; // compute scale, rotation etc\n\n    computeInputData(manager, input); // emit secret event\n\n    manager.emit('hammer.input', input);\n    manager.recognize(input);\n    manager.session.prevInput = input;\n  }\n  /**\n   * extend the data with some usable properties like scale, rotate, velocity etc\n   * @param {Object} manager\n   * @param {Object} input\n   */\n\n\n  function computeInputData(manager, input) {\n    var session = manager.session;\n    var pointers = input.pointers;\n    var pointersLength = pointers.length; // store the first input to calculate the distance and direction\n\n    if (!session.firstInput) {\n      session.firstInput = simpleCloneInputData(input);\n    } // to compute scale and rotation we need to store the multiple touches\n\n\n    if (pointersLength > 1 && !session.firstMultiple) {\n      session.firstMultiple = simpleCloneInputData(input);\n    } else if (pointersLength === 1) {\n      session.firstMultiple = false;\n    }\n\n    var firstInput = session.firstInput;\n    var firstMultiple = session.firstMultiple;\n    var offsetCenter = firstMultiple ? firstMultiple.center : firstInput.center;\n    var center = input.center = getCenter(pointers);\n    input.timeStamp = now();\n    input.deltaTime = input.timeStamp - firstInput.timeStamp;\n    input.angle = getAngle(offsetCenter, center);\n    input.distance = getDistance(offsetCenter, center);\n    computeDeltaXY(session, input);\n    input.offsetDirection = getDirection(input.deltaX, input.deltaY);\n    var overallVelocity = getVelocity(input.deltaTime, input.deltaX, input.deltaY);\n    input.overallVelocityX = overallVelocity.x;\n    input.overallVelocityY = overallVelocity.y;\n    input.overallVelocity = abs(overallVelocity.x) > abs(overallVelocity.y) ? overallVelocity.x : overallVelocity.y;\n    input.scale = firstMultiple ? getScale(firstMultiple.pointers, pointers) : 1;\n    input.rotation = firstMultiple ? getRotation(firstMultiple.pointers, pointers) : 0;\n    input.maxPointers = !session.prevInput ? input.pointers.length : input.pointers.length > session.prevInput.maxPointers ? input.pointers.length : session.prevInput.maxPointers;\n    computeIntervalInputData(session, input); // find the correct target\n\n    var target = manager.element;\n\n    if (hasParent(input.srcEvent.target, target)) {\n      target = input.srcEvent.target;\n    }\n\n    input.target = target;\n  }\n\n  function computeDeltaXY(session, input) {\n    var center = input.center;\n    var offset = session.offsetDelta || {};\n    var prevDelta = session.prevDelta || {};\n    var prevInput = session.prevInput || {};\n\n    if (input.eventType === INPUT_START || prevInput.eventType === INPUT_END) {\n      prevDelta = session.prevDelta = {\n        x: prevInput.deltaX || 0,\n        y: prevInput.deltaY || 0\n      };\n      offset = session.offsetDelta = {\n        x: center.x,\n        y: center.y\n      };\n    }\n\n    input.deltaX = prevDelta.x + (center.x - offset.x);\n    input.deltaY = prevDelta.y + (center.y - offset.y);\n  }\n  /**\n   * velocity is calculated every x ms\n   * @param {Object} session\n   * @param {Object} input\n   */\n\n\n  function computeIntervalInputData(session, input) {\n    var last = session.lastInterval || input,\n        deltaTime = input.timeStamp - last.timeStamp,\n        velocity,\n        velocityX,\n        velocityY,\n        direction;\n\n    if (input.eventType != INPUT_CANCEL && (deltaTime > COMPUTE_INTERVAL || last.velocity === undefined)) {\n      var deltaX = input.deltaX - last.deltaX;\n      var deltaY = input.deltaY - last.deltaY;\n      var v = getVelocity(deltaTime, deltaX, deltaY);\n      velocityX = v.x;\n      velocityY = v.y;\n      velocity = abs(v.x) > abs(v.y) ? v.x : v.y;\n      direction = getDirection(deltaX, deltaY);\n      session.lastInterval = input;\n    } else {\n      // use latest velocity info if it doesn't overtake a minimum period\n      velocity = last.velocity;\n      velocityX = last.velocityX;\n      velocityY = last.velocityY;\n      direction = last.direction;\n    }\n\n    input.velocity = velocity;\n    input.velocityX = velocityX;\n    input.velocityY = velocityY;\n    input.direction = direction;\n  }\n  /**\n   * create a simple clone from the input used for storage of firstInput and firstMultiple\n   * @param {Object} input\n   * @returns {Object} clonedInputData\n   */\n\n\n  function simpleCloneInputData(input) {\n    // make a simple copy of the pointers because we will get a reference if we don't\n    // we only need clientXY for the calculations\n    var pointers = [];\n    var i = 0;\n\n    while (i < input.pointers.length) {\n      pointers[i] = {\n        clientX: round(input.pointers[i].clientX),\n        clientY: round(input.pointers[i].clientY)\n      };\n      i++;\n    }\n\n    return {\n      timeStamp: now(),\n      pointers: pointers,\n      center: getCenter(pointers),\n      deltaX: input.deltaX,\n      deltaY: input.deltaY\n    };\n  }\n  /**\n   * get the center of all the pointers\n   * @param {Array} pointers\n   * @return {Object} center contains `x` and `y` properties\n   */\n\n\n  function getCenter(pointers) {\n    var pointersLength = pointers.length; // no need to loop when only one touch\n\n    if (pointersLength === 1) {\n      return {\n        x: round(pointers[0].clientX),\n        y: round(pointers[0].clientY)\n      };\n    }\n\n    var x = 0,\n        y = 0,\n        i = 0;\n\n    while (i < pointersLength) {\n      x += pointers[i].clientX;\n      y += pointers[i].clientY;\n      i++;\n    }\n\n    return {\n      x: round(x / pointersLength),\n      y: round(y / pointersLength)\n    };\n  }\n  /**\n   * calculate the velocity between two points. unit is in px per ms.\n   * @param {Number} deltaTime\n   * @param {Number} x\n   * @param {Number} y\n   * @return {Object} velocity `x` and `y`\n   */\n\n\n  function getVelocity(deltaTime, x, y) {\n    return {\n      x: x / deltaTime || 0,\n      y: y / deltaTime || 0\n    };\n  }\n  /**\n   * get the direction between two points\n   * @param {Number} x\n   * @param {Number} y\n   * @return {Number} direction\n   */\n\n\n  function getDirection(x, y) {\n    if (x === y) {\n      return DIRECTION_NONE;\n    }\n\n    if (abs(x) >= abs(y)) {\n      return x < 0 ? DIRECTION_LEFT : DIRECTION_RIGHT;\n    }\n\n    return y < 0 ? DIRECTION_UP : DIRECTION_DOWN;\n  }\n  /**\n   * calculate the absolute distance between two points\n   * @param {Object} p1 {x, y}\n   * @param {Object} p2 {x, y}\n   * @param {Array} [props] containing x and y keys\n   * @return {Number} distance\n   */\n\n\n  function getDistance(p1, p2, props) {\n    if (!props) {\n      props = PROPS_XY;\n    }\n\n    var x = p2[props[0]] - p1[props[0]],\n        y = p2[props[1]] - p1[props[1]];\n    return Math.sqrt(x * x + y * y);\n  }\n  /**\n   * calculate the angle between two coordinates\n   * @param {Object} p1\n   * @param {Object} p2\n   * @param {Array} [props] containing x and y keys\n   * @return {Number} angle\n   */\n\n\n  function getAngle(p1, p2, props) {\n    if (!props) {\n      props = PROPS_XY;\n    }\n\n    var x = p2[props[0]] - p1[props[0]],\n        y = p2[props[1]] - p1[props[1]];\n    return Math.atan2(y, x) * 180 / Math.PI;\n  }\n  /**\n   * calculate the rotation degrees between two pointersets\n   * @param {Array} start array of pointers\n   * @param {Array} end array of pointers\n   * @return {Number} rotation\n   */\n\n\n  function getRotation(start, end) {\n    return getAngle(end[1], end[0], PROPS_CLIENT_XY) + getAngle(start[1], start[0], PROPS_CLIENT_XY);\n  }\n  /**\n   * calculate the scale factor between two pointersets\n   * no scale is 1, and goes down to 0 when pinched together, and bigger when pinched out\n   * @param {Array} start array of pointers\n   * @param {Array} end array of pointers\n   * @return {Number} scale\n   */\n\n\n  function getScale(start, end) {\n    return getDistance(end[0], end[1], PROPS_CLIENT_XY) / getDistance(start[0], start[1], PROPS_CLIENT_XY);\n  }\n\n  var MOUSE_INPUT_MAP = {\n    mousedown: INPUT_START,\n    mousemove: INPUT_MOVE,\n    mouseup: INPUT_END\n  };\n  var MOUSE_ELEMENT_EVENTS = 'mousedown';\n  var MOUSE_WINDOW_EVENTS = 'mousemove mouseup';\n  /**\n   * Mouse events input\n   * @constructor\n   * @extends Input\n   */\n\n  function MouseInput() {\n    this.evEl = MOUSE_ELEMENT_EVENTS;\n    this.evWin = MOUSE_WINDOW_EVENTS;\n    this.pressed = false; // mousedown state\n\n    Input.apply(this, arguments);\n  }\n\n  inherit(MouseInput, Input, {\n    /**\n     * handle mouse events\n     * @param {Object} ev\n     */\n    handler: function MEhandler(ev) {\n      var eventType = MOUSE_INPUT_MAP[ev.type]; // on start we want to have the left mouse button down\n\n      if (eventType & INPUT_START && ev.button === 0) {\n        this.pressed = true;\n      }\n\n      if (eventType & INPUT_MOVE && ev.which !== 1) {\n        eventType = INPUT_END;\n      } // mouse must be down\n\n\n      if (!this.pressed) {\n        return;\n      }\n\n      if (eventType & INPUT_END) {\n        this.pressed = false;\n      }\n\n      this.callback(this.manager, eventType, {\n        pointers: [ev],\n        changedPointers: [ev],\n        pointerType: INPUT_TYPE_MOUSE,\n        srcEvent: ev\n      });\n    }\n  });\n  var POINTER_INPUT_MAP = {\n    pointerdown: INPUT_START,\n    pointermove: INPUT_MOVE,\n    pointerup: INPUT_END,\n    pointercancel: INPUT_CANCEL,\n    pointerout: INPUT_CANCEL\n  }; // in IE10 the pointer types is defined as an enum\n\n  var IE10_POINTER_TYPE_ENUM = {\n    2: INPUT_TYPE_TOUCH,\n    3: INPUT_TYPE_PEN,\n    4: INPUT_TYPE_MOUSE,\n    5: INPUT_TYPE_KINECT // see https://twitter.com/jacobrossi/status/480596438489890816\n\n  };\n  var POINTER_ELEMENT_EVENTS = 'pointerdown';\n  var POINTER_WINDOW_EVENTS = 'pointermove pointerup pointercancel'; // IE10 has prefixed support, and case-sensitive\n\n  if (window.MSPointerEvent && !window.PointerEvent) {\n    POINTER_ELEMENT_EVENTS = 'MSPointerDown';\n    POINTER_WINDOW_EVENTS = 'MSPointerMove MSPointerUp MSPointerCancel';\n  }\n  /**\n   * Pointer events input\n   * @constructor\n   * @extends Input\n   */\n\n\n  function PointerEventInput() {\n    this.evEl = POINTER_ELEMENT_EVENTS;\n    this.evWin = POINTER_WINDOW_EVENTS;\n    Input.apply(this, arguments);\n    this.store = this.manager.session.pointerEvents = [];\n  }\n\n  inherit(PointerEventInput, Input, {\n    /**\n     * handle mouse events\n     * @param {Object} ev\n     */\n    handler: function PEhandler(ev) {\n      var store = this.store;\n      var removePointer = false;\n      var eventTypeNormalized = ev.type.toLowerCase().replace('ms', '');\n      var eventType = POINTER_INPUT_MAP[eventTypeNormalized];\n      var pointerType = IE10_POINTER_TYPE_ENUM[ev.pointerType] || ev.pointerType;\n      var isTouch = pointerType == INPUT_TYPE_TOUCH; // get index of the event in the store\n\n      var storeIndex = inArray(store, ev.pointerId, 'pointerId'); // start and mouse must be down\n\n      if (eventType & INPUT_START && (ev.button === 0 || isTouch)) {\n        if (storeIndex < 0) {\n          store.push(ev);\n          storeIndex = store.length - 1;\n        }\n      } else if (eventType & (INPUT_END | INPUT_CANCEL)) {\n        removePointer = true;\n      } // it not found, so the pointer hasn't been down (so it's probably a hover)\n\n\n      if (storeIndex < 0) {\n        return;\n      } // update the event in the store\n\n\n      store[storeIndex] = ev;\n      this.callback(this.manager, eventType, {\n        pointers: store,\n        changedPointers: [ev],\n        pointerType: pointerType,\n        srcEvent: ev\n      });\n\n      if (removePointer) {\n        // remove from the store\n        store.splice(storeIndex, 1);\n      }\n    }\n  });\n  var SINGLE_TOUCH_INPUT_MAP = {\n    touchstart: INPUT_START,\n    touchmove: INPUT_MOVE,\n    touchend: INPUT_END,\n    touchcancel: INPUT_CANCEL\n  };\n  var SINGLE_TOUCH_TARGET_EVENTS = 'touchstart';\n  var SINGLE_TOUCH_WINDOW_EVENTS = 'touchstart touchmove touchend touchcancel';\n  /**\n   * Touch events input\n   * @constructor\n   * @extends Input\n   */\n\n  function SingleTouchInput() {\n    this.evTarget = SINGLE_TOUCH_TARGET_EVENTS;\n    this.evWin = SINGLE_TOUCH_WINDOW_EVENTS;\n    this.started = false;\n    Input.apply(this, arguments);\n  }\n\n  inherit(SingleTouchInput, Input, {\n    handler: function TEhandler(ev) {\n      var type = SINGLE_TOUCH_INPUT_MAP[ev.type]; // should we handle the touch events?\n\n      if (type === INPUT_START) {\n        this.started = true;\n      }\n\n      if (!this.started) {\n        return;\n      }\n\n      var touches = normalizeSingleTouches.call(this, ev, type); // when done, reset the started state\n\n      if (type & (INPUT_END | INPUT_CANCEL) && touches[0].length - touches[1].length === 0) {\n        this.started = false;\n      }\n\n      this.callback(this.manager, type, {\n        pointers: touches[0],\n        changedPointers: touches[1],\n        pointerType: INPUT_TYPE_TOUCH,\n        srcEvent: ev\n      });\n    }\n  });\n  /**\n   * @this {TouchInput}\n   * @param {Object} ev\n   * @param {Number} type flag\n   * @returns {undefined|Array} [all, changed]\n   */\n\n  function normalizeSingleTouches(ev, type) {\n    var all = toArray(ev.touches);\n    var changed = toArray(ev.changedTouches);\n\n    if (type & (INPUT_END | INPUT_CANCEL)) {\n      all = uniqueArray(all.concat(changed), 'identifier', true);\n    }\n\n    return [all, changed];\n  }\n\n  var TOUCH_INPUT_MAP = {\n    touchstart: INPUT_START,\n    touchmove: INPUT_MOVE,\n    touchend: INPUT_END,\n    touchcancel: INPUT_CANCEL\n  };\n  var TOUCH_TARGET_EVENTS = 'touchstart touchmove touchend touchcancel';\n  /**\n   * Multi-user touch events input\n   * @constructor\n   * @extends Input\n   */\n\n  function TouchInput() {\n    this.evTarget = TOUCH_TARGET_EVENTS;\n    this.targetIds = {};\n    Input.apply(this, arguments);\n  }\n\n  inherit(TouchInput, Input, {\n    handler: function MTEhandler(ev) {\n      var type = TOUCH_INPUT_MAP[ev.type];\n      var touches = getTouches.call(this, ev, type);\n\n      if (!touches) {\n        return;\n      }\n\n      this.callback(this.manager, type, {\n        pointers: touches[0],\n        changedPointers: touches[1],\n        pointerType: INPUT_TYPE_TOUCH,\n        srcEvent: ev\n      });\n    }\n  });\n  /**\n   * @this {TouchInput}\n   * @param {Object} ev\n   * @param {Number} type flag\n   * @returns {undefined|Array} [all, changed]\n   */\n\n  function getTouches(ev, type) {\n    var allTouches = toArray(ev.touches);\n    var targetIds = this.targetIds; // when there is only one touch, the process can be simplified\n\n    if (type & (INPUT_START | INPUT_MOVE) && allTouches.length === 1) {\n      targetIds[allTouches[0].identifier] = true;\n      return [allTouches, allTouches];\n    }\n\n    var i,\n        targetTouches,\n        changedTouches = toArray(ev.changedTouches),\n        changedTargetTouches = [],\n        target = this.target; // get target touches from touches\n\n    targetTouches = allTouches.filter(function (touch) {\n      return hasParent(touch.target, target);\n    }); // collect touches\n\n    if (type === INPUT_START) {\n      i = 0;\n\n      while (i < targetTouches.length) {\n        targetIds[targetTouches[i].identifier] = true;\n        i++;\n      }\n    } // filter changed touches to only contain touches that exist in the collected target ids\n\n\n    i = 0;\n\n    while (i < changedTouches.length) {\n      if (targetIds[changedTouches[i].identifier]) {\n        changedTargetTouches.push(changedTouches[i]);\n      } // cleanup removed touches\n\n\n      if (type & (INPUT_END | INPUT_CANCEL)) {\n        delete targetIds[changedTouches[i].identifier];\n      }\n\n      i++;\n    }\n\n    if (!changedTargetTouches.length) {\n      return;\n    }\n\n    return [// merge targetTouches with changedTargetTouches so it contains ALL touches, including 'end' and 'cancel'\n    uniqueArray(targetTouches.concat(changedTargetTouches), 'identifier', true), changedTargetTouches];\n  }\n  /**\n   * Combined touch and mouse input\n   *\n   * Touch has a higher priority then mouse, and while touching no mouse events are allowed.\n   * This because touch devices also emit mouse events while doing a touch.\n   *\n   * @constructor\n   * @extends Input\n   */\n\n\n  var DEDUP_TIMEOUT = 2500;\n  var DEDUP_DISTANCE = 25;\n\n  function TouchMouseInput() {\n    Input.apply(this, arguments);\n    var handler = bindFn(this.handler, this);\n    this.touch = new TouchInput(this.manager, handler);\n    this.mouse = new MouseInput(this.manager, handler);\n    this.primaryTouch = null;\n    this.lastTouches = [];\n  }\n\n  inherit(TouchMouseInput, Input, {\n    /**\n     * handle mouse and touch events\n     * @param {Hammer} manager\n     * @param {String} inputEvent\n     * @param {Object} inputData\n     */\n    handler: function TMEhandler(manager, inputEvent, inputData) {\n      var isTouch = inputData.pointerType == INPUT_TYPE_TOUCH,\n          isMouse = inputData.pointerType == INPUT_TYPE_MOUSE;\n\n      if (isMouse && inputData.sourceCapabilities && inputData.sourceCapabilities.firesTouchEvents) {\n        return;\n      } // when we're in a touch event, record touches to  de-dupe synthetic mouse event\n\n\n      if (isTouch) {\n        recordTouches.call(this, inputEvent, inputData);\n      } else if (isMouse && isSyntheticEvent.call(this, inputData)) {\n        return;\n      }\n\n      this.callback(manager, inputEvent, inputData);\n    },\n\n    /**\n     * remove the event listeners\n     */\n    destroy: function destroy() {\n      this.touch.destroy();\n      this.mouse.destroy();\n    }\n  });\n\n  function recordTouches(eventType, eventData) {\n    if (eventType & INPUT_START) {\n      this.primaryTouch = eventData.changedPointers[0].identifier;\n      setLastTouch.call(this, eventData);\n    } else if (eventType & (INPUT_END | INPUT_CANCEL)) {\n      setLastTouch.call(this, eventData);\n    }\n  }\n\n  function setLastTouch(eventData) {\n    var touch = eventData.changedPointers[0];\n\n    if (touch.identifier === this.primaryTouch) {\n      var lastTouch = {\n        x: touch.clientX,\n        y: touch.clientY\n      };\n      this.lastTouches.push(lastTouch);\n      var lts = this.lastTouches;\n\n      var removeLastTouch = function removeLastTouch() {\n        var i = lts.indexOf(lastTouch);\n\n        if (i > -1) {\n          lts.splice(i, 1);\n        }\n      };\n\n      setTimeout(removeLastTouch, DEDUP_TIMEOUT);\n    }\n  }\n\n  function isSyntheticEvent(eventData) {\n    var x = eventData.srcEvent.clientX,\n        y = eventData.srcEvent.clientY;\n\n    for (var i = 0; i < this.lastTouches.length; i++) {\n      var t = this.lastTouches[i];\n      var dx = Math.abs(x - t.x),\n          dy = Math.abs(y - t.y);\n\n      if (dx <= DEDUP_DISTANCE && dy <= DEDUP_DISTANCE) {\n        return true;\n      }\n    }\n\n    return false;\n  }\n\n  var PREFIXED_TOUCH_ACTION = prefixed(TEST_ELEMENT.style, 'touchAction');\n  var NATIVE_TOUCH_ACTION = PREFIXED_TOUCH_ACTION !== undefined; // magical touchAction value\n\n  var TOUCH_ACTION_COMPUTE = 'compute';\n  var TOUCH_ACTION_AUTO = 'auto';\n  var TOUCH_ACTION_MANIPULATION = 'manipulation'; // not implemented\n\n  var TOUCH_ACTION_NONE = 'none';\n  var TOUCH_ACTION_PAN_X = 'pan-x';\n  var TOUCH_ACTION_PAN_Y = 'pan-y';\n  var TOUCH_ACTION_MAP = getTouchActionProps();\n  /**\n   * Touch Action\n   * sets the touchAction property or uses the js alternative\n   * @param {Manager} manager\n   * @param {String} value\n   * @constructor\n   */\n\n  function TouchAction(manager, value) {\n    this.manager = manager;\n    this.set(value);\n  }\n\n  TouchAction.prototype = {\n    /**\n     * set the touchAction value on the element or enable the polyfill\n     * @param {String} value\n     */\n    set: function set(value) {\n      // find out the touch-action by the event handlers\n      if (value == TOUCH_ACTION_COMPUTE) {\n        value = this.compute();\n      }\n\n      if (NATIVE_TOUCH_ACTION && this.manager.element.style && TOUCH_ACTION_MAP[value]) {\n        this.manager.element.style[PREFIXED_TOUCH_ACTION] = value;\n      }\n\n      this.actions = value.toLowerCase().trim();\n    },\n\n    /**\n     * just re-set the touchAction value\n     */\n    update: function update() {\n      this.set(this.manager.options.touchAction);\n    },\n\n    /**\n     * compute the value for the touchAction property based on the recognizer's settings\n     * @returns {String} value\n     */\n    compute: function compute() {\n      var actions = [];\n      each(this.manager.recognizers, function (recognizer) {\n        if (boolOrFn(recognizer.options.enable, [recognizer])) {\n          actions = actions.concat(recognizer.getTouchAction());\n        }\n      });\n      return cleanTouchActions(actions.join(' '));\n    },\n\n    /**\n     * this method is called on each input cycle and provides the preventing of the browser behavior\n     * @param {Object} input\n     */\n    preventDefaults: function preventDefaults(input) {\n      var srcEvent = input.srcEvent;\n      var direction = input.offsetDirection; // if the touch action did prevented once this session\n\n      if (this.manager.session.prevented) {\n        srcEvent.preventDefault();\n        return;\n      }\n\n      var actions = this.actions;\n      var hasNone = inStr(actions, TOUCH_ACTION_NONE) && !TOUCH_ACTION_MAP[TOUCH_ACTION_NONE];\n      var hasPanY = inStr(actions, TOUCH_ACTION_PAN_Y) && !TOUCH_ACTION_MAP[TOUCH_ACTION_PAN_Y];\n      var hasPanX = inStr(actions, TOUCH_ACTION_PAN_X) && !TOUCH_ACTION_MAP[TOUCH_ACTION_PAN_X];\n\n      if (hasNone) {\n        //do not prevent defaults if this is a tap gesture\n        var isTapPointer = input.pointers.length === 1;\n        var isTapMovement = input.distance < 2;\n        var isTapTouchTime = input.deltaTime < 250;\n\n        if (isTapPointer && isTapMovement && isTapTouchTime) {\n          return;\n        }\n      }\n\n      if (hasPanX && hasPanY) {\n        // `pan-x pan-y` means browser handles all scrolling/panning, do not prevent\n        return;\n      }\n\n      if (hasNone || hasPanY && direction & DIRECTION_HORIZONTAL || hasPanX && direction & DIRECTION_VERTICAL) {\n        return this.preventSrc(srcEvent);\n      }\n    },\n\n    /**\n     * call preventDefault to prevent the browser's default behavior (scrolling in most cases)\n     * @param {Object} srcEvent\n     */\n    preventSrc: function preventSrc(srcEvent) {\n      this.manager.session.prevented = true;\n      srcEvent.preventDefault();\n    }\n  };\n  /**\n   * when the touchActions are collected they are not a valid value, so we need to clean things up. *\n   * @param {String} actions\n   * @returns {*}\n   */\n\n  function cleanTouchActions(actions) {\n    // none\n    if (inStr(actions, TOUCH_ACTION_NONE)) {\n      return TOUCH_ACTION_NONE;\n    }\n\n    var hasPanX = inStr(actions, TOUCH_ACTION_PAN_X);\n    var hasPanY = inStr(actions, TOUCH_ACTION_PAN_Y); // if both pan-x and pan-y are set (different recognizers\n    // for different directions, e.g. horizontal pan but vertical swipe?)\n    // we need none (as otherwise with pan-x pan-y combined none of these\n    // recognizers will work, since the browser would handle all panning\n\n    if (hasPanX && hasPanY) {\n      return TOUCH_ACTION_NONE;\n    } // pan-x OR pan-y\n\n\n    if (hasPanX || hasPanY) {\n      return hasPanX ? TOUCH_ACTION_PAN_X : TOUCH_ACTION_PAN_Y;\n    } // manipulation\n\n\n    if (inStr(actions, TOUCH_ACTION_MANIPULATION)) {\n      return TOUCH_ACTION_MANIPULATION;\n    }\n\n    return TOUCH_ACTION_AUTO;\n  }\n\n  function getTouchActionProps() {\n    if (!NATIVE_TOUCH_ACTION) {\n      return false;\n    }\n\n    var touchMap = {};\n    var cssSupports = window.CSS && window.CSS.supports;\n    ['auto', 'manipulation', 'pan-y', 'pan-x', 'pan-x pan-y', 'none'].forEach(function (val) {\n      // If css.supports is not supported but there is native touch-action assume it supports\n      // all values. This is the case for IE 10 and 11.\n      touchMap[val] = cssSupports ? window.CSS.supports('touch-action', val) : true;\n    });\n    return touchMap;\n  }\n  /**\n   * Recognizer flow explained; *\n   * All recognizers have the initial state of POSSIBLE when a input session starts.\n   * The definition of a input session is from the first input until the last input, with all it's movement in it. *\n   * Example session for mouse-input: mousedown -> mousemove -> mouseup\n   *\n   * On each recognizing cycle (see Manager.recognize) the .recognize() method is executed\n   * which determines with state it should be.\n   *\n   * If the recognizer has the state FAILED, CANCELLED or RECOGNIZED (equals ENDED), it is reset to\n   * POSSIBLE to give it another change on the next cycle.\n   *\n   *               Possible\n   *                  |\n   *            +-----+---------------+\n   *            |                     |\n   *      +-----+-----+               |\n   *      |           |               |\n   *   Failed      Cancelled          |\n   *                          +-------+------+\n   *                          |              |\n   *                      Recognized       Began\n   *                                         |\n   *                                      Changed\n   *                                         |\n   *                                  Ended/Recognized\n   */\n\n\n  var STATE_POSSIBLE = 1;\n  var STATE_BEGAN = 2;\n  var STATE_CHANGED = 4;\n  var STATE_ENDED = 8;\n  var STATE_RECOGNIZED = STATE_ENDED;\n  var STATE_CANCELLED = 16;\n  var STATE_FAILED = 32;\n  /**\n   * Recognizer\n   * Every recognizer needs to extend from this class.\n   * @constructor\n   * @param {Object} options\n   */\n\n  function Recognizer(options) {\n    this.options = assign({}, this.defaults, options || {});\n    this.id = uniqueId();\n    this.manager = null; // default is enable true\n\n    this.options.enable = ifUndefined(this.options.enable, true);\n    this.state = STATE_POSSIBLE;\n    this.simultaneous = {};\n    this.requireFail = [];\n  }\n\n  Recognizer.prototype = {\n    /**\n     * @virtual\n     * @type {Object}\n     */\n    defaults: {},\n\n    /**\n     * set options\n     * @param {Object} options\n     * @return {Recognizer}\n     */\n    set: function set(options) {\n      assign(this.options, options); // also update the touchAction, in case something changed about the directions/enabled state\n\n      this.manager && this.manager.touchAction.update();\n      return this;\n    },\n\n    /**\n     * recognize simultaneous with an other recognizer.\n     * @param {Recognizer} otherRecognizer\n     * @returns {Recognizer} this\n     */\n    recognizeWith: function recognizeWith(otherRecognizer) {\n      if (invokeArrayArg(otherRecognizer, 'recognizeWith', this)) {\n        return this;\n      }\n\n      var simultaneous = this.simultaneous;\n      otherRecognizer = getRecognizerByNameIfManager(otherRecognizer, this);\n\n      if (!simultaneous[otherRecognizer.id]) {\n        simultaneous[otherRecognizer.id] = otherRecognizer;\n        otherRecognizer.recognizeWith(this);\n      }\n\n      return this;\n    },\n\n    /**\n     * drop the simultaneous link. it doesnt remove the link on the other recognizer.\n     * @param {Recognizer} otherRecognizer\n     * @returns {Recognizer} this\n     */\n    dropRecognizeWith: function dropRecognizeWith(otherRecognizer) {\n      if (invokeArrayArg(otherRecognizer, 'dropRecognizeWith', this)) {\n        return this;\n      }\n\n      otherRecognizer = getRecognizerByNameIfManager(otherRecognizer, this);\n      delete this.simultaneous[otherRecognizer.id];\n      return this;\n    },\n\n    /**\n     * recognizer can only run when an other is failing\n     * @param {Recognizer} otherRecognizer\n     * @returns {Recognizer} this\n     */\n    requireFailure: function requireFailure(otherRecognizer) {\n      if (invokeArrayArg(otherRecognizer, 'requireFailure', this)) {\n        return this;\n      }\n\n      var requireFail = this.requireFail;\n      otherRecognizer = getRecognizerByNameIfManager(otherRecognizer, this);\n\n      if (inArray(requireFail, otherRecognizer) === -1) {\n        requireFail.push(otherRecognizer);\n        otherRecognizer.requireFailure(this);\n      }\n\n      return this;\n    },\n\n    /**\n     * drop the requireFailure link. it does not remove the link on the other recognizer.\n     * @param {Recognizer} otherRecognizer\n     * @returns {Recognizer} this\n     */\n    dropRequireFailure: function dropRequireFailure(otherRecognizer) {\n      if (invokeArrayArg(otherRecognizer, 'dropRequireFailure', this)) {\n        return this;\n      }\n\n      otherRecognizer = getRecognizerByNameIfManager(otherRecognizer, this);\n      var index = inArray(this.requireFail, otherRecognizer);\n\n      if (index > -1) {\n        this.requireFail.splice(index, 1);\n      }\n\n      return this;\n    },\n\n    /**\n     * has require failures boolean\n     * @returns {boolean}\n     */\n    hasRequireFailures: function hasRequireFailures() {\n      return this.requireFail.length > 0;\n    },\n\n    /**\n     * if the recognizer can recognize simultaneous with an other recognizer\n     * @param {Recognizer} otherRecognizer\n     * @returns {Boolean}\n     */\n    canRecognizeWith: function canRecognizeWith(otherRecognizer) {\n      return !!this.simultaneous[otherRecognizer.id];\n    },\n\n    /**\n     * You should use `tryEmit` instead of `emit` directly to check\n     * that all the needed recognizers has failed before emitting.\n     * @param {Object} input\n     */\n    emit: function emit(input) {\n      var self = this;\n      var state = this.state;\n\n      function emit(event) {\n        self.manager.emit(event, input);\n      } // 'panstart' and 'panmove'\n\n\n      if (state < STATE_ENDED) {\n        emit(self.options.event + stateStr(state));\n      }\n\n      emit(self.options.event); // simple 'eventName' events\n\n      if (input.additionalEvent) {\n        // additional event(panleft, panright, pinchin, pinchout...)\n        emit(input.additionalEvent);\n      } // panend and pancancel\n\n\n      if (state >= STATE_ENDED) {\n        emit(self.options.event + stateStr(state));\n      }\n    },\n\n    /**\n     * Check that all the require failure recognizers has failed,\n     * if true, it emits a gesture event,\n     * otherwise, setup the state to FAILED.\n     * @param {Object} input\n     */\n    tryEmit: function tryEmit(input) {\n      if (this.canEmit()) {\n        return this.emit(input);\n      } // it's failing anyway\n\n\n      this.state = STATE_FAILED;\n    },\n\n    /**\n     * can we emit?\n     * @returns {boolean}\n     */\n    canEmit: function canEmit() {\n      var i = 0;\n\n      while (i < this.requireFail.length) {\n        if (!(this.requireFail[i].state & (STATE_FAILED | STATE_POSSIBLE))) {\n          return false;\n        }\n\n        i++;\n      }\n\n      return true;\n    },\n\n    /**\n     * update the recognizer\n     * @param {Object} inputData\n     */\n    recognize: function recognize(inputData) {\n      // make a new copy of the inputData\n      // so we can change the inputData without messing up the other recognizers\n      var inputDataClone = assign({}, inputData); // is is enabled and allow recognizing?\n\n      if (!boolOrFn(this.options.enable, [this, inputDataClone])) {\n        this.reset();\n        this.state = STATE_FAILED;\n        return;\n      } // reset when we've reached the end\n\n\n      if (this.state & (STATE_RECOGNIZED | STATE_CANCELLED | STATE_FAILED)) {\n        this.state = STATE_POSSIBLE;\n      }\n\n      this.state = this.process(inputDataClone); // the recognizer has recognized a gesture\n      // so trigger an event\n\n      if (this.state & (STATE_BEGAN | STATE_CHANGED | STATE_ENDED | STATE_CANCELLED)) {\n        this.tryEmit(inputDataClone);\n      }\n    },\n\n    /**\n     * return the state of the recognizer\n     * the actual recognizing happens in this method\n     * @virtual\n     * @param {Object} inputData\n     * @returns {Const} STATE\n     */\n    process: function process(inputData) {},\n    // jshint ignore:line\n\n    /**\n     * return the preferred touch-action\n     * @virtual\n     * @returns {Array}\n     */\n    getTouchAction: function getTouchAction() {},\n\n    /**\n     * called when the gesture isn't allowed to recognize\n     * like when another is being recognized or it is disabled\n     * @virtual\n     */\n    reset: function reset() {}\n  };\n  /**\n   * get a usable string, used as event postfix\n   * @param {Const} state\n   * @returns {String} state\n   */\n\n  function stateStr(state) {\n    if (state & STATE_CANCELLED) {\n      return 'cancel';\n    } else if (state & STATE_ENDED) {\n      return 'end';\n    } else if (state & STATE_CHANGED) {\n      return 'move';\n    } else if (state & STATE_BEGAN) {\n      return 'start';\n    }\n\n    return '';\n  }\n  /**\n   * direction cons to string\n   * @param {Const} direction\n   * @returns {String}\n   */\n\n\n  function directionStr(direction) {\n    if (direction == DIRECTION_DOWN) {\n      return 'down';\n    } else if (direction == DIRECTION_UP) {\n      return 'up';\n    } else if (direction == DIRECTION_LEFT) {\n      return 'left';\n    } else if (direction == DIRECTION_RIGHT) {\n      return 'right';\n    }\n\n    return '';\n  }\n  /**\n   * get a recognizer by name if it is bound to a manager\n   * @param {Recognizer|String} otherRecognizer\n   * @param {Recognizer} recognizer\n   * @returns {Recognizer}\n   */\n\n\n  function getRecognizerByNameIfManager(otherRecognizer, recognizer) {\n    var manager = recognizer.manager;\n\n    if (manager) {\n      return manager.get(otherRecognizer);\n    }\n\n    return otherRecognizer;\n  }\n  /**\n   * This recognizer is just used as a base for the simple attribute recognizers.\n   * @constructor\n   * @extends Recognizer\n   */\n\n\n  function AttrRecognizer() {\n    Recognizer.apply(this, arguments);\n  }\n\n  inherit(AttrRecognizer, Recognizer, {\n    /**\n     * @namespace\n     * @memberof AttrRecognizer\n     */\n    defaults: {\n      /**\n       * @type {Number}\n       * @default 1\n       */\n      pointers: 1\n    },\n\n    /**\n     * Used to check if it the recognizer receives valid input, like input.distance > 10.\n     * @memberof AttrRecognizer\n     * @param {Object} input\n     * @returns {Boolean} recognized\n     */\n    attrTest: function attrTest(input) {\n      var optionPointers = this.options.pointers;\n      return optionPointers === 0 || input.pointers.length === optionPointers;\n    },\n\n    /**\n     * Process the input and return the state for the recognizer\n     * @memberof AttrRecognizer\n     * @param {Object} input\n     * @returns {*} State\n     */\n    process: function process(input) {\n      var state = this.state;\n      var eventType = input.eventType;\n      var isRecognized = state & (STATE_BEGAN | STATE_CHANGED);\n      var isValid = this.attrTest(input); // on cancel input and we've recognized before, return STATE_CANCELLED\n\n      if (isRecognized && (eventType & INPUT_CANCEL || !isValid)) {\n        return state | STATE_CANCELLED;\n      } else if (isRecognized || isValid) {\n        if (eventType & INPUT_END) {\n          return state | STATE_ENDED;\n        } else if (!(state & STATE_BEGAN)) {\n          return STATE_BEGAN;\n        }\n\n        return state | STATE_CHANGED;\n      }\n\n      return STATE_FAILED;\n    }\n  });\n  /**\n   * Pan\n   * Recognized when the pointer is down and moved in the allowed direction.\n   * @constructor\n   * @extends AttrRecognizer\n   */\n\n  function PanRecognizer() {\n    AttrRecognizer.apply(this, arguments);\n    this.pX = null;\n    this.pY = null;\n  }\n\n  inherit(PanRecognizer, AttrRecognizer, {\n    /**\n     * @namespace\n     * @memberof PanRecognizer\n     */\n    defaults: {\n      event: 'pan',\n      threshold: 10,\n      pointers: 1,\n      direction: DIRECTION_ALL\n    },\n    getTouchAction: function getTouchAction() {\n      var direction = this.options.direction;\n      var actions = [];\n\n      if (direction & DIRECTION_HORIZONTAL) {\n        actions.push(TOUCH_ACTION_PAN_Y);\n      }\n\n      if (direction & DIRECTION_VERTICAL) {\n        actions.push(TOUCH_ACTION_PAN_X);\n      }\n\n      return actions;\n    },\n    directionTest: function directionTest(input) {\n      var options = this.options;\n      var hasMoved = true;\n      var distance = input.distance;\n      var direction = input.direction;\n      var x = input.deltaX;\n      var y = input.deltaY; // lock to axis?\n\n      if (!(direction & options.direction)) {\n        if (options.direction & DIRECTION_HORIZONTAL) {\n          direction = x === 0 ? DIRECTION_NONE : x < 0 ? DIRECTION_LEFT : DIRECTION_RIGHT;\n          hasMoved = x != this.pX;\n          distance = Math.abs(input.deltaX);\n        } else {\n          direction = y === 0 ? DIRECTION_NONE : y < 0 ? DIRECTION_UP : DIRECTION_DOWN;\n          hasMoved = y != this.pY;\n          distance = Math.abs(input.deltaY);\n        }\n      }\n\n      input.direction = direction;\n      return hasMoved && distance > options.threshold && direction & options.direction;\n    },\n    attrTest: function attrTest(input) {\n      return AttrRecognizer.prototype.attrTest.call(this, input) && (this.state & STATE_BEGAN || !(this.state & STATE_BEGAN) && this.directionTest(input));\n    },\n    emit: function emit(input) {\n      this.pX = input.deltaX;\n      this.pY = input.deltaY;\n      var direction = directionStr(input.direction);\n\n      if (direction) {\n        input.additionalEvent = this.options.event + direction;\n      }\n\n      this._super.emit.call(this, input);\n    }\n  });\n  /**\n   * Pinch\n   * Recognized when two or more pointers are moving toward (zoom-in) or away from each other (zoom-out).\n   * @constructor\n   * @extends AttrRecognizer\n   */\n\n  function PinchRecognizer() {\n    AttrRecognizer.apply(this, arguments);\n  }\n\n  inherit(PinchRecognizer, AttrRecognizer, {\n    /**\n     * @namespace\n     * @memberof PinchRecognizer\n     */\n    defaults: {\n      event: 'pinch',\n      threshold: 0,\n      pointers: 2\n    },\n    getTouchAction: function getTouchAction() {\n      return [TOUCH_ACTION_NONE];\n    },\n    attrTest: function attrTest(input) {\n      return this._super.attrTest.call(this, input) && (Math.abs(input.scale - 1) > this.options.threshold || this.state & STATE_BEGAN);\n    },\n    emit: function emit(input) {\n      if (input.scale !== 1) {\n        var inOut = input.scale < 1 ? 'in' : 'out';\n        input.additionalEvent = this.options.event + inOut;\n      }\n\n      this._super.emit.call(this, input);\n    }\n  });\n  /**\n   * Press\n   * Recognized when the pointer is down for x ms without any movement.\n   * @constructor\n   * @extends Recognizer\n   */\n\n  function PressRecognizer() {\n    Recognizer.apply(this, arguments);\n    this._timer = null;\n    this._input = null;\n  }\n\n  inherit(PressRecognizer, Recognizer, {\n    /**\n     * @namespace\n     * @memberof PressRecognizer\n     */\n    defaults: {\n      event: 'press',\n      pointers: 1,\n      time: 251,\n      // minimal time of the pointer to be pressed\n      threshold: 9 // a minimal movement is ok, but keep it low\n\n    },\n    getTouchAction: function getTouchAction() {\n      return [TOUCH_ACTION_AUTO];\n    },\n    process: function process(input) {\n      var options = this.options;\n      var validPointers = input.pointers.length === options.pointers;\n      var validMovement = input.distance < options.threshold;\n      var validTime = input.deltaTime > options.time;\n      this._input = input; // we only allow little movement\n      // and we've reached an end event, so a tap is possible\n\n      if (!validMovement || !validPointers || input.eventType & (INPUT_END | INPUT_CANCEL) && !validTime) {\n        this.reset();\n      } else if (input.eventType & INPUT_START) {\n        this.reset();\n        this._timer = setTimeoutContext(function () {\n          this.state = STATE_RECOGNIZED;\n          this.tryEmit();\n        }, options.time, this);\n      } else if (input.eventType & INPUT_END) {\n        return STATE_RECOGNIZED;\n      }\n\n      return STATE_FAILED;\n    },\n    reset: function reset() {\n      clearTimeout(this._timer);\n    },\n    emit: function emit(input) {\n      if (this.state !== STATE_RECOGNIZED) {\n        return;\n      }\n\n      if (input && input.eventType & INPUT_END) {\n        this.manager.emit(this.options.event + 'up', input);\n      } else {\n        this._input.timeStamp = now();\n        this.manager.emit(this.options.event, this._input);\n      }\n    }\n  });\n  /**\n   * Rotate\n   * Recognized when two or more pointer are moving in a circular motion.\n   * @constructor\n   * @extends AttrRecognizer\n   */\n\n  function RotateRecognizer() {\n    AttrRecognizer.apply(this, arguments);\n  }\n\n  inherit(RotateRecognizer, AttrRecognizer, {\n    /**\n     * @namespace\n     * @memberof RotateRecognizer\n     */\n    defaults: {\n      event: 'rotate',\n      threshold: 0,\n      pointers: 2\n    },\n    getTouchAction: function getTouchAction() {\n      return [TOUCH_ACTION_NONE];\n    },\n    attrTest: function attrTest(input) {\n      return this._super.attrTest.call(this, input) && (Math.abs(input.rotation) > this.options.threshold || this.state & STATE_BEGAN);\n    }\n  });\n  /**\n   * Swipe\n   * Recognized when the pointer is moving fast (velocity), with enough distance in the allowed direction.\n   * @constructor\n   * @extends AttrRecognizer\n   */\n\n  function SwipeRecognizer() {\n    AttrRecognizer.apply(this, arguments);\n  }\n\n  inherit(SwipeRecognizer, AttrRecognizer, {\n    /**\n     * @namespace\n     * @memberof SwipeRecognizer\n     */\n    defaults: {\n      event: 'swipe',\n      threshold: 10,\n      velocity: 0.3,\n      direction: DIRECTION_HORIZONTAL | DIRECTION_VERTICAL,\n      pointers: 1\n    },\n    getTouchAction: function getTouchAction() {\n      return PanRecognizer.prototype.getTouchAction.call(this);\n    },\n    attrTest: function attrTest(input) {\n      var direction = this.options.direction;\n      var velocity;\n\n      if (direction & (DIRECTION_HORIZONTAL | DIRECTION_VERTICAL)) {\n        velocity = input.overallVelocity;\n      } else if (direction & DIRECTION_HORIZONTAL) {\n        velocity = input.overallVelocityX;\n      } else if (direction & DIRECTION_VERTICAL) {\n        velocity = input.overallVelocityY;\n      }\n\n      return this._super.attrTest.call(this, input) && direction & input.offsetDirection && input.distance > this.options.threshold && input.maxPointers == this.options.pointers && abs(velocity) > this.options.velocity && input.eventType & INPUT_END;\n    },\n    emit: function emit(input) {\n      var direction = directionStr(input.offsetDirection);\n\n      if (direction) {\n        this.manager.emit(this.options.event + direction, input);\n      }\n\n      this.manager.emit(this.options.event, input);\n    }\n  });\n  /**\n   * A tap is ecognized when the pointer is doing a small tap/click. Multiple taps are recognized if they occur\n   * between the given interval and position. The delay option can be used to recognize multi-taps without firing\n   * a single tap.\n   *\n   * The eventData from the emitted event contains the property `tapCount`, which contains the amount of\n   * multi-taps being recognized.\n   * @constructor\n   * @extends Recognizer\n   */\n\n  function TapRecognizer() {\n    Recognizer.apply(this, arguments); // previous time and center,\n    // used for tap counting\n\n    this.pTime = false;\n    this.pCenter = false;\n    this._timer = null;\n    this._input = null;\n    this.count = 0;\n  }\n\n  inherit(TapRecognizer, Recognizer, {\n    /**\n     * @namespace\n     * @memberof PinchRecognizer\n     */\n    defaults: {\n      event: 'tap',\n      pointers: 1,\n      taps: 1,\n      interval: 300,\n      // max time between the multi-tap taps\n      time: 250,\n      // max time of the pointer to be down (like finger on the screen)\n      threshold: 9,\n      // a minimal movement is ok, but keep it low\n      posThreshold: 10 // a multi-tap can be a bit off the initial position\n\n    },\n    getTouchAction: function getTouchAction() {\n      return [TOUCH_ACTION_MANIPULATION];\n    },\n    process: function process(input) {\n      var options = this.options;\n      var validPointers = input.pointers.length === options.pointers;\n      var validMovement = input.distance < options.threshold;\n      var validTouchTime = input.deltaTime < options.time;\n      this.reset();\n\n      if (input.eventType & INPUT_START && this.count === 0) {\n        return this.failTimeout();\n      } // we only allow little movement\n      // and we've reached an end event, so a tap is possible\n\n\n      if (validMovement && validTouchTime && validPointers) {\n        if (input.eventType != INPUT_END) {\n          return this.failTimeout();\n        }\n\n        var validInterval = this.pTime ? input.timeStamp - this.pTime < options.interval : true;\n        var validMultiTap = !this.pCenter || getDistance(this.pCenter, input.center) < options.posThreshold;\n        this.pTime = input.timeStamp;\n        this.pCenter = input.center;\n\n        if (!validMultiTap || !validInterval) {\n          this.count = 1;\n        } else {\n          this.count += 1;\n        }\n\n        this._input = input; // if tap count matches we have recognized it,\n        // else it has began recognizing...\n\n        var tapCount = this.count % options.taps;\n\n        if (tapCount === 0) {\n          // no failing requirements, immediately trigger the tap event\n          // or wait as long as the multitap interval to trigger\n          if (!this.hasRequireFailures()) {\n            return STATE_RECOGNIZED;\n          } else {\n            this._timer = setTimeoutContext(function () {\n              this.state = STATE_RECOGNIZED;\n              this.tryEmit();\n            }, options.interval, this);\n            return STATE_BEGAN;\n          }\n        }\n      }\n\n      return STATE_FAILED;\n    },\n    failTimeout: function failTimeout() {\n      this._timer = setTimeoutContext(function () {\n        this.state = STATE_FAILED;\n      }, this.options.interval, this);\n      return STATE_FAILED;\n    },\n    reset: function reset() {\n      clearTimeout(this._timer);\n    },\n    emit: function emit() {\n      if (this.state == STATE_RECOGNIZED) {\n        this._input.tapCount = this.count;\n        this.manager.emit(this.options.event, this._input);\n      }\n    }\n  });\n  /**\n   * Simple way to create a manager with a default set of recognizers.\n   * @param {HTMLElement} element\n   * @param {Object} [options]\n   * @constructor\n   */\n\n  function Hammer(element, options) {\n    options = options || {};\n    options.recognizers = ifUndefined(options.recognizers, Hammer.defaults.preset);\n    return new Manager(element, options);\n  }\n  /**\n   * @const {string}\n   */\n\n\n  Hammer.VERSION = '2.0.7';\n  /**\n   * default settings\n   * @namespace\n   */\n\n  Hammer.defaults = {\n    /**\n     * set if DOM events are being triggered.\n     * But this is slower and unused by simple implementations, so disabled by default.\n     * @type {Boolean}\n     * @default false\n     */\n    domEvents: false,\n\n    /**\n     * The value for the touchAction property/fallback.\n     * When set to `compute` it will magically set the correct value based on the added recognizers.\n     * @type {String}\n     * @default compute\n     */\n    touchAction: TOUCH_ACTION_COMPUTE,\n\n    /**\n     * @type {Boolean}\n     * @default true\n     */\n    enable: true,\n\n    /**\n     * EXPERIMENTAL FEATURE -- can be removed/changed\n     * Change the parent input target element.\n     * If Null, then it is being set the to main element.\n     * @type {Null|EventTarget}\n     * @default null\n     */\n    inputTarget: null,\n\n    /**\n     * force an input class\n     * @type {Null|Function}\n     * @default null\n     */\n    inputClass: null,\n\n    /**\n     * Default recognizer setup when calling `Hammer()`\n     * When creating a new Manager these will be skipped.\n     * @type {Array}\n     */\n    preset: [// RecognizerClass, options, [recognizeWith, ...], [requireFailure, ...]\n    [RotateRecognizer, {\n      enable: false\n    }], [PinchRecognizer, {\n      enable: false\n    }, ['rotate']], [SwipeRecognizer, {\n      direction: DIRECTION_HORIZONTAL\n    }], [PanRecognizer, {\n      direction: DIRECTION_HORIZONTAL\n    }, ['swipe']], [TapRecognizer], [TapRecognizer, {\n      event: 'doubletap',\n      taps: 2\n    }, ['tap']], [PressRecognizer]],\n\n    /**\n     * Some CSS properties can be used to improve the working of Hammer.\n     * Add them to this method and they will be set when creating a new Manager.\n     * @namespace\n     */\n    cssProps: {\n      /**\n       * Disables text selection to improve the dragging gesture. Mainly for desktop browsers.\n       * @type {String}\n       * @default 'none'\n       */\n      userSelect: 'none',\n\n      /**\n       * Disable the Windows Phone grippers when pressing an element.\n       * @type {String}\n       * @default 'none'\n       */\n      touchSelect: 'none',\n\n      /**\n       * Disables the default callout shown when you touch and hold a touch target.\n       * On iOS, when you touch and hold a touch target such as a link, Safari displays\n       * a callout containing information about the link. This property allows you to disable that callout.\n       * @type {String}\n       * @default 'none'\n       */\n      touchCallout: 'none',\n\n      /**\n       * Specifies whether zooming is enabled. Used by IE10>\n       * @type {String}\n       * @default 'none'\n       */\n      contentZooming: 'none',\n\n      /**\n       * Specifies that an entire element should be draggable instead of its contents. Mainly for desktop browsers.\n       * @type {String}\n       * @default 'none'\n       */\n      userDrag: 'none',\n\n      /**\n       * Overrides the highlight color shown when the user taps a link or a JavaScript\n       * clickable element in iOS. This property obeys the alpha value, if specified.\n       * @type {String}\n       * @default 'rgba(0,0,0,0)'\n       */\n      tapHighlightColor: 'rgba(0,0,0,0)'\n    }\n  };\n  var STOP = 1;\n  var FORCED_STOP = 2;\n  /**\n   * Manager\n   * @param {HTMLElement} element\n   * @param {Object} [options]\n   * @constructor\n   */\n\n  function Manager(element, options) {\n    this.options = assign({}, Hammer.defaults, options || {});\n    this.options.inputTarget = this.options.inputTarget || element;\n    this.handlers = {};\n    this.session = {};\n    this.recognizers = [];\n    this.oldCssProps = {};\n    this.element = element;\n    this.input = createInputInstance(this);\n    this.touchAction = new TouchAction(this, this.options.touchAction);\n    toggleCssProps(this, true);\n    each(this.options.recognizers, function (item) {\n      var recognizer = this.add(new item[0](item[1]));\n      item[2] && recognizer.recognizeWith(item[2]);\n      item[3] && recognizer.requireFailure(item[3]);\n    }, this);\n  }\n\n  Manager.prototype = {\n    /**\n     * set options\n     * @param {Object} options\n     * @returns {Manager}\n     */\n    set: function set(options) {\n      assign(this.options, options); // Options that need a little more setup\n\n      if (options.touchAction) {\n        this.touchAction.update();\n      }\n\n      if (options.inputTarget) {\n        // Clean up existing event listeners and reinitialize\n        this.input.destroy();\n        this.input.target = options.inputTarget;\n        this.input.init();\n      }\n\n      return this;\n    },\n\n    /**\n     * stop recognizing for this session.\n     * This session will be discarded, when a new [input]start event is fired.\n     * When forced, the recognizer cycle is stopped immediately.\n     * @param {Boolean} [force]\n     */\n    stop: function stop(force) {\n      this.session.stopped = force ? FORCED_STOP : STOP;\n    },\n\n    /**\n     * run the recognizers!\n     * called by the inputHandler function on every movement of the pointers (touches)\n     * it walks through all the recognizers and tries to detect the gesture that is being made\n     * @param {Object} inputData\n     */\n    recognize: function recognize(inputData) {\n      var session = this.session;\n\n      if (session.stopped) {\n        return;\n      } // run the touch-action polyfill\n\n\n      this.touchAction.preventDefaults(inputData);\n      var recognizer;\n      var recognizers = this.recognizers; // this holds the recognizer that is being recognized.\n      // so the recognizer's state needs to be BEGAN, CHANGED, ENDED or RECOGNIZED\n      // if no recognizer is detecting a thing, it is set to `null`\n\n      var curRecognizer = session.curRecognizer; // reset when the last recognizer is recognized\n      // or when we're in a new session\n\n      if (!curRecognizer || curRecognizer && curRecognizer.state & STATE_RECOGNIZED) {\n        curRecognizer = session.curRecognizer = null;\n      }\n\n      var i = 0;\n\n      while (i < recognizers.length) {\n        recognizer = recognizers[i]; // find out if we are allowed try to recognize the input for this one.\n        // 1.   allow if the session is NOT forced stopped (see the .stop() method)\n        // 2.   allow if we still haven't recognized a gesture in this session, or the this recognizer is the one\n        //      that is being recognized.\n        // 3.   allow if the recognizer is allowed to run simultaneous with the current recognized recognizer.\n        //      this can be setup with the `recognizeWith()` method on the recognizer.\n\n        if (session.stopped !== FORCED_STOP && ( // 1\n        !curRecognizer || recognizer == curRecognizer || // 2\n        recognizer.canRecognizeWith(curRecognizer))) {\n          // 3\n          recognizer.recognize(inputData);\n        } else {\n          recognizer.reset();\n        } // if the recognizer has been recognizing the input as a valid gesture, we want to store this one as the\n        // current active recognizer. but only if we don't already have an active recognizer\n\n\n        if (!curRecognizer && recognizer.state & (STATE_BEGAN | STATE_CHANGED | STATE_ENDED)) {\n          curRecognizer = session.curRecognizer = recognizer;\n        }\n\n        i++;\n      }\n    },\n\n    /**\n     * get a recognizer by its event name.\n     * @param {Recognizer|String} recognizer\n     * @returns {Recognizer|Null}\n     */\n    get: function get(recognizer) {\n      if (recognizer instanceof Recognizer) {\n        return recognizer;\n      }\n\n      var recognizers = this.recognizers;\n\n      for (var i = 0; i < recognizers.length; i++) {\n        if (recognizers[i].options.event == recognizer) {\n          return recognizers[i];\n        }\n      }\n\n      return null;\n    },\n\n    /**\n     * add a recognizer to the manager\n     * existing recognizers with the same event name will be removed\n     * @param {Recognizer} recognizer\n     * @returns {Recognizer|Manager}\n     */\n    add: function add(recognizer) {\n      if (invokeArrayArg(recognizer, 'add', this)) {\n        return this;\n      } // remove existing\n\n\n      var existing = this.get(recognizer.options.event);\n\n      if (existing) {\n        this.remove(existing);\n      }\n\n      this.recognizers.push(recognizer);\n      recognizer.manager = this;\n      this.touchAction.update();\n      return recognizer;\n    },\n\n    /**\n     * remove a recognizer by name or instance\n     * @param {Recognizer|String} recognizer\n     * @returns {Manager}\n     */\n    remove: function remove(recognizer) {\n      if (invokeArrayArg(recognizer, 'remove', this)) {\n        return this;\n      }\n\n      recognizer = this.get(recognizer); // let's make sure this recognizer exists\n\n      if (recognizer) {\n        var recognizers = this.recognizers;\n        var index = inArray(recognizers, recognizer);\n\n        if (index !== -1) {\n          recognizers.splice(index, 1);\n          this.touchAction.update();\n        }\n      }\n\n      return this;\n    },\n\n    /**\n     * bind event\n     * @param {String} events\n     * @param {Function} handler\n     * @returns {EventEmitter} this\n     */\n    on: function on(events, handler) {\n      if (events === undefined) {\n        return;\n      }\n\n      if (handler === undefined) {\n        return;\n      }\n\n      var handlers = this.handlers;\n      each(splitStr(events), function (event) {\n        handlers[event] = handlers[event] || [];\n        handlers[event].push(handler);\n      });\n      return this;\n    },\n\n    /**\n     * unbind event, leave emit blank to remove all handlers\n     * @param {String} events\n     * @param {Function} [handler]\n     * @returns {EventEmitter} this\n     */\n    off: function off(events, handler) {\n      if (events === undefined) {\n        return;\n      }\n\n      var handlers = this.handlers;\n      each(splitStr(events), function (event) {\n        if (!handler) {\n          delete handlers[event];\n        } else {\n          handlers[event] && handlers[event].splice(inArray(handlers[event], handler), 1);\n        }\n      });\n      return this;\n    },\n\n    /**\n     * emit event to the listeners\n     * @param {String} event\n     * @param {Object} data\n     */\n    emit: function emit(event, data) {\n      // we also want to trigger dom events\n      if (this.options.domEvents) {\n        triggerDomEvent(event, data);\n      } // no handlers, so skip it all\n\n\n      var handlers = this.handlers[event] && this.handlers[event].slice();\n\n      if (!handlers || !handlers.length) {\n        return;\n      }\n\n      data.type = event;\n\n      data.preventDefault = function () {\n        data.srcEvent.preventDefault();\n      };\n\n      var i = 0;\n\n      while (i < handlers.length) {\n        handlers[i](data);\n        i++;\n      }\n    },\n\n    /**\n     * destroy the manager and unbinds all events\n     * it doesn't unbind dom events, that is the user own responsibility\n     */\n    destroy: function destroy() {\n      this.element && toggleCssProps(this, false);\n      this.handlers = {};\n      this.session = {};\n      this.input.destroy();\n      this.element = null;\n    }\n  };\n  /**\n   * add/remove the css properties as defined in manager.options.cssProps\n   * @param {Manager} manager\n   * @param {Boolean} add\n   */\n\n  function toggleCssProps(manager, add) {\n    var element = manager.element;\n\n    if (!element.style) {\n      return;\n    }\n\n    var prop;\n    each(manager.options.cssProps, function (value, name) {\n      prop = prefixed(element.style, name);\n\n      if (add) {\n        manager.oldCssProps[prop] = element.style[prop];\n        element.style[prop] = value;\n      } else {\n        element.style[prop] = manager.oldCssProps[prop] || '';\n      }\n    });\n\n    if (!add) {\n      manager.oldCssProps = {};\n    }\n  }\n  /**\n   * trigger dom event\n   * @param {String} event\n   * @param {Object} data\n   */\n\n\n  function triggerDomEvent(event, data) {\n    var gestureEvent = document.createEvent('Event');\n    gestureEvent.initEvent(event, true, true);\n    gestureEvent.gesture = data;\n    data.target.dispatchEvent(gestureEvent);\n  }\n\n  assign(Hammer, {\n    INPUT_START: INPUT_START,\n    INPUT_MOVE: INPUT_MOVE,\n    INPUT_END: INPUT_END,\n    INPUT_CANCEL: INPUT_CANCEL,\n    STATE_POSSIBLE: STATE_POSSIBLE,\n    STATE_BEGAN: STATE_BEGAN,\n    STATE_CHANGED: STATE_CHANGED,\n    STATE_ENDED: STATE_ENDED,\n    STATE_RECOGNIZED: STATE_RECOGNIZED,\n    STATE_CANCELLED: STATE_CANCELLED,\n    STATE_FAILED: STATE_FAILED,\n    DIRECTION_NONE: DIRECTION_NONE,\n    DIRECTION_LEFT: DIRECTION_LEFT,\n    DIRECTION_RIGHT: DIRECTION_RIGHT,\n    DIRECTION_UP: DIRECTION_UP,\n    DIRECTION_DOWN: DIRECTION_DOWN,\n    DIRECTION_HORIZONTAL: DIRECTION_HORIZONTAL,\n    DIRECTION_VERTICAL: DIRECTION_VERTICAL,\n    DIRECTION_ALL: DIRECTION_ALL,\n    Manager: Manager,\n    Input: Input,\n    TouchAction: TouchAction,\n    TouchInput: TouchInput,\n    MouseInput: MouseInput,\n    PointerEventInput: PointerEventInput,\n    TouchMouseInput: TouchMouseInput,\n    SingleTouchInput: SingleTouchInput,\n    Recognizer: Recognizer,\n    AttrRecognizer: AttrRecognizer,\n    Tap: TapRecognizer,\n    Pan: PanRecognizer,\n    Swipe: SwipeRecognizer,\n    Pinch: PinchRecognizer,\n    Rotate: RotateRecognizer,\n    Press: PressRecognizer,\n    on: addEventListeners,\n    off: removeEventListeners,\n    each: each,\n    merge: merge,\n    extend: extend,\n    assign: assign,\n    inherit: inherit,\n    bindFn: bindFn,\n    prefixed: prefixed\n  }); // this prevents errors when Hammer is loaded in the presence of an AMD\n  //  style loader but by script tag, not by the loader.\n\n  var freeGlobal = typeof window !== 'undefined' ? window : typeof self !== 'undefined' ? self : {}; // jshint ignore:line\n\n  freeGlobal.Hammer = Hammer;\n\n  if (typeof define === 'function' && define.amd) {\n    define(function () {\n      return Hammer;\n    });\n  } else if (typeof module != 'undefined' && module.exports) {\n    module.exports = Hammer;\n  } else {\n    window[exportName] = Hammer;\n  }\n})(window, document, 'Hammer');","var global = require('../internals/global');\nvar isCallable = require('../internals/is-callable');\nvar tryToString = require('../internals/try-to-string');\n\nvar TypeError = global.TypeError;\n\n// `Assert: IsCallable(argument) is true`\nmodule.exports = function (argument) {\n  if (isCallable(argument)) return argument;\n  throw TypeError(tryToString(argument) + ' is not a function');\n};\n","var global = require('../internals/global');\nvar isObject = require('../internals/is-object');\n\nvar String = global.String;\nvar TypeError = global.TypeError;\n\n// `Assert: Type(argument) is Object`\nmodule.exports = function (argument) {\n  if (isObject(argument)) return argument;\n  throw TypeError(String(argument) + ' is not an object');\n};\n","var toIndexedObject = require('../internals/to-indexed-object');\nvar toAbsoluteIndex = require('../internals/to-absolute-index');\nvar lengthOfArrayLike = require('../internals/length-of-array-like');\n\n// `Array.prototype.{ indexOf, includes }` methods implementation\nvar createMethod = function (IS_INCLUDES) {\n  return function ($this, el, fromIndex) {\n    var O = toIndexedObject($this);\n    var length = lengthOfArrayLike(O);\n    var index = toAbsoluteIndex(fromIndex, length);\n    var value;\n    // Array#includes uses SameValueZero equality algorithm\n    // eslint-disable-next-line no-self-compare -- NaN check\n    if (IS_INCLUDES && el != el) while (length > index) {\n      value = O[index++];\n      // eslint-disable-next-line no-self-compare -- NaN check\n      if (value != value) return true;\n    // Array#indexOf ignores holes, Array#includes - not\n    } else for (;length > index; index++) {\n      if ((IS_INCLUDES || index in O) && O[index] === el) return IS_INCLUDES || index || 0;\n    } return !IS_INCLUDES && -1;\n  };\n};\n\nmodule.exports = {\n  // `Array.prototype.includes` method\n  // https://tc39.es/ecma262/#sec-array.prototype.includes\n  includes: createMethod(true),\n  // `Array.prototype.indexOf` method\n  // https://tc39.es/ecma262/#sec-array.prototype.indexof\n  indexOf: createMethod(false)\n};\n","var uncurryThis = require('../internals/function-uncurry-this');\n\nvar toString = uncurryThis({}.toString);\nvar stringSlice = uncurryThis(''.slice);\n\nmodule.exports = function (it) {\n  return stringSlice(toString(it), 8, -1);\n};\n","var hasOwn = require('../internals/has-own-property');\nvar ownKeys = require('../internals/own-keys');\nvar getOwnPropertyDescriptorModule = require('../internals/object-get-own-property-descriptor');\nvar definePropertyModule = require('../internals/object-define-property');\n\nmodule.exports = function (target, source) {\n  var keys = ownKeys(source);\n  var defineProperty = definePropertyModule.f;\n  var getOwnPropertyDescriptor = getOwnPropertyDescriptorModule.f;\n  for (var i = 0; i < keys.length; i++) {\n    var key = keys[i];\n    if (!hasOwn(target, key)) defineProperty(target, key, getOwnPropertyDescriptor(source, key));\n  }\n};\n","var DESCRIPTORS = require('../internals/descriptors');\nvar definePropertyModule = require('../internals/object-define-property');\nvar createPropertyDescriptor = require('../internals/create-property-descriptor');\n\nmodule.exports = DESCRIPTORS ? function (object, key, value) {\n  return definePropertyModule.f(object, key, createPropertyDescriptor(1, value));\n} : function (object, key, value) {\n  object[key] = value;\n  return object;\n};\n","module.exports = function (bitmap, value) {\n  return {\n    enumerable: !(bitmap & 1),\n    configurable: !(bitmap & 2),\n    writable: !(bitmap & 4),\n    value: value\n  };\n};\n","var fails = require('../internals/fails');\n\n// Detect IE8's incomplete defineProperty implementation\nmodule.exports = !fails(function () {\n  // eslint-disable-next-line es/no-object-defineproperty -- required for testing\n  return Object.defineProperty({}, 1, { get: function () { return 7; } })[1] != 7;\n});\n","var global = require('../internals/global');\nvar isObject = require('../internals/is-object');\n\nvar document = global.document;\n// typeof document.createElement is 'object' in old IE\nvar EXISTS = isObject(document) && isObject(document.createElement);\n\nmodule.exports = function (it) {\n  return EXISTS ? document.createElement(it) : {};\n};\n","var getBuiltIn = require('../internals/get-built-in');\n\nmodule.exports = getBuiltIn('navigator', 'userAgent') || '';\n","var global = require('../internals/global');\nvar userAgent = require('../internals/engine-user-agent');\n\nvar process = global.process;\nvar Deno = global.Deno;\nvar versions = process && process.versions || Deno && Deno.version;\nvar v8 = versions && versions.v8;\nvar match, version;\n\nif (v8) {\n  match = v8.split('.');\n  // in old Chrome, versions of V8 isn't V8 = Chrome / 10\n  // but their correct versions are not interesting for us\n  version = match[0] > 0 && match[0] < 4 ? 1 : +(match[0] + match[1]);\n}\n\n// BrowserFS NodeJS `process` polyfill incorrectly set `.v8` to `0.0`\n// so check `userAgent` even if `.v8` exists, but 0\nif (!version && userAgent) {\n  match = userAgent.match(/Edge\\/(\\d+)/);\n  if (!match || match[1] >= 74) {\n    match = userAgent.match(/Chrome\\/(\\d+)/);\n    if (match) version = +match[1];\n  }\n}\n\nmodule.exports = version;\n","// IE8- don't enum bug keys\nmodule.exports = [\n  'constructor',\n  'hasOwnProperty',\n  'isPrototypeOf',\n  'propertyIsEnumerable',\n  'toLocaleString',\n  'toString',\n  'valueOf'\n];\n","var global = require('../internals/global');\nvar getOwnPropertyDescriptor = require('../internals/object-get-own-property-descriptor').f;\nvar createNonEnumerableProperty = require('../internals/create-non-enumerable-property');\nvar redefine = require('../internals/redefine');\nvar setGlobal = require('../internals/set-global');\nvar copyConstructorProperties = require('../internals/copy-constructor-properties');\nvar isForced = require('../internals/is-forced');\n\n/*\n  options.target      - name of the target object\n  options.global      - target is the global object\n  options.stat        - export as static methods of target\n  options.proto       - export as prototype methods of target\n  options.real        - real prototype method for the `pure` version\n  options.forced      - export even if the native feature is available\n  options.bind        - bind methods to the target, required for the `pure` version\n  options.wrap        - wrap constructors to preventing global pollution, required for the `pure` version\n  options.unsafe      - use the simple assignment of property instead of delete + defineProperty\n  options.sham        - add a flag to not completely full polyfills\n  options.enumerable  - export as enumerable property\n  options.noTargetGet - prevent calling a getter on target\n  options.name        - the .name of the function if it does not match the key\n*/\nmodule.exports = function (options, source) {\n  var TARGET = options.target;\n  var GLOBAL = options.global;\n  var STATIC = options.stat;\n  var FORCED, target, key, targetProperty, sourceProperty, descriptor;\n  if (GLOBAL) {\n    target = global;\n  } else if (STATIC) {\n    target = global[TARGET] || setGlobal(TARGET, {});\n  } else {\n    target = (global[TARGET] || {}).prototype;\n  }\n  if (target) for (key in source) {\n    sourceProperty = source[key];\n    if (options.noTargetGet) {\n      descriptor = getOwnPropertyDescriptor(target, key);\n      targetProperty = descriptor && descriptor.value;\n    } else targetProperty = target[key];\n    FORCED = isForced(GLOBAL ? key : TARGET + (STATIC ? '.' : '#') + key, options.forced);\n    // contained in target\n    if (!FORCED && targetProperty !== undefined) {\n      if (typeof sourceProperty == typeof targetProperty) continue;\n      copyConstructorProperties(sourceProperty, targetProperty);\n    }\n    // add a flag to not completely full polyfills\n    if (options.sham || (targetProperty && targetProperty.sham)) {\n      createNonEnumerableProperty(sourceProperty, 'sham', true);\n    }\n    // extend global\n    redefine(target, key, sourceProperty, options);\n  }\n};\n","module.exports = function (exec) {\n  try {\n    return !!exec();\n  } catch (error) {\n    return true;\n  }\n};\n","var call = Function.prototype.call;\n\nmodule.exports = call.bind ? call.bind(call) : function () {\n  return call.apply(call, arguments);\n};\n","var DESCRIPTORS = require('../internals/descriptors');\nvar hasOwn = require('../internals/has-own-property');\n\nvar FunctionPrototype = Function.prototype;\n// eslint-disable-next-line es/no-object-getownpropertydescriptor -- safe\nvar getDescriptor = DESCRIPTORS && Object.getOwnPropertyDescriptor;\n\nvar EXISTS = hasOwn(FunctionPrototype, 'name');\n// additional protection from minified / mangled / dropped function names\nvar PROPER = EXISTS && (function something() { /* empty */ }).name === 'something';\nvar CONFIGURABLE = EXISTS && (!DESCRIPTORS || (DESCRIPTORS && getDescriptor(FunctionPrototype, 'name').configurable));\n\nmodule.exports = {\n  EXISTS: EXISTS,\n  PROPER: PROPER,\n  CONFIGURABLE: CONFIGURABLE\n};\n","var FunctionPrototype = Function.prototype;\nvar bind = FunctionPrototype.bind;\nvar call = FunctionPrototype.call;\nvar callBind = bind && bind.bind(call);\n\nmodule.exports = bind ? function (fn) {\n  return fn && callBind(call, fn);\n} : function (fn) {\n  return fn && function () {\n    return call.apply(fn, arguments);\n  };\n};\n","var global = require('../internals/global');\nvar isCallable = require('../internals/is-callable');\n\nvar aFunction = function (argument) {\n  return isCallable(argument) ? argument : undefined;\n};\n\nmodule.exports = function (namespace, method) {\n  return arguments.length < 2 ? aFunction(global[namespace]) : global[namespace] && global[namespace][method];\n};\n","var aCallable = require('../internals/a-callable');\n\n// `GetMethod` abstract operation\n// https://tc39.es/ecma262/#sec-getmethod\nmodule.exports = function (V, P) {\n  var func = V[P];\n  return func == null ? undefined : aCallable(func);\n};\n","var check = function (it) {\n  return it && it.Math == Math && it;\n};\n\n// https://github.com/zloirock/core-js/issues/86#issuecomment-115759028\nmodule.exports =\n  // eslint-disable-next-line es/no-global-this -- safe\n  check(typeof globalThis == 'object' && globalThis) ||\n  check(typeof window == 'object' && window) ||\n  // eslint-disable-next-line no-restricted-globals -- safe\n  check(typeof self == 'object' && self) ||\n  check(typeof global == 'object' && global) ||\n  // eslint-disable-next-line no-new-func -- fallback\n  (function () { return this; })() || Function('return this')();\n","var uncurryThis = require('../internals/function-uncurry-this');\nvar toObject = require('../internals/to-object');\n\nvar hasOwnProperty = uncurryThis({}.hasOwnProperty);\n\n// `HasOwnProperty` abstract operation\n// https://tc39.es/ecma262/#sec-hasownproperty\nmodule.exports = Object.hasOwn || function hasOwn(it, key) {\n  return hasOwnProperty(toObject(it), key);\n};\n","module.exports = {};\n","var DESCRIPTORS = require('../internals/descriptors');\nvar fails = require('../internals/fails');\nvar createElement = require('../internals/document-create-element');\n\n// Thank's IE8 for his funny defineProperty\nmodule.exports = !DESCRIPTORS && !fails(function () {\n  // eslint-disable-next-line es/no-object-defineproperty -- requied for testing\n  return Object.defineProperty(createElement('div'), 'a', {\n    get: function () { return 7; }\n  }).a != 7;\n});\n","var global = require('../internals/global');\nvar uncurryThis = require('../internals/function-uncurry-this');\nvar fails = require('../internals/fails');\nvar classof = require('../internals/classof-raw');\n\nvar Object = global.Object;\nvar split = uncurryThis(''.split);\n\n// fallback for non-array-like ES3 and non-enumerable old V8 strings\nmodule.exports = fails(function () {\n  // throws an error in rhino, see https://github.com/mozilla/rhino/issues/346\n  // eslint-disable-next-line no-prototype-builtins -- safe\n  return !Object('z').propertyIsEnumerable(0);\n}) ? function (it) {\n  return classof(it) == 'String' ? split(it, '') : Object(it);\n} : Object;\n","var uncurryThis = require('../internals/function-uncurry-this');\nvar isCallable = require('../internals/is-callable');\nvar store = require('../internals/shared-store');\n\nvar functionToString = uncurryThis(Function.toString);\n\n// this helper broken in `core-js@3.4.1-3.4.4`, so we can't use `shared` helper\nif (!isCallable(store.inspectSource)) {\n  store.inspectSource = function (it) {\n    return functionToString(it);\n  };\n}\n\nmodule.exports = store.inspectSource;\n","var NATIVE_WEAK_MAP = require('../internals/native-weak-map');\nvar global = require('../internals/global');\nvar uncurryThis = require('../internals/function-uncurry-this');\nvar isObject = require('../internals/is-object');\nvar createNonEnumerableProperty = require('../internals/create-non-enumerable-property');\nvar hasOwn = require('../internals/has-own-property');\nvar shared = require('../internals/shared-store');\nvar sharedKey = require('../internals/shared-key');\nvar hiddenKeys = require('../internals/hidden-keys');\n\nvar OBJECT_ALREADY_INITIALIZED = 'Object already initialized';\nvar TypeError = global.TypeError;\nvar WeakMap = global.WeakMap;\nvar set, get, has;\n\nvar enforce = function (it) {\n  return has(it) ? get(it) : set(it, {});\n};\n\nvar getterFor = function (TYPE) {\n  return function (it) {\n    var state;\n    if (!isObject(it) || (state = get(it)).type !== TYPE) {\n      throw TypeError('Incompatible receiver, ' + TYPE + ' required');\n    } return state;\n  };\n};\n\nif (NATIVE_WEAK_MAP || shared.state) {\n  var store = shared.state || (shared.state = new WeakMap());\n  var wmget = uncurryThis(store.get);\n  var wmhas = uncurryThis(store.has);\n  var wmset = uncurryThis(store.set);\n  set = function (it, metadata) {\n    if (wmhas(store, it)) throw new TypeError(OBJECT_ALREADY_INITIALIZED);\n    metadata.facade = it;\n    wmset(store, it, metadata);\n    return metadata;\n  };\n  get = function (it) {\n    return wmget(store, it) || {};\n  };\n  has = function (it) {\n    return wmhas(store, it);\n  };\n} else {\n  var STATE = sharedKey('state');\n  hiddenKeys[STATE] = true;\n  set = function (it, metadata) {\n    if (hasOwn(it, STATE)) throw new TypeError(OBJECT_ALREADY_INITIALIZED);\n    metadata.facade = it;\n    createNonEnumerableProperty(it, STATE, metadata);\n    return metadata;\n  };\n  get = function (it) {\n    return hasOwn(it, STATE) ? it[STATE] : {};\n  };\n  has = function (it) {\n    return hasOwn(it, STATE);\n  };\n}\n\nmodule.exports = {\n  set: set,\n  get: get,\n  has: has,\n  enforce: enforce,\n  getterFor: getterFor\n};\n","// `IsCallable` abstract operation\n// https://tc39.es/ecma262/#sec-iscallable\nmodule.exports = function (argument) {\n  return typeof argument == 'function';\n};\n","var fails = require('../internals/fails');\nvar isCallable = require('../internals/is-callable');\n\nvar replacement = /#|\\.prototype\\./;\n\nvar isForced = function (feature, detection) {\n  var value = data[normalize(feature)];\n  return value == POLYFILL ? true\n    : value == NATIVE ? false\n    : isCallable(detection) ? fails(detection)\n    : !!detection;\n};\n\nvar normalize = isForced.normalize = function (string) {\n  return String(string).replace(replacement, '.').toLowerCase();\n};\n\nvar data = isForced.data = {};\nvar NATIVE = isForced.NATIVE = 'N';\nvar POLYFILL = isForced.POLYFILL = 'P';\n\nmodule.exports = isForced;\n","var isCallable = require('../internals/is-callable');\n\nmodule.exports = function (it) {\n  return typeof it == 'object' ? it !== null : isCallable(it);\n};\n","module.exports = false;\n","var global = require('../internals/global');\nvar getBuiltIn = require('../internals/get-built-in');\nvar isCallable = require('../internals/is-callable');\nvar isPrototypeOf = require('../internals/object-is-prototype-of');\nvar USE_SYMBOL_AS_UID = require('../internals/use-symbol-as-uid');\n\nvar Object = global.Object;\n\nmodule.exports = USE_SYMBOL_AS_UID ? function (it) {\n  return typeof it == 'symbol';\n} : function (it) {\n  var $Symbol = getBuiltIn('Symbol');\n  return isCallable($Symbol) && isPrototypeOf($Symbol.prototype, Object(it));\n};\n","var toLength = require('../internals/to-length');\n\n// `LengthOfArrayLike` abstract operation\n// https://tc39.es/ecma262/#sec-lengthofarraylike\nmodule.exports = function (obj) {\n  return toLength(obj.length);\n};\n","/* eslint-disable es/no-symbol -- required for testing */\nvar V8_VERSION = require('../internals/engine-v8-version');\nvar fails = require('../internals/fails');\n\n// eslint-disable-next-line es/no-object-getownpropertysymbols -- required for testing\nmodule.exports = !!Object.getOwnPropertySymbols && !fails(function () {\n  var symbol = Symbol();\n  // Chrome 38 Symbol has incorrect toString conversion\n  // `get-own-property-symbols` polyfill symbols converted to object are not Symbol instances\n  return !String(symbol) || !(Object(symbol) instanceof Symbol) ||\n    // Chrome 38-40 symbols are not inherited from DOM collections prototypes to instances\n    !Symbol.sham && V8_VERSION && V8_VERSION < 41;\n});\n","var global = require('../internals/global');\nvar isCallable = require('../internals/is-callable');\nvar inspectSource = require('../internals/inspect-source');\n\nvar WeakMap = global.WeakMap;\n\nmodule.exports = isCallable(WeakMap) && /native code/.test(inspectSource(WeakMap));\n","var global = require('../internals/global');\nvar DESCRIPTORS = require('../internals/descriptors');\nvar IE8_DOM_DEFINE = require('../internals/ie8-dom-define');\nvar anObject = require('../internals/an-object');\nvar toPropertyKey = require('../internals/to-property-key');\n\nvar TypeError = global.TypeError;\n// eslint-disable-next-line es/no-object-defineproperty -- safe\nvar $defineProperty = Object.defineProperty;\n\n// `Object.defineProperty` method\n// https://tc39.es/ecma262/#sec-object.defineproperty\nexports.f = DESCRIPTORS ? $defineProperty : function defineProperty(O, P, Attributes) {\n  anObject(O);\n  P = toPropertyKey(P);\n  anObject(Attributes);\n  if (IE8_DOM_DEFINE) try {\n    return $defineProperty(O, P, Attributes);\n  } catch (error) { /* empty */ }\n  if ('get' in Attributes || 'set' in Attributes) throw TypeError('Accessors not supported');\n  if ('value' in Attributes) O[P] = Attributes.value;\n  return O;\n};\n","var DESCRIPTORS = require('../internals/descriptors');\nvar call = require('../internals/function-call');\nvar propertyIsEnumerableModule = require('../internals/object-property-is-enumerable');\nvar createPropertyDescriptor = require('../internals/create-property-descriptor');\nvar toIndexedObject = require('../internals/to-indexed-object');\nvar toPropertyKey = require('../internals/to-property-key');\nvar hasOwn = require('../internals/has-own-property');\nvar IE8_DOM_DEFINE = require('../internals/ie8-dom-define');\n\n// eslint-disable-next-line es/no-object-getownpropertydescriptor -- safe\nvar $getOwnPropertyDescriptor = Object.getOwnPropertyDescriptor;\n\n// `Object.getOwnPropertyDescriptor` method\n// https://tc39.es/ecma262/#sec-object.getownpropertydescriptor\nexports.f = DESCRIPTORS ? $getOwnPropertyDescriptor : function getOwnPropertyDescriptor(O, P) {\n  O = toIndexedObject(O);\n  P = toPropertyKey(P);\n  if (IE8_DOM_DEFINE) try {\n    return $getOwnPropertyDescriptor(O, P);\n  } catch (error) { /* empty */ }\n  if (hasOwn(O, P)) return createPropertyDescriptor(!call(propertyIsEnumerableModule.f, O, P), O[P]);\n};\n","var internalObjectKeys = require('../internals/object-keys-internal');\nvar enumBugKeys = require('../internals/enum-bug-keys');\n\nvar hiddenKeys = enumBugKeys.concat('length', 'prototype');\n\n// `Object.getOwnPropertyNames` method\n// https://tc39.es/ecma262/#sec-object.getownpropertynames\n// eslint-disable-next-line es/no-object-getownpropertynames -- safe\nexports.f = Object.getOwnPropertyNames || function getOwnPropertyNames(O) {\n  return internalObjectKeys(O, hiddenKeys);\n};\n","// eslint-disable-next-line es/no-object-getownpropertysymbols -- safe\nexports.f = Object.getOwnPropertySymbols;\n","var uncurryThis = require('../internals/function-uncurry-this');\n\nmodule.exports = uncurryThis({}.isPrototypeOf);\n","var uncurryThis = require('../internals/function-uncurry-this');\nvar hasOwn = require('../internals/has-own-property');\nvar toIndexedObject = require('../internals/to-indexed-object');\nvar indexOf = require('../internals/array-includes').indexOf;\nvar hiddenKeys = require('../internals/hidden-keys');\n\nvar push = uncurryThis([].push);\n\nmodule.exports = function (object, names) {\n  var O = toIndexedObject(object);\n  var i = 0;\n  var result = [];\n  var key;\n  for (key in O) !hasOwn(hiddenKeys, key) && hasOwn(O, key) && push(result, key);\n  // Don't enum bug & hidden keys\n  while (names.length > i) if (hasOwn(O, key = names[i++])) {\n    ~indexOf(result, key) || push(result, key);\n  }\n  return result;\n};\n","'use strict';\nvar $propertyIsEnumerable = {}.propertyIsEnumerable;\n// eslint-disable-next-line es/no-object-getownpropertydescriptor -- safe\nvar getOwnPropertyDescriptor = Object.getOwnPropertyDescriptor;\n\n// Nashorn ~ JDK8 bug\nvar NASHORN_BUG = getOwnPropertyDescriptor && !$propertyIsEnumerable.call({ 1: 2 }, 1);\n\n// `Object.prototype.propertyIsEnumerable` method implementation\n// https://tc39.es/ecma262/#sec-object.prototype.propertyisenumerable\nexports.f = NASHORN_BUG ? function propertyIsEnumerable(V) {\n  var descriptor = getOwnPropertyDescriptor(this, V);\n  return !!descriptor && descriptor.enumerable;\n} : $propertyIsEnumerable;\n","var global = require('../internals/global');\nvar call = require('../internals/function-call');\nvar isCallable = require('../internals/is-callable');\nvar isObject = require('../internals/is-object');\n\nvar TypeError = global.TypeError;\n\n// `OrdinaryToPrimitive` abstract operation\n// https://tc39.es/ecma262/#sec-ordinarytoprimitive\nmodule.exports = function (input, pref) {\n  var fn, val;\n  if (pref === 'string' && isCallable(fn = input.toString) && !isObject(val = call(fn, input))) return val;\n  if (isCallable(fn = input.valueOf) && !isObject(val = call(fn, input))) return val;\n  if (pref !== 'string' && isCallable(fn = input.toString) && !isObject(val = call(fn, input))) return val;\n  throw TypeError(\"Can't convert object to primitive value\");\n};\n","var getBuiltIn = require('../internals/get-built-in');\nvar uncurryThis = require('../internals/function-uncurry-this');\nvar getOwnPropertyNamesModule = require('../internals/object-get-own-property-names');\nvar getOwnPropertySymbolsModule = require('../internals/object-get-own-property-symbols');\nvar anObject = require('../internals/an-object');\n\nvar concat = uncurryThis([].concat);\n\n// all object keys, includes non-enumerable and symbols\nmodule.exports = getBuiltIn('Reflect', 'ownKeys') || function ownKeys(it) {\n  var keys = getOwnPropertyNamesModule.f(anObject(it));\n  var getOwnPropertySymbols = getOwnPropertySymbolsModule.f;\n  return getOwnPropertySymbols ? concat(keys, getOwnPropertySymbols(it)) : keys;\n};\n","var global = require('../internals/global');\nvar isCallable = require('../internals/is-callable');\nvar hasOwn = require('../internals/has-own-property');\nvar createNonEnumerableProperty = require('../internals/create-non-enumerable-property');\nvar setGlobal = require('../internals/set-global');\nvar inspectSource = require('../internals/inspect-source');\nvar InternalStateModule = require('../internals/internal-state');\nvar CONFIGURABLE_FUNCTION_NAME = require('../internals/function-name').CONFIGURABLE;\n\nvar getInternalState = InternalStateModule.get;\nvar enforceInternalState = InternalStateModule.enforce;\nvar TEMPLATE = String(String).split('String');\n\n(module.exports = function (O, key, value, options) {\n  var unsafe = options ? !!options.unsafe : false;\n  var simple = options ? !!options.enumerable : false;\n  var noTargetGet = options ? !!options.noTargetGet : false;\n  var name = options && options.name !== undefined ? options.name : key;\n  var state;\n  if (isCallable(value)) {\n    if (String(name).slice(0, 7) === 'Symbol(') {\n      name = '[' + String(name).replace(/^Symbol\\(([^)]*)\\)/, '$1') + ']';\n    }\n    if (!hasOwn(value, 'name') || (CONFIGURABLE_FUNCTION_NAME && value.name !== name)) {\n      createNonEnumerableProperty(value, 'name', name);\n    }\n    state = enforceInternalState(value);\n    if (!state.source) {\n      state.source = TEMPLATE.join(typeof name == 'string' ? name : '');\n    }\n  }\n  if (O === global) {\n    if (simple) O[key] = value;\n    else setGlobal(key, value);\n    return;\n  } else if (!unsafe) {\n    delete O[key];\n  } else if (!noTargetGet && O[key]) {\n    simple = true;\n  }\n  if (simple) O[key] = value;\n  else createNonEnumerableProperty(O, key, value);\n// add fake Function#toString for correct work wrapped methods / constructors with methods like LoDash isNative\n})(Function.prototype, 'toString', function toString() {\n  return isCallable(this) && getInternalState(this).source || inspectSource(this);\n});\n","var global = require('../internals/global');\n\nvar TypeError = global.TypeError;\n\n// `RequireObjectCoercible` abstract operation\n// https://tc39.es/ecma262/#sec-requireobjectcoercible\nmodule.exports = function (it) {\n  if (it == undefined) throw TypeError(\"Can't call method on \" + it);\n  return it;\n};\n","var global = require('../internals/global');\n\n// eslint-disable-next-line es/no-object-defineproperty -- safe\nvar defineProperty = Object.defineProperty;\n\nmodule.exports = function (key, value) {\n  try {\n    defineProperty(global, key, { value: value, configurable: true, writable: true });\n  } catch (error) {\n    global[key] = value;\n  } return value;\n};\n","var shared = require('../internals/shared');\nvar uid = require('../internals/uid');\n\nvar keys = shared('keys');\n\nmodule.exports = function (key) {\n  return keys[key] || (keys[key] = uid(key));\n};\n","var global = require('../internals/global');\nvar setGlobal = require('../internals/set-global');\n\nvar SHARED = '__core-js_shared__';\nvar store = global[SHARED] || setGlobal(SHARED, {});\n\nmodule.exports = store;\n","var IS_PURE = require('../internals/is-pure');\nvar store = require('../internals/shared-store');\n\n(module.exports = function (key, value) {\n  return store[key] || (store[key] = value !== undefined ? value : {});\n})('versions', []).push({\n  version: '3.19.3',\n  mode: IS_PURE ? 'pure' : 'global',\n  copyright: '© 2021 Denis Pushkarev (zloirock.ru)'\n});\n","var toIntegerOrInfinity = require('../internals/to-integer-or-infinity');\n\nvar max = Math.max;\nvar min = Math.min;\n\n// Helper for a popular repeating case of the spec:\n// Let integer be ? ToInteger(index).\n// If integer < 0, let result be max((length + integer), 0); else let result be min(integer, length).\nmodule.exports = function (index, length) {\n  var integer = toIntegerOrInfinity(index);\n  return integer < 0 ? max(integer + length, 0) : min(integer, length);\n};\n","// toObject with fallback for non-array-like ES3 strings\nvar IndexedObject = require('../internals/indexed-object');\nvar requireObjectCoercible = require('../internals/require-object-coercible');\n\nmodule.exports = function (it) {\n  return IndexedObject(requireObjectCoercible(it));\n};\n","var ceil = Math.ceil;\nvar floor = Math.floor;\n\n// `ToIntegerOrInfinity` abstract operation\n// https://tc39.es/ecma262/#sec-tointegerorinfinity\nmodule.exports = function (argument) {\n  var number = +argument;\n  // eslint-disable-next-line no-self-compare -- safe\n  return number !== number || number === 0 ? 0 : (number > 0 ? floor : ceil)(number);\n};\n","var toIntegerOrInfinity = require('../internals/to-integer-or-infinity');\n\nvar min = Math.min;\n\n// `ToLength` abstract operation\n// https://tc39.es/ecma262/#sec-tolength\nmodule.exports = function (argument) {\n  return argument > 0 ? min(toIntegerOrInfinity(argument), 0x1FFFFFFFFFFFFF) : 0; // 2 ** 53 - 1 == 9007199254740991\n};\n","var global = require('../internals/global');\nvar requireObjectCoercible = require('../internals/require-object-coercible');\n\nvar Object = global.Object;\n\n// `ToObject` abstract operation\n// https://tc39.es/ecma262/#sec-toobject\nmodule.exports = function (argument) {\n  return Object(requireObjectCoercible(argument));\n};\n","var global = require('../internals/global');\nvar call = require('../internals/function-call');\nvar isObject = require('../internals/is-object');\nvar isSymbol = require('../internals/is-symbol');\nvar getMethod = require('../internals/get-method');\nvar ordinaryToPrimitive = require('../internals/ordinary-to-primitive');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\n\nvar TypeError = global.TypeError;\nvar TO_PRIMITIVE = wellKnownSymbol('toPrimitive');\n\n// `ToPrimitive` abstract operation\n// https://tc39.es/ecma262/#sec-toprimitive\nmodule.exports = function (input, pref) {\n  if (!isObject(input) || isSymbol(input)) return input;\n  var exoticToPrim = getMethod(input, TO_PRIMITIVE);\n  var result;\n  if (exoticToPrim) {\n    if (pref === undefined) pref = 'default';\n    result = call(exoticToPrim, input, pref);\n    if (!isObject(result) || isSymbol(result)) return result;\n    throw TypeError(\"Can't convert object to primitive value\");\n  }\n  if (pref === undefined) pref = 'number';\n  return ordinaryToPrimitive(input, pref);\n};\n","var toPrimitive = require('../internals/to-primitive');\nvar isSymbol = require('../internals/is-symbol');\n\n// `ToPropertyKey` abstract operation\n// https://tc39.es/ecma262/#sec-topropertykey\nmodule.exports = function (argument) {\n  var key = toPrimitive(argument, 'string');\n  return isSymbol(key) ? key : key + '';\n};\n","var global = require('../internals/global');\n\nvar String = global.String;\n\nmodule.exports = function (argument) {\n  try {\n    return String(argument);\n  } catch (error) {\n    return 'Object';\n  }\n};\n","var uncurryThis = require('../internals/function-uncurry-this');\n\nvar id = 0;\nvar postfix = Math.random();\nvar toString = uncurryThis(1.0.toString);\n\nmodule.exports = function (key) {\n  return 'Symbol(' + (key === undefined ? '' : key) + ')_' + toString(++id + postfix, 36);\n};\n","/* eslint-disable es/no-symbol -- required for testing */\nvar NATIVE_SYMBOL = require('../internals/native-symbol');\n\nmodule.exports = NATIVE_SYMBOL\n  && !Symbol.sham\n  && typeof Symbol.iterator == 'symbol';\n","var global = require('../internals/global');\nvar shared = require('../internals/shared');\nvar hasOwn = require('../internals/has-own-property');\nvar uid = require('../internals/uid');\nvar NATIVE_SYMBOL = require('../internals/native-symbol');\nvar USE_SYMBOL_AS_UID = require('../internals/use-symbol-as-uid');\n\nvar WellKnownSymbolsStore = shared('wks');\nvar Symbol = global.Symbol;\nvar symbolFor = Symbol && Symbol['for'];\nvar createWellKnownSymbol = USE_SYMBOL_AS_UID ? Symbol : Symbol && Symbol.withoutSetter || uid;\n\nmodule.exports = function (name) {\n  if (!hasOwn(WellKnownSymbolsStore, name) || !(NATIVE_SYMBOL || typeof WellKnownSymbolsStore[name] == 'string')) {\n    var description = 'Symbol.' + name;\n    if (NATIVE_SYMBOL && hasOwn(Symbol, name)) {\n      WellKnownSymbolsStore[name] = Symbol[name];\n    } else if (USE_SYMBOL_AS_UID && symbolFor) {\n      WellKnownSymbolsStore[name] = symbolFor(description);\n    } else {\n      WellKnownSymbolsStore[name] = createWellKnownSymbol(description);\n    }\n  } return WellKnownSymbolsStore[name];\n};\n","var $ = require('../internals/export');\nvar global = require('../internals/global');\n\n// `globalThis` object\n// https://tc39.es/ecma262/#sec-globalthis\n$({ global: true }, {\n  globalThis: global\n});\n","var $ = require('../internals/export');\n\n// eslint-disable-next-line es/no-math-hypot -- required for testing\nvar $hypot = Math.hypot;\nvar abs = Math.abs;\nvar sqrt = Math.sqrt;\n\n// Chrome 77 bug\n// https://bugs.chromium.org/p/v8/issues/detail?id=9546\nvar BUGGY = !!$hypot && $hypot(Infinity, NaN) !== Infinity;\n\n// `Math.hypot` method\n// https://tc39.es/ecma262/#sec-math.hypot\n$({ target: 'Math', stat: true, forced: BUGGY }, {\n  // eslint-disable-next-line no-unused-vars -- required for `.length`\n  hypot: function hypot(value1, value2) {\n    var sum = 0;\n    var i = 0;\n    var aLen = arguments.length;\n    var larg = 0;\n    var arg, div;\n    while (i < aLen) {\n      arg = abs(arguments[i++]);\n      if (larg < arg) {\n        div = larg / arg;\n        sum = sum * div * div + 1;\n        larg = arg;\n      } else if (arg > 0) {\n        div = arg / larg;\n        sum += div * div;\n      } else sum += arg;\n    }\n    return larg === Infinity ? Infinity : larg * sqrt(sum);\n  }\n});\n","// TODO: Remove from `core-js@4`\nrequire('../modules/es.global-this');\n","const palette = {\n  white: '#ffffff',\n  cream: '#f0f0f0',\n  red: '#f04646',\n  lightRed: '#f25050',\n  darkRed: '#c72424',\n  peach: '#ffa984',\n  peach2: '#ff8e5e',\n  darkPeach: '#b86440',\n  blue: '#4287f5',\n  lightBlue: '#79cafc',\n  darkBlue: '#0a1930',\n  darkerBlue: '060e1a',\n\n  grey4: '#cccccc',\n  grey3: '#999999',\n  grey2: '#444444',\n  grey1: '#151515',\n  black: '#000000',\n};\n\nconst theme = {\n  colors: {\n    background: palette.darkBlue,\n    backgroundLight: palette.grey2,\n    backgroundDark: palette.darkerBlue,\n    text: palette.grey4,\n    textLight: palette.grey4,\n    accent: palette.peach2,\n    accentLight: palette.peach,\n    accentDark: palette.darkPeach,\n  },\n  fonts: {\n    sans: 'IBM Plex Sans',\n    mono: 'IBM Plex Mono',\n    extra: 'Montserrat',\n    sizeDefault: '20px',\n    weightDefault: 400,\n  },\n};\n\nexport default theme;\n","import { createGlobalStyle } from 'styled-components';\nimport theme from './theme';\n\nconst GlobalStyle = createGlobalStyle`\n  // html {\n  //   cursor: none;\n  //   a:link {\n  //     cursor: none;\n  //   }\n  // }\n\n  body {\n    margin: 0;\n    padding: 0;\n    background: ${theme.colors.background};\n    font-family: ${theme.fonts.sans};\n    color: #dddddd;//${theme.colors.text};\n    font-size: ${theme.fonts.sizeDefault};\n    line-height: 1.5em;\n\n    // p, h1 {\n    //   mix-blend-mode: difference;\n    // }\n\n    * {\n      font-weight: ${theme.fonts.weightDefault};\n    }\n\n    // overflow: hidden;\n    // overflow-y: scroll;\n\n    // Hide scrollbar in multiple browsers\n    scrollbar-width: none;\n    -ms-overflow-style: none;\n    ::-webkit-scrollbar {\n      width: 0;\n      height: 0;\n    }\n\n    // *::selection {\n    //   color: ${theme.colors.background};\n    //   background-color: ${theme.colors.accent};\n    // }\n\n    a {\n      text-decoration: none;\n      color: ${theme.colors.accent};\n\n      // :link {\n      // }\n      // :visited {\n      //   color: ${theme.colors.accent};\n      // }\n      // :hover {\n      //   color: ${theme.colors.accent};\n      // }\n      // :active {\n      //   color: ${theme.colors.background};\n      // }\n    }\n  }\n}\n`;\n\nexport default GlobalStyle;\n","import React from 'react';\nimport styled from 'styled-components';\nimport { theme } from '@styles';\n\nconst Container = styled.div`\n  position: fixed;\n  right: 10%;\n  bottom: 10%;\n  background: ${theme.colors.background};\n  width: 15%;\n  height: 10%;\n  border-radius: 30px;\n  // border: solid;\n  box-shadow: 0 0 20px #999999; //${theme.colors.text};\n`;\n\nconst Colors = styled.div`\n  position: absolute;\n  right: 50%;\n  bottom: 50%;\n  height: 30%;\n  width: 80%;\n  background-image: linear-gradient(to right, #00b3ff, #eeeeee, #ff4c00);\n  border-radius: 30px;\n  transform: translate(50%, 15%);\n`;\n\nconst KeyText = styled.p`\n  position: absolute;\n  text-align: justify;\n  text-align-last: justify;\n  font-size: 70%;\n  width: 70%;\n  bottom: 0px;\n  left: 15%;\n  margin: 0 0 6% 0;\n`;\n\nexport default function ColorKey() {\n  return (\n    <Container>\n      <Colors></Colors>\n      <KeyText>0 50 100</KeyText>\n    </Container>\n  );\n}\n","import { css } from 'styled-components';\nimport theme from './theme';\n\nconst mixins = {\n  whiteLink: css`\n    a {\n      text-decoration: none;\n      :link {\n        color: ${theme.colors.text};\n      }\n      :visited {\n        color: ${theme.colors.text};\n      }\n      :hover {\n        color: ${theme.colors.background};\n      }\n      :active {\n        color: ${theme.colors.background};\n      }\n    }\n  `,\n};\n\nexport default mixins;\n","const data = {\n    \"AFG\": {\n        \"Continent\": \"Asia\",\n        \"Country Name\": \"Afghanistan\",\n        \"Individualism\": 14,\n        \"Indulgence\": 10,\n        \"Long Term Orientation\": 30,\n        \"Masculinity\": 60,\n        \"Population\": 38041754,\n        \"Power Distance\": 55,\n        \"Uncertainty Avoidance\": 70\n    },\n    \"ALB\": {\n        \"Continent\": \"Europe\",\n        \"Country Name\": \"Albania\",\n        \"Individualism\": 20,\n        \"Indulgence\": 15,\n        \"Long Term Orientation\": 61,\n        \"Masculinity\": 80,\n        \"Population\": 2880917,\n        \"Power Distance\": 90,\n        \"Uncertainty Avoidance\": 70\n    },\n    \"DZA\": {\n        \"Continent\": \"Africa\",\n        \"Country Name\": \"Algeria\",\n        \"Individualism\": 50,\n        \"Indulgence\": 32,\n        \"Long Term Orientation\": 26,\n        \"Masculinity\": 50,\n        \"Population\": 43053054,\n        \"Power Distance\": 70,\n        \"Uncertainty Avoidance\": 70\n    },\n    \"AND\": {\n        \"Continent\": \"Europe\",\n        \"Country Name\": \"Andorra\",\n        \"Individualism\": 50,\n        \"Indulgence\": 65,\n        \"Long Term Orientation\": 50,\n        \"Masculinity\": 40,\n        \"Population\": 77142,\n        \"Power Distance\": 50,\n        \"Uncertainty Avoidance\": 90\n    },\n    \"AGO\": {\n        \"Continent\": \"Africa\",\n        \"Country Name\": \"Angola\",\n        \"Individualism\": 18,\n        \"Indulgence\": 83,\n        \"Long Term Orientation\": 15,\n        \"Masculinity\": 20,\n        \"Population\": 31825295,\n        \"Power Distance\": 83,\n        \"Uncertainty Avoidance\": 60\n    },\n    \"ARG\": {\n        \"Continent\": \"Americas\",\n        \"Country Name\": \"Argentina\",\n        \"Individualism\": 46,\n        \"Indulgence\": 62,\n        \"Long Term Orientation\": 20,\n        \"Masculinity\": 56,\n        \"Population\": 44780677,\n        \"Power Distance\": 49,\n        \"Uncertainty Avoidance\": 86\n    },\n    \"ARM\": {\n        \"Continent\": \"Asia\",\n        \"Country Name\": \"Armenia\",\n        \"Individualism\": 40,\n        \"Indulgence\": 30,\n        \"Long Term Orientation\": 61,\n        \"Masculinity\": 40,\n        \"Population\": 2957731,\n        \"Power Distance\": 60,\n        \"Uncertainty Avoidance\": 90\n    },\n    \"AUS\": {\n        \"Continent\": \"Oceania\",\n        \"Country Name\": \"Australia\",\n        \"Individualism\": 90,\n        \"Indulgence\": 71,\n        \"Long Term Orientation\": 21,\n        \"Masculinity\": 61,\n        \"Population\": 25203198,\n        \"Power Distance\": 38,\n        \"Uncertainty Avoidance\": 51\n    },\n    \"AUT\": {\n        \"Continent\": \"Europe\",\n        \"Country Name\": \"Austria\",\n        \"Individualism\": 55,\n        \"Indulgence\": 63,\n        \"Long Term Orientation\": 60,\n        \"Masculinity\": 79,\n        \"Population\": 8955102,\n        \"Power Distance\": 11,\n        \"Uncertainty Avoidance\": 70\n    },\n    \"AZE\": {\n        \"Continent\": \"Asia\",\n        \"Country Name\": \"Azerbaijan\",\n        \"Individualism\": 40,\n        \"Indulgence\": 22,\n        \"Long Term Orientation\": 61,\n        \"Masculinity\": 40,\n        \"Population\": 10047718,\n        \"Power Distance\": 60,\n        \"Uncertainty Avoidance\": 90\n    },\n    \"BGD\": {\n        \"Continent\": \"Asia\",\n        \"Country Name\": \"Bangladesh\",\n        \"Individualism\": 20,\n        \"Indulgence\": 20,\n        \"Long Term Orientation\": 47,\n        \"Masculinity\": 55,\n        \"Population\": 163046161,\n        \"Power Distance\": 80,\n        \"Uncertainty Avoidance\": 60\n    },\n    \"BLR\": {\n        \"Continent\": \"Europe\",\n        \"Country Name\": \"Belarus\",\n        \"Individualism\": 40,\n        \"Indulgence\": 15,\n        \"Long Term Orientation\": 81,\n        \"Masculinity\": 30,\n        \"Population\": 9452411,\n        \"Power Distance\": 90,\n        \"Uncertainty Avoidance\": 90\n    },\n    \"BEL\": {\n        \"Continent\": \"Europe\",\n        \"Country Name\": \"Belgium\",\n        \"Individualism\": 75,\n        \"Indulgence\": 57,\n        \"Long Term Orientation\": 82,\n        \"Masculinity\": 54,\n        \"Population\": 11539328,\n        \"Power Distance\": 65,\n        \"Uncertainty Avoidance\": 94\n    },\n    \"BEN\": {\n        \"Continent\": \"Africa\",\n        \"Country Name\": \"Benin\",\n        \"Individualism\": 15,\n        \"Indulgence\": 80,\n        \"Long Term Orientation\": 5,\n        \"Masculinity\": 40,\n        \"Population\": 11801151,\n        \"Power Distance\": 80,\n        \"Uncertainty Avoidance\": 65\n    },\n    \"BTN\": {\n        \"Continent\": \"Asia\",\n        \"Country Name\": \"Bhutan\",\n        \"Individualism\": 52,\n        \"Indulgence\": 25,\n        \"Long Term Orientation\": 60,\n        \"Masculinity\": 32,\n        \"Population\": 763092,\n        \"Power Distance\": 94,\n        \"Uncertainty Avoidance\": 28\n    },\n    \"BOL\": {\n        \"Continent\": \"Americas\",\n        \"Country Name\": \"Bolivia\",\n        \"Individualism\": 8,\n        \"Indulgence\": 50,\n        \"Long Term Orientation\": 25,\n        \"Masculinity\": 63,\n        \"Population\": 11513100,\n        \"Power Distance\": 78,\n        \"Uncertainty Avoidance\": 67\n    },\n    \"BIH\": {\n        \"Continent\": \"Europe\",\n        \"Country Name\": \"Bosnia\",\n        \"Individualism\": 30,\n        \"Indulgence\": 44,\n        \"Long Term Orientation\": 70,\n        \"Masculinity\": 40,\n        \"Population\": 3301000,\n        \"Power Distance\": 80,\n        \"Uncertainty Avoidance\": 90\n    },\n    \"BWA\": {\n        \"Continent\": \"Africa\",\n        \"Country Name\": \"Botswana\",\n        \"Individualism\": 40,\n        \"Indulgence\": 40,\n        \"Long Term Orientation\": 40,\n        \"Masculinity\": 30,\n        \"Population\": 2303697,\n        \"Power Distance\": 60,\n        \"Uncertainty Avoidance\": 50\n    },\n    \"BRA\": {\n        \"Continent\": \"Americas\",\n        \"Country Name\": \"Brazil\",\n        \"Individualism\": 38,\n        \"Indulgence\": 59,\n        \"Long Term Orientation\": 44,\n        \"Masculinity\": 49,\n        \"Population\": 211049527,\n        \"Power Distance\": 69,\n        \"Uncertainty Avoidance\": 76\n    },\n    \"BRN\": {\n        \"Continent\": \"Asia\",\n        \"Country Name\": \"Brunei\",\n        \"Individualism\": 26,\n        \"Indulgence\": 57,\n        \"Long Term Orientation\": 41,\n        \"Masculinity\": 50,\n        \"Population\": 433285,\n        \"Power Distance\": 104,\n        \"Uncertainty Avoidance\": 36\n    },\n    \"BGR\": {\n        \"Continent\": \"Europe\",\n        \"Country Name\": \"Bulgaria\",\n        \"Individualism\": 30,\n        \"Indulgence\": 16,\n        \"Long Term Orientation\": 69,\n        \"Masculinity\": 40,\n        \"Population\": 7000119,\n        \"Power Distance\": 70,\n        \"Uncertainty Avoidance\": 85\n    },\n    \"BFA\": {\n        \"Continent\": \"Africa\",\n        \"Country Name\": \"Burkina Faso\",\n        \"Individualism\": 15,\n        \"Indulgence\": 18,\n        \"Long Term Orientation\": 27,\n        \"Masculinity\": 50,\n        \"Population\": 20321378,\n        \"Power Distance\": 70,\n        \"Uncertainty Avoidance\": 55\n    },\n    \"BDI\": {\n        \"Continent\": \"Africa\",\n        \"Country Name\": \"Burundi\",\n        \"Individualism\": 25,\n        \"Indulgence\": 37,\n        \"Long Term Orientation\": 18,\n        \"Masculinity\": 60,\n        \"Population\": 10864245,\n        \"Power Distance\": 70,\n        \"Uncertainty Avoidance\": 50\n    },\n    \"KHM\": {\n        \"Continent\": \"Asia\",\n        \"Country Name\": \"Cambodia\",\n        \"Individualism\": 20,\n        \"Indulgence\": 30,\n        \"Long Term Orientation\": 50,\n        \"Masculinity\": 50,\n        \"Population\": 16486542,\n        \"Power Distance\": 80,\n        \"Uncertainty Avoidance\": 60\n    },\n    \"CMR\": {\n        \"Continent\": \"Africa\",\n        \"Country Name\": \"Cameroon\",\n        \"Individualism\": 10,\n        \"Indulgence\": 80,\n        \"Long Term Orientation\": 10,\n        \"Masculinity\": 50,\n        \"Population\": 25876380,\n        \"Power Distance\": 80,\n        \"Uncertainty Avoidance\": 50\n    },\n    \"CAN\": {\n        \"Continent\": \"Americas\",\n        \"Country Name\": \"Canada\",\n        \"Individualism\": 80,\n        \"Indulgence\": 68,\n        \"Long Term Orientation\": 36,\n        \"Masculinity\": 52,\n        \"Population\": 37411047,\n        \"Power Distance\": 39,\n        \"Uncertainty Avoidance\": 48\n    },\n    \"CPV\": {\n        \"Continent\": \"Africa\",\n        \"Country Name\": \"Cape Verde\",\n        \"Individualism\": 20,\n        \"Indulgence\": 83,\n        \"Long Term Orientation\": 12,\n        \"Masculinity\": 15,\n        \"Population\": 549935,\n        \"Power Distance\": 75,\n        \"Uncertainty Avoidance\": 40\n    },\n    \"CAF\": {\n        \"Continent\": \"Africa\",\n        \"Country Name\": \"Central African Republic\",\n        \"Individualism\": 20,\n        \"Indulgence\": 20,\n        \"Long Term Orientation\": 10,\n        \"Masculinity\": 60,\n        \"Population\": 4745185,\n        \"Power Distance\": 80,\n        \"Uncertainty Avoidance\": 60\n    },\n    \"TCD\": {\n        \"Continent\": \"Africa\",\n        \"Country Name\": \"Chad\",\n        \"Individualism\": 20,\n        \"Indulgence\": 20,\n        \"Long Term Orientation\": 10,\n        \"Masculinity\": 60,\n        \"Population\": 15946876,\n        \"Power Distance\": 80,\n        \"Uncertainty Avoidance\": 60\n    },\n    \"CHL\": {\n        \"Continent\": \"Americas\",\n        \"Country Name\": \"Chile\",\n        \"Individualism\": 23,\n        \"Indulgence\": 68,\n        \"Long Term Orientation\": 31,\n        \"Masculinity\": 28,\n        \"Population\": 18952038,\n        \"Power Distance\": 63,\n        \"Uncertainty Avoidance\": 86\n    },\n    \"CHN\": {\n        \"Continent\": \"Asia\",\n        \"Country Name\": \"China\",\n        \"Individualism\": 20,\n        \"Indulgence\": 24,\n        \"Long Term Orientation\": 87,\n        \"Masculinity\": 66,\n        \"Population\": 1433783686,\n        \"Power Distance\": 80,\n        \"Uncertainty Avoidance\": 30\n    },\n    \"COL\": {\n        \"Continent\": \"Americas\",\n        \"Country Name\": \"Colombia\",\n        \"Individualism\": 13,\n        \"Indulgence\": 83,\n        \"Long Term Orientation\": 13,\n        \"Masculinity\": 64,\n        \"Population\": 50339443,\n        \"Power Distance\": 67,\n        \"Uncertainty Avoidance\": 80\n    },\n    \"COG\": {\n        \"Continent\": \"Africa\",\n        \"Country Name\": \"Congo\",\n        \"Individualism\": 20,\n        \"Indulgence\": 80,\n        \"Long Term Orientation\": 10,\n        \"Masculinity\": 60,\n        \"Population\": 5380508,\n        \"Power Distance\": 80,\n        \"Uncertainty Avoidance\": 50\n    },\n    \"COD\": {\n        \"Continent\": \"Africa\",\n        \"Country Name\": \"Democratic Republic of the Congo\",\n        \"Individualism\": 20,\n        \"Indulgence\": 80,\n        \"Long Term Orientation\": 10,\n        \"Masculinity\": 60,\n        \"Population\": 86790567,\n        \"Power Distance\": 80,\n        \"Uncertainty Avoidance\": 50\n    },\n    \"CRI\": {\n        \"Continent\": \"Americas\",\n        \"Country Name\": \"Costa Rica\",\n        \"Individualism\": 15,\n        \"Indulgence\": 90,\n        \"Long Term Orientation\": 30,\n        \"Masculinity\": 21,\n        \"Population\": 5047561,\n        \"Power Distance\": 35,\n        \"Uncertainty Avoidance\": 86\n    },\n    \"CIV\": {\n        \"Continent\": \"Africa\",\n        \"Country Name\": \"Cote d'Ivoire\",\n        \"Individualism\": 20,\n        \"Indulgence\": 40,\n        \"Long Term Orientation\": 20,\n        \"Masculinity\": 40,\n        \"Population\": 25716544,\n        \"Power Distance\": 80,\n        \"Uncertainty Avoidance\": 50\n    },\n    \"HRV\": {\n        \"Continent\": \"Europe\",\n        \"Country Name\": \"Croatia\",\n        \"Individualism\": 33,\n        \"Indulgence\": 33,\n        \"Long Term Orientation\": 58,\n        \"Masculinity\": 40,\n        \"Population\": 4130304,\n        \"Power Distance\": 73,\n        \"Uncertainty Avoidance\": 80\n    },\n    \"CUB\": {\n        \"Continent\": \"Americas\",\n        \"Country Name\": \"Cuba\",\n        \"Individualism\": 20,\n        \"Indulgence\": 80,\n        \"Long Term Orientation\": 20,\n        \"Masculinity\": 40,\n        \"Population\": 11333483,\n        \"Power Distance\": 80,\n        \"Uncertainty Avoidance\": 70\n    },\n    \"CYP\": {\n        \"Continent\": \"Asia\",\n        \"Country Name\": \"Cyprus\",\n        \"Individualism\": 30,\n        \"Indulgence\": 70,\n        \"Long Term Orientation\": 45,\n        \"Masculinity\": 40,\n        \"Population\": 1179551,\n        \"Power Distance\": 60,\n        \"Uncertainty Avoidance\": 90\n    },\n    \"CZE\": {\n        \"Continent\": \"Europe\",\n        \"Country Name\": \"Czech Republic\",\n        \"Individualism\": 58,\n        \"Indulgence\": 29,\n        \"Long Term Orientation\": 70,\n        \"Masculinity\": 57,\n        \"Population\": 10689209,\n        \"Power Distance\": 57,\n        \"Uncertainty Avoidance\": 74\n    },\n    \"DNK\": {\n        \"Continent\": \"Europe\",\n        \"Country Name\": \"Denmark\",\n        \"Individualism\": 74,\n        \"Indulgence\": 70,\n        \"Long Term Orientation\": 35,\n        \"Masculinity\": 16,\n        \"Population\": 5771876,\n        \"Power Distance\": 18,\n        \"Uncertainty Avoidance\": 23\n    },\n    \"DJI\": {\n        \"Continent\": \"Africa\",\n        \"Country Name\": \"Djibouti\",\n        \"Individualism\": 20,\n        \"Indulgence\": 20,\n        \"Long Term Orientation\": 10,\n        \"Masculinity\": 65,\n        \"Population\": 973560,\n        \"Power Distance\": 70,\n        \"Uncertainty Avoidance\": 55\n    },\n    \"DOM\": {\n        \"Continent\": \"Americas\",\n        \"Country Name\": \"Dominican Republic\",\n        \"Individualism\": 20,\n        \"Indulgence\": 54,\n        \"Long Term Orientation\": 13,\n        \"Masculinity\": 40,\n        \"Population\": 10738958,\n        \"Power Distance\": 80,\n        \"Uncertainty Avoidance\": 50\n    },\n    \"ECU\": {\n        \"Continent\": \"Americas\",\n        \"Country Name\": \"Ecuador\",\n        \"Individualism\": 8,\n        \"Indulgence\": 70,\n        \"Long Term Orientation\": 25,\n        \"Masculinity\": 63,\n        \"Population\": 17373662,\n        \"Power Distance\": 78,\n        \"Uncertainty Avoidance\": 67\n    },\n    \"GNQ\": {\n        \"Continent\": \"Africa\",\n        \"Country Name\": \"Equatorial Guinea\",\n        \"Individualism\": 20,\n        \"Indulgence\": 80,\n        \"Long Term Orientation\": 10,\n        \"Masculinity\": 60,\n        \"Population\": 1355986,\n        \"Power Distance\": 80,\n        \"Uncertainty Avoidance\": 50\n    },\n    \"EGY\": {\n        \"Continent\": \"Africa\",\n        \"Country Name\": \"Egypt\",\n        \"Individualism\": 25,\n        \"Indulgence\": 4,\n        \"Long Term Orientation\": 7,\n        \"Masculinity\": 45,\n        \"Population\": 100388073,\n        \"Power Distance\": 70,\n        \"Uncertainty Avoidance\": 80\n    },\n    \"SLV\": {\n        \"Continent\": \"Americas\",\n        \"Country Name\": \"El Salvador\",\n        \"Individualism\": 19,\n        \"Indulgence\": 89,\n        \"Long Term Orientation\": 20,\n        \"Masculinity\": 40,\n        \"Population\": 6453553,\n        \"Power Distance\": 66,\n        \"Uncertainty Avoidance\": 94\n    },\n    \"ERI\": {\n        \"Continent\": \"Africa\",\n        \"Country Name\": \"Eritrea\",\n        \"Individualism\": 25,\n        \"Indulgence\": 20,\n        \"Long Term Orientation\": 10,\n        \"Masculinity\": 65,\n        \"Population\": 3497117,\n        \"Power Distance\": 70,\n        \"Uncertainty Avoidance\": 60\n    },\n    \"EST\": {\n        \"Continent\": \"Europe\",\n        \"Country Name\": \"Estonia\",\n        \"Individualism\": 60,\n        \"Indulgence\": 16,\n        \"Long Term Orientation\": 82,\n        \"Masculinity\": 30,\n        \"Population\": 1325648,\n        \"Power Distance\": 40,\n        \"Uncertainty Avoidance\": 60\n    },\n    \"SWZ\": {\n        \"Continent\": \"Africa\",\n        \"Country Name\": \"Eswatini\",\n        \"Individualism\": 30,\n        \"Indulgence\": 70,\n        \"Long Term Orientation\": 15,\n        \"Masculinity\": 40,\n        \"Population\": 1148130,\n        \"Power Distance\": 70,\n        \"Uncertainty Avoidance\": 50\n    },\n    \"ETH\": {\n        \"Continent\": \"Africa\",\n        \"Country Name\": \"Ethiopia\",\n        \"Individualism\": 20,\n        \"Indulgence\": 20,\n        \"Long Term Orientation\": 10,\n        \"Masculinity\": 65,\n        \"Population\": 112078730,\n        \"Power Distance\": 70,\n        \"Uncertainty Avoidance\": 55\n    },\n    \"FJI\": {\n        \"Continent\": \"Oceania\",\n        \"Country Name\": \"Fiji\",\n        \"Individualism\": 14,\n        \"Indulgence\": 50,\n        \"Long Term Orientation\": 50,\n        \"Masculinity\": 46,\n        \"Population\": 889953,\n        \"Power Distance\": 78,\n        \"Uncertainty Avoidance\": 48\n    },\n    \"FIN\": {\n        \"Continent\": \"Europe\",\n        \"Country Name\": \"Finland\",\n        \"Individualism\": 63,\n        \"Indulgence\": 57,\n        \"Long Term Orientation\": 38,\n        \"Masculinity\": 26,\n        \"Population\": 5532156,\n        \"Power Distance\": 33,\n        \"Uncertainty Avoidance\": 59\n    },\n    \"FRA\": {\n        \"Continent\": \"Europe\",\n        \"Country Name\": \"France\",\n        \"Individualism\": 71,\n        \"Indulgence\": 48,\n        \"Long Term Orientation\": 63,\n        \"Masculinity\": 43,\n        \"Population\": 65129728,\n        \"Power Distance\": 68,\n        \"Uncertainty Avoidance\": 86\n    },\n    \"GAB\": {\n        \"Continent\": \"Africa\",\n        \"Country Name\": \"Gabon\",\n        \"Individualism\": 25,\n        \"Indulgence\": 60,\n        \"Long Term Orientation\": 20,\n        \"Masculinity\": 45,\n        \"Population\": 2172579,\n        \"Power Distance\": 80,\n        \"Uncertainty Avoidance\": 50\n    },\n    \"GMB\": {\n        \"Continent\": \"Africa\",\n        \"Country Name\": \"Gambia\",\n        \"Individualism\": 25,\n        \"Indulgence\": 40,\n        \"Long Term Orientation\": 25,\n        \"Masculinity\": 45,\n        \"Population\": 2347706,\n        \"Power Distance\": 70,\n        \"Uncertainty Avoidance\": 55\n    },\n    \"GEO\": {\n        \"Continent\": \"Asia\",\n        \"Country Name\": \"Georgia\",\n        \"Individualism\": 40,\n        \"Indulgence\": 32,\n        \"Long Term Orientation\": 38,\n        \"Masculinity\": 50,\n        \"Population\": 3996765,\n        \"Power Distance\": 80,\n        \"Uncertainty Avoidance\": 90\n    },\n    \"DEU\": {\n        \"Continent\": \"Europe\",\n        \"Country Name\": \"Germany\",\n        \"Individualism\": 67,\n        \"Indulgence\": 40,\n        \"Long Term Orientation\": 83,\n        \"Masculinity\": 66,\n        \"Population\": 83517045,\n        \"Power Distance\": 35,\n        \"Uncertainty Avoidance\": 65\n    },\n    \"GHA\": {\n        \"Continent\": \"Africa\",\n        \"Country Name\": \"Ghana\",\n        \"Individualism\": 30,\n        \"Indulgence\": 72,\n        \"Long Term Orientation\": 4,\n        \"Masculinity\": 40,\n        \"Population\": 28833629,\n        \"Power Distance\": 80,\n        \"Uncertainty Avoidance\": 65\n    },\n    \"GBR\": {\n        \"Continent\": \"Europe\",\n        \"Country Name\": \"Great Britain\",\n        \"Individualism\": 89,\n        \"Indulgence\": 69,\n        \"Long Term Orientation\": 51,\n        \"Masculinity\": 66,\n        \"Population\": 67530172,\n        \"Power Distance\": 35,\n        \"Uncertainty Avoidance\": 35\n    },\n    \"GRC\": {\n        \"Continent\": \"Europe\",\n        \"Country Name\": \"Greece\",\n        \"Individualism\": 35,\n        \"Indulgence\": 50,\n        \"Long Term Orientation\": 45,\n        \"Masculinity\": 57,\n        \"Population\": 10473455,\n        \"Power Distance\": 60,\n        \"Uncertainty Avoidance\": 112\n    },\n    \"GRL\": {\n        \"Continent\": \"Americas\",\n        \"Country Name\": \"Greenland\",\n        \"Individualism\": 50,\n        \"Indulgence\": 70,\n        \"Long Term Orientation\": 30,\n        \"Masculinity\": 20,\n        \"Population\": 56672,\n        \"Power Distance\": 20,\n        \"Uncertainty Avoidance\": 40\n    },\n    \"GTM\": {\n        \"Continent\": \"Americas\",\n        \"Country Name\": \"Guatemala\",\n        \"Individualism\": 6,\n        \"Indulgence\": 90,\n        \"Long Term Orientation\": 20,\n        \"Masculinity\": 37,\n        \"Population\": 17581472,\n        \"Power Distance\": 95,\n        \"Uncertainty Avoidance\": 101\n    },\n    \"GUF\": {\n        \"Continent\": \"Americas\",\n        \"Country Name\": \"Guiana French\",\n        \"Individualism\": 47,\n        \"Indulgence\": 80,\n        \"Long Term Orientation\": 20,\n        \"Masculinity\": 37,\n        \"Population\": 282731,\n        \"Power Distance\": 85,\n        \"Uncertainty Avoidance\": 92\n    },\n    \"GIN\": {\n        \"Continent\": \"Africa\",\n        \"Country Name\": \"Guinea\",\n        \"Individualism\": 25,\n        \"Indulgence\": 40,\n        \"Long Term Orientation\": 25,\n        \"Masculinity\": 45,\n        \"Population\": 12771246,\n        \"Power Distance\": 70,\n        \"Uncertainty Avoidance\": 55\n    },\n    \"GNB\": {\n        \"Continent\": \"Africa\",\n        \"Country Name\": \"Guinea-Bissau\",\n        \"Individualism\": 25,\n        \"Indulgence\": 40,\n        \"Long Term Orientation\": 25,\n        \"Masculinity\": 45,\n        \"Population\": 1920922,\n        \"Power Distance\": 70,\n        \"Uncertainty Avoidance\": 55\n    },\n    \"GUY\": {\n        \"Continent\": \"Americas\",\n        \"Country Name\": \"Guyana British\",\n        \"Individualism\": 47,\n        \"Indulgence\": 80,\n        \"Long Term Orientation\": 20,\n        \"Masculinity\": 37,\n        \"Population\": 782766,\n        \"Power Distance\": 85,\n        \"Uncertainty Avoidance\": 92\n    },\n    \"HTI\": {\n        \"Continent\": \"Americas\",\n        \"Country Name\": \"Haiti\",\n        \"Individualism\": 20,\n        \"Indulgence\": 80,\n        \"Long Term Orientation\": 5,\n        \"Masculinity\": 40,\n        \"Population\": 11263770,\n        \"Power Distance\": 80,\n        \"Uncertainty Avoidance\": 50\n    },\n    \"HND\": {\n        \"Continent\": \"Americas\",\n        \"Country Name\": \"Honduras\",\n        \"Individualism\": 20,\n        \"Indulgence\": 90,\n        \"Long Term Orientation\": 20,\n        \"Masculinity\": 40,\n        \"Population\": 9746117,\n        \"Power Distance\": 80,\n        \"Uncertainty Avoidance\": 70\n    },\n    \"HKG\": {\n        \"Continent\": \"Asia\",\n        \"Country Name\": \"Hong Kong\",\n        \"Individualism\": 25,\n        \"Indulgence\": 17,\n        \"Long Term Orientation\": 61,\n        \"Masculinity\": 57,\n        \"Population\": 7436154,\n        \"Power Distance\": 68,\n        \"Uncertainty Avoidance\": 29\n    },\n    \"HUN\": {\n        \"Continent\": \"Europe\",\n        \"Country Name\": \"Hungary\",\n        \"Individualism\": 80,\n        \"Indulgence\": 31,\n        \"Long Term Orientation\": 58,\n        \"Masculinity\": 88,\n        \"Population\": 9684679,\n        \"Power Distance\": 46,\n        \"Uncertainty Avoidance\": 82\n    },\n    \"ISL\": {\n        \"Continent\": \"Europe\",\n        \"Country Name\": \"Iceland\",\n        \"Individualism\": 60,\n        \"Indulgence\": 67,\n        \"Long Term Orientation\": 28,\n        \"Masculinity\": 10,\n        \"Population\": 339031,\n        \"Power Distance\": 30,\n        \"Uncertainty Avoidance\": 50\n    },\n    \"IND\": {\n        \"Continent\": \"Asia\",\n        \"Country Name\": \"India\",\n        \"Individualism\": 48,\n        \"Indulgence\": 26,\n        \"Long Term Orientation\": 51,\n        \"Masculinity\": 56,\n        \"Population\": 1366417754,\n        \"Power Distance\": 77,\n        \"Uncertainty Avoidance\": 40\n    },\n    \"IDN\": {\n        \"Continent\": \"Asia\",\n        \"Country Name\": \"Indonesia\",\n        \"Individualism\": 14,\n        \"Indulgence\": 38,\n        \"Long Term Orientation\": 62,\n        \"Masculinity\": 46,\n        \"Population\": 270625568,\n        \"Power Distance\": 78,\n        \"Uncertainty Avoidance\": 48\n    },\n    \"IRN\": {\n        \"Continent\": \"Asia\",\n        \"Country Name\": \"Iran\",\n        \"Individualism\": 41,\n        \"Indulgence\": 40,\n        \"Long Term Orientation\": 14,\n        \"Masculinity\": 43,\n        \"Population\": 82913906,\n        \"Power Distance\": 58,\n        \"Uncertainty Avoidance\": 59\n    },\n    \"IRQ\": {\n        \"Continent\": \"Asia\",\n        \"Country Name\": \"Iraq\",\n        \"Individualism\": 30,\n        \"Indulgence\": 17,\n        \"Long Term Orientation\": 25,\n        \"Masculinity\": 70,\n        \"Population\": 39309783,\n        \"Power Distance\": 95,\n        \"Uncertainty Avoidance\": 85\n    },\n    \"IRL\": {\n        \"Continent\": \"Europe\",\n        \"Country Name\": \"Ireland\",\n        \"Individualism\": 70,\n        \"Indulgence\": 65,\n        \"Long Term Orientation\": 24,\n        \"Masculinity\": 68,\n        \"Population\": 4882495,\n        \"Power Distance\": 28,\n        \"Uncertainty Avoidance\": 35\n    },\n    \"ISR\": {\n        \"Continent\": \"Asia\",\n        \"Country Name\": \"Israel\",\n        \"Individualism\": 54,\n        \"Indulgence\": 40,\n        \"Long Term Orientation\": 38,\n        \"Masculinity\": 47,\n        \"Population\": 8519377,\n        \"Power Distance\": 13,\n        \"Uncertainty Avoidance\": 81\n    },\n    \"ITA\": {\n        \"Continent\": \"Europe\",\n        \"Country Name\": \"Italy\",\n        \"Individualism\": 76,\n        \"Indulgence\": 30,\n        \"Long Term Orientation\": 61,\n        \"Masculinity\": 70,\n        \"Population\": 60550075,\n        \"Power Distance\": 50,\n        \"Uncertainty Avoidance\": 75\n    },\n    \"JAM\": {\n        \"Continent\": \"Americas\",\n        \"Country Name\": \"Jamaica\",\n        \"Individualism\": 39,\n        \"Indulgence\": 90,\n        \"Long Term Orientation\": 10,\n        \"Masculinity\": 68,\n        \"Population\": 2948279,\n        \"Power Distance\": 45,\n        \"Uncertainty Avoidance\": 13\n    },\n    \"JPN\": {\n        \"Continent\": \"Asia\",\n        \"Country Name\": \"Japan\",\n        \"Individualism\": 46,\n        \"Indulgence\": 42,\n        \"Long Term Orientation\": 88,\n        \"Masculinity\": 95,\n        \"Population\": 126860301,\n        \"Power Distance\": 54,\n        \"Uncertainty Avoidance\": 92\n    },\n    \"JOR\": {\n        \"Continent\": \"Asia\",\n        \"Country Name\": \"Jordan\",\n        \"Individualism\": 30,\n        \"Indulgence\": 43,\n        \"Long Term Orientation\": 16,\n        \"Masculinity\": 45,\n        \"Population\": 10101694,\n        \"Power Distance\": 70,\n        \"Uncertainty Avoidance\": 65\n    },\n    \"KAZ\": {\n        \"Continent\": \"Asia\",\n        \"Country Name\": \"Kazakhstan\",\n        \"Individualism\": 30,\n        \"Indulgence\": 40,\n        \"Long Term Orientation\": 60,\n        \"Masculinity\": 50,\n        \"Population\": 18551427,\n        \"Power Distance\": 90,\n        \"Uncertainty Avoidance\": 90\n    },\n    \"KEN\": {\n        \"Continent\": \"Africa\",\n        \"Country Name\": \"Kenya\",\n        \"Individualism\": 25,\n        \"Indulgence\": 40,\n        \"Long Term Orientation\": 30,\n        \"Masculinity\": 60,\n        \"Population\": 52573973,\n        \"Power Distance\": 70,\n        \"Uncertainty Avoidance\": 50\n    },\n    \"KWT\": {\n        \"Continent\": \"Asia\",\n        \"Country Name\": \"Kuwait\",\n        \"Individualism\": 25,\n        \"Indulgence\": 40,\n        \"Long Term Orientation\": 20,\n        \"Masculinity\": 40,\n        \"Population\": 4207083,\n        \"Power Distance\": 90,\n        \"Uncertainty Avoidance\": 20\n    },\n    \"PRK\": {\n        \"Continent\": \"Asia\",\n        \"Country Name\": \"North Korea\",\n        \"Individualism\": 15,\n        \"Indulgence\": 20,\n        \"Long Term Orientation\": 100,\n        \"Masculinity\": 50,\n        \"Population\": 25666161,\n        \"Power Distance\": 80,\n        \"Uncertainty Avoidance\": 85\n    },\n    \"KOR\": {\n        \"Continent\": \"Asia\",\n        \"Country Name\": \"South Korea\",\n        \"Individualism\": 18,\n        \"Indulgence\": 29,\n        \"Long Term Orientation\": 100,\n        \"Masculinity\": 39,\n        \"Population\": 51225308,\n        \"Power Distance\": 60,\n        \"Uncertainty Avoidance\": 85\n    },\n    \"KGZ\": {\n        \"Continent\": \"Asia\",\n        \"Country Name\": \"Kyrgyzstan\",\n        \"Individualism\": 30,\n        \"Indulgence\": 39,\n        \"Long Term Orientation\": 66,\n        \"Masculinity\": 35,\n        \"Population\": 6415850,\n        \"Power Distance\": 70,\n        \"Uncertainty Avoidance\": 90\n    },\n    \"LVA\": {\n        \"Continent\": \"Europe\",\n        \"Country Name\": \"Latvia\",\n        \"Individualism\": 70,\n        \"Indulgence\": 13,\n        \"Long Term Orientation\": 69,\n        \"Masculinity\": 9,\n        \"Population\": 1906743,\n        \"Power Distance\": 44,\n        \"Uncertainty Avoidance\": 63\n    },\n    \"LAO\": {\n        \"Continent\": \"Asia\",\n        \"Country Name\": \"Laos\",\n        \"Individualism\": 10,\n        \"Indulgence\": 40,\n        \"Long Term Orientation\": 20,\n        \"Masculinity\": 30,\n        \"Population\": 7169455,\n        \"Power Distance\": 80,\n        \"Uncertainty Avoidance\": 50\n    },\n    \"LBN\": {\n        \"Continent\": \"Asia\",\n        \"Country Name\": \"Lebanon\",\n        \"Individualism\": 40,\n        \"Indulgence\": 60,\n        \"Long Term Orientation\": 14,\n        \"Masculinity\": 50,\n        \"Population\": 6855713,\n        \"Power Distance\": 75,\n        \"Uncertainty Avoidance\": 50\n    },\n    \"LSO\": {\n        \"Continent\": \"Africa\",\n        \"Country Name\": \"Lesotho\",\n        \"Individualism\": 30,\n        \"Indulgence\": 70,\n        \"Long Term Orientation\": 15,\n        \"Masculinity\": 40,\n        \"Population\": 2125268,\n        \"Power Distance\": 70,\n        \"Uncertainty Avoidance\": 50\n    },\n    \"LBR\": {\n        \"Continent\": \"Africa\",\n        \"Country Name\": \"Liberia\",\n        \"Individualism\": 20,\n        \"Indulgence\": 60,\n        \"Long Term Orientation\": 23,\n        \"Masculinity\": 40,\n        \"Population\": 4937374,\n        \"Power Distance\": 80,\n        \"Uncertainty Avoidance\": 50\n    },\n    \"LBY\": {\n        \"Continent\": \"Africa\",\n        \"Country Name\": \"Libya\",\n        \"Individualism\": 38,\n        \"Indulgence\": 34,\n        \"Long Term Orientation\": 23,\n        \"Masculinity\": 52,\n        \"Population\": 6777452,\n        \"Power Distance\": 80,\n        \"Uncertainty Avoidance\": 68\n    },\n    \"LTU\": {\n        \"Continent\": \"Europe\",\n        \"Country Name\": \"Lithuania\",\n        \"Individualism\": 60,\n        \"Indulgence\": 56,\n        \"Long Term Orientation\": 82,\n        \"Masculinity\": 19,\n        \"Population\": 2759627,\n        \"Power Distance\": 42,\n        \"Uncertainty Avoidance\": 65\n    },\n    \"LUX\": {\n        \"Continent\": \"Europe\",\n        \"Country Name\": \"Luxembourg\",\n        \"Individualism\": 60,\n        \"Indulgence\": 35,\n        \"Long Term Orientation\": 64,\n        \"Masculinity\": 50,\n        \"Population\": 615729,\n        \"Power Distance\": 40,\n        \"Uncertainty Avoidance\": 70\n    },\n    \"MKD\": {\n        \"Continent\": \"Europe\",\n        \"Country Name\": \"North Macedonia\",\n        \"Individualism\": 30,\n        \"Indulgence\": 50,\n        \"Long Term Orientation\": 62,\n        \"Masculinity\": 50,\n        \"Population\": 2083459,\n        \"Power Distance\": 80,\n        \"Uncertainty Avoidance\": 90\n    },\n    \"MDG\": {\n        \"Continent\": \"Africa\",\n        \"Country Name\": \"Madagascar\",\n        \"Individualism\": 10,\n        \"Indulgence\": 42,\n        \"Long Term Orientation\": 30,\n        \"Masculinity\": 50,\n        \"Population\": 26969307,\n        \"Power Distance\": 80,\n        \"Uncertainty Avoidance\": 50\n    },\n    \"MWI\": {\n        \"Continent\": \"Africa\",\n        \"Country Name\": \"Malawi\",\n        \"Individualism\": 30,\n        \"Indulgence\": 42,\n        \"Long Term Orientation\": 30,\n        \"Masculinity\": 40,\n        \"Population\": 18628747,\n        \"Power Distance\": 70,\n        \"Uncertainty Avoidance\": 50\n    },\n    \"MYS\": {\n        \"Continent\": \"Asia\",\n        \"Country Name\": \"Malaysia\",\n        \"Individualism\": 26,\n        \"Indulgence\": 43,\n        \"Long Term Orientation\": 41,\n        \"Masculinity\": 50,\n        \"Population\": 31949777,\n        \"Power Distance\": 104,\n        \"Uncertainty Avoidance\": 36\n    },\n    \"MLI\": {\n        \"Continent\": \"Africa\",\n        \"Country Name\": \"Mali\",\n        \"Individualism\": 20,\n        \"Indulgence\": 66,\n        \"Long Term Orientation\": 20,\n        \"Masculinity\": 40,\n        \"Population\": 19658031,\n        \"Power Distance\": 80,\n        \"Uncertainty Avoidance\": 50\n    },\n    \"MLT\": {\n        \"Continent\": \"Europe\",\n        \"Country Name\": \"Malta\",\n        \"Individualism\": 59,\n        \"Indulgence\": 66,\n        \"Long Term Orientation\": 47,\n        \"Masculinity\": 47,\n        \"Population\": 440372,\n        \"Power Distance\": 56,\n        \"Uncertainty Avoidance\": 96\n    },\n    \"MRT\": {\n        \"Continent\": \"Africa\",\n        \"Country Name\": \"Mauritania\",\n        \"Individualism\": 40,\n        \"Indulgence\": 10,\n        \"Long Term Orientation\": 15,\n        \"Masculinity\": 50,\n        \"Population\": 4525696,\n        \"Power Distance\": 70,\n        \"Uncertainty Avoidance\": 70\n    },\n    \"MEX\": {\n        \"Continent\": \"Americas\",\n        \"Country Name\": \"Mexico\",\n        \"Individualism\": 30,\n        \"Indulgence\": 97,\n        \"Long Term Orientation\": 24,\n        \"Masculinity\": 69,\n        \"Population\": 127575529,\n        \"Power Distance\": 81,\n        \"Uncertainty Avoidance\": 82\n    },\n    \"MOL\": {\n        \"Continent\": \"Europe\",\n        \"Country Name\": \"Moldova\",\n        \"Individualism\": 40,\n        \"Indulgence\": 19,\n        \"Long Term Orientation\": 71,\n        \"Masculinity\": 40,\n        \"Population\": 4043263,\n        \"Power Distance\": 90,\n        \"Uncertainty Avoidance\": 90\n    },\n    \"MNG\": {\n        \"Continent\": \"Asia\",\n        \"Country Name\": \"Mongolia\",\n        \"Individualism\": 20,\n        \"Indulgence\": 20,\n        \"Long Term Orientation\": 70,\n        \"Masculinity\": 60,\n        \"Population\": 3225167,\n        \"Power Distance\": 70,\n        \"Uncertainty Avoidance\": 30\n    },\n    \"MNE\": {\n        \"Continent\": \"Europe\",\n        \"Country Name\": \"Montenegro\",\n        \"Individualism\": 30,\n        \"Indulgence\": 20,\n        \"Long Term Orientation\": 75,\n        \"Masculinity\": 50,\n        \"Population\": 627987,\n        \"Power Distance\": 80,\n        \"Uncertainty Avoidance\": 90\n    },\n    \"MAR\": {\n        \"Continent\": \"Africa\",\n        \"Country Name\": \"Morocco\",\n        \"Individualism\": 46,\n        \"Indulgence\": 25,\n        \"Long Term Orientation\": 14,\n        \"Masculinity\": 53,\n        \"Population\": 36471769,\n        \"Power Distance\": 70,\n        \"Uncertainty Avoidance\": 68\n    },\n    \"MOZ\": {\n        \"Continent\": \"Africa\",\n        \"Country Name\": \"Mozambique\",\n        \"Individualism\": 15,\n        \"Indulgence\": 80,\n        \"Long Term Orientation\": 11,\n        \"Masculinity\": 38,\n        \"Population\": 30366036,\n        \"Power Distance\": 85,\n        \"Uncertainty Avoidance\": 44\n    },\n    \"MMR\": {\n        \"Continent\": \"Asia\",\n        \"Country Name\": \"Myanmar\",\n        \"Individualism\": 20,\n        \"Indulgence\": 30,\n        \"Long Term Orientation\": 50,\n        \"Masculinity\": 50,\n        \"Population\": 54045420,\n        \"Power Distance\": 90,\n        \"Uncertainty Avoidance\": 60\n    },\n    \"NAM\": {\n        \"Continent\": \"Africa\",\n        \"Country Name\": \"Namibia\",\n        \"Individualism\": 30,\n        \"Indulgence\": 50,\n        \"Long Term Orientation\": 35,\n        \"Masculinity\": 40,\n        \"Population\": 2494530,\n        \"Power Distance\": 65,\n        \"Uncertainty Avoidance\": 45\n    },\n    \"NPL\": {\n        \"Continent\": \"Asia\",\n        \"Country Name\": \"Nepal\",\n        \"Individualism\": 30,\n        \"Indulgence\": 40,\n        \"Long Term Orientation\": 60,\n        \"Masculinity\": 40,\n        \"Population\": 28608710,\n        \"Power Distance\": 65,\n        \"Uncertainty Avoidance\": 40\n    },\n    \"NLD\": {\n        \"Continent\": \"Europe\",\n        \"Country Name\": \"Netherlands\",\n        \"Individualism\": 80,\n        \"Indulgence\": 68,\n        \"Long Term Orientation\": 67,\n        \"Masculinity\": 14,\n        \"Population\": 17097130,\n        \"Power Distance\": 38,\n        \"Uncertainty Avoidance\": 53\n    },\n    \"NZL\": {\n        \"Continent\": \"Oceania\",\n        \"Country Name\": \"New Zealand\",\n        \"Individualism\": 79,\n        \"Indulgence\": 75,\n        \"Long Term Orientation\": 33,\n        \"Masculinity\": 58,\n        \"Population\": 4783063,\n        \"Power Distance\": 22,\n        \"Uncertainty Avoidance\": 49\n    },\n    \"NIC\": {\n        \"Continent\": \"Americas\",\n        \"Country Name\": \"Nicaragua\",\n        \"Individualism\": 20,\n        \"Indulgence\": 90,\n        \"Long Term Orientation\": 10,\n        \"Masculinity\": 40,\n        \"Population\": 6545502,\n        \"Power Distance\": 80,\n        \"Uncertainty Avoidance\": 70\n    },\n    \"NER\": {\n        \"Continent\": \"Africa\",\n        \"Country Name\": \"Niger\",\n        \"Individualism\": 30,\n        \"Indulgence\": 50,\n        \"Long Term Orientation\": 20,\n        \"Masculinity\": 60,\n        \"Population\": 23310715,\n        \"Power Distance\": 80,\n        \"Uncertainty Avoidance\": 60\n    },\n    \"NGA\": {\n        \"Continent\": \"Africa\",\n        \"Country Name\": \"Nigeria\",\n        \"Individualism\": 30,\n        \"Indulgence\": 84,\n        \"Long Term Orientation\": 13,\n        \"Masculinity\": 60,\n        \"Population\": 200963599,\n        \"Power Distance\": 80,\n        \"Uncertainty Avoidance\": 55\n    },\n    \"NOR\": {\n        \"Continent\": \"Europe\",\n        \"Country Name\": \"Norway\",\n        \"Individualism\": 69,\n        \"Indulgence\": 55,\n        \"Long Term Orientation\": 35,\n        \"Masculinity\": 8,\n        \"Population\": 5378857,\n        \"Power Distance\": 31,\n        \"Uncertainty Avoidance\": 50\n    },\n    \"OMN\": {\n        \"Continent\": \"Asia\",\n        \"Country Name\": \"Oman\",\n        \"Individualism\": 25,\n        \"Indulgence\": 52,\n        \"Long Term Orientation\": 35,\n        \"Masculinity\": 60,\n        \"Population\": 4974986,\n        \"Power Distance\": 90,\n        \"Uncertainty Avoidance\": 80\n    },\n    \"PAK\": {\n        \"Continent\": \"Asia\",\n        \"Country Name\": \"Pakistan\",\n        \"Individualism\": 14,\n        \"Indulgence\": 0,\n        \"Long Term Orientation\": 50,\n        \"Masculinity\": 50,\n        \"Population\": 216565318,\n        \"Power Distance\": 55,\n        \"Uncertainty Avoidance\": 70\n    },\n    \"PSE\": {\n        \"Continent\": \"Asia\",\n        \"Country Name\": \"Palestine\",\n        \"Individualism\": 30,\n        \"Indulgence\": 40,\n        \"Long Term Orientation\": 16,\n        \"Masculinity\": 45,\n        \"Population\": 4981420,\n        \"Power Distance\": 80,\n        \"Uncertainty Avoidance\": 65\n    },\n    \"PAN\": {\n        \"Continent\": \"Americas\",\n        \"Country Name\": \"Panama\",\n        \"Individualism\": 11,\n        \"Indulgence\": 80,\n        \"Long Term Orientation\": 20,\n        \"Masculinity\": 44,\n        \"Population\": 4246439,\n        \"Power Distance\": 95,\n        \"Uncertainty Avoidance\": 86\n    },\n    \"PNG\": {\n        \"Continent\": \"Oceania\",\n        \"Country Name\": \"Papua New Guinea\",\n        \"Individualism\": 50,\n        \"Indulgence\": 50,\n        \"Long Term Orientation\": 30,\n        \"Masculinity\": 70,\n        \"Population\": 8776109,\n        \"Power Distance\": 40,\n        \"Uncertainty Avoidance\": 60\n    },\n    \"PRY\": {\n        \"Continent\": \"Americas\",\n        \"Country Name\": \"Paraguay\",\n        \"Individualism\": 36,\n        \"Indulgence\": 53,\n        \"Long Term Orientation\": 26,\n        \"Masculinity\": 38,\n        \"Population\": 7044636,\n        \"Power Distance\": 61,\n        \"Uncertainty Avoidance\": 100\n    },\n    \"PER\": {\n        \"Continent\": \"Americas\",\n        \"Country Name\": \"Peru\",\n        \"Individualism\": 16,\n        \"Indulgence\": 46,\n        \"Long Term Orientation\": 25,\n        \"Masculinity\": 42,\n        \"Population\": 32510453,\n        \"Power Distance\": 64,\n        \"Uncertainty Avoidance\": 87\n    },\n    \"PHL\": {\n        \"Continent\": \"Asia\",\n        \"Country Name\": \"Philippines\",\n        \"Individualism\": 32,\n        \"Indulgence\": 42,\n        \"Long Term Orientation\": 27,\n        \"Masculinity\": 64,\n        \"Population\": 108116615,\n        \"Power Distance\": 94,\n        \"Uncertainty Avoidance\": 44\n    },\n    \"POL\": {\n        \"Continent\": \"Europe\",\n        \"Country Name\": \"Poland\",\n        \"Individualism\": 60,\n        \"Indulgence\": 29,\n        \"Long Term Orientation\": 38,\n        \"Masculinity\": 64,\n        \"Population\": 37887768,\n        \"Power Distance\": 68,\n        \"Uncertainty Avoidance\": 93\n    },\n    \"PRT\": {\n        \"Continent\": \"Europe\",\n        \"Country Name\": \"Portugal\",\n        \"Individualism\": 27,\n        \"Indulgence\": 33,\n        \"Long Term Orientation\": 28,\n        \"Masculinity\": 31,\n        \"Population\": 10226187,\n        \"Power Distance\": 63,\n        \"Uncertainty Avoidance\": 104\n    },\n    \"PRI\": {\n        \"Continent\": \"Americas\",\n        \"Country Name\": \"Puerto Rico\",\n        \"Individualism\": 20,\n        \"Indulgence\": 90,\n        \"Long Term Orientation\": 0,\n        \"Masculinity\": 40,\n        \"Population\": 2933408,\n        \"Power Distance\": 70,\n        \"Uncertainty Avoidance\": 50\n    },\n    \"ROU\": {\n        \"Continent\": \"Europe\",\n        \"Country Name\": \"Romania\",\n        \"Individualism\": 30,\n        \"Indulgence\": 20,\n        \"Long Term Orientation\": 52,\n        \"Masculinity\": 42,\n        \"Population\": 19364557,\n        \"Power Distance\": 90,\n        \"Uncertainty Avoidance\": 90\n    },\n    \"RUS\": {\n        \"Continent\": \"Europe\",\n        \"Country Name\": \"Russia\",\n        \"Individualism\": 39,\n        \"Indulgence\": 20,\n        \"Long Term Orientation\": 81,\n        \"Masculinity\": 36,\n        \"Population\": 145872256,\n        \"Power Distance\": 93,\n        \"Uncertainty Avoidance\": 95\n    },\n    \"RWA\": {\n        \"Continent\": \"Africa\",\n        \"Country Name\": \"Rwanda\",\n        \"Individualism\": 25,\n        \"Indulgence\": 37,\n        \"Long Term Orientation\": 18,\n        \"Masculinity\": 60,\n        \"Population\": 12626950,\n        \"Power Distance\": 70,\n        \"Uncertainty Avoidance\": 50\n    },\n    \"SAU\": {\n        \"Continent\": \"Asia\",\n        \"Country Name\": \"Saudi Arabia\",\n        \"Individualism\": 25,\n        \"Indulgence\": 52,\n        \"Long Term Orientation\": 36,\n        \"Masculinity\": 60,\n        \"Population\": 34268528,\n        \"Power Distance\": 95,\n        \"Uncertainty Avoidance\": 80\n    },\n    \"SEN\": {\n        \"Continent\": \"Africa\",\n        \"Country Name\": \"Senegal\",\n        \"Individualism\": 25,\n        \"Indulgence\": 66,\n        \"Long Term Orientation\": 20,\n        \"Masculinity\": 45,\n        \"Population\": 16296364,\n        \"Power Distance\": 70,\n        \"Uncertainty Avoidance\": 55\n    },\n    \"SRB\": {\n        \"Continent\": \"Europe\",\n        \"Country Name\": \"Serbia\",\n        \"Individualism\": 25,\n        \"Indulgence\": 28,\n        \"Long Term Orientation\": 52,\n        \"Masculinity\": 43,\n        \"Population\": 8772235,\n        \"Power Distance\": 86,\n        \"Uncertainty Avoidance\": 92\n    },\n    \"SLE\": {\n        \"Continent\": \"Africa\",\n        \"Country Name\": \"Sierra Leone\",\n        \"Individualism\": 20,\n        \"Indulgence\": 46,\n        \"Long Term Orientation\": 20,\n        \"Masculinity\": 40,\n        \"Population\": 7813215,\n        \"Power Distance\": 80,\n        \"Uncertainty Avoidance\": 50\n    },\n    \"SGP\": {\n        \"Continent\": \"Asia\",\n        \"Country Name\": \"Singapore\",\n        \"Individualism\": 20,\n        \"Indulgence\": 46,\n        \"Long Term Orientation\": 72,\n        \"Masculinity\": 48,\n        \"Population\": 5804337,\n        \"Power Distance\": 74,\n        \"Uncertainty Avoidance\": 8\n    },\n    \"SVK\": {\n        \"Continent\": \"Europe\",\n        \"Country Name\": \"Slovakia\",\n        \"Individualism\": 52,\n        \"Indulgence\": 28,\n        \"Long Term Orientation\": 77,\n        \"Masculinity\": 110,\n        \"Population\": 5457013,\n        \"Power Distance\": 104,\n        \"Uncertainty Avoidance\": 51\n    },\n    \"SVN\": {\n        \"Continent\": \"Europe\",\n        \"Country Name\": \"Slovenia\",\n        \"Individualism\": 27,\n        \"Indulgence\": 48,\n        \"Long Term Orientation\": 49,\n        \"Masculinity\": 19,\n        \"Population\": 2078654,\n        \"Power Distance\": 71,\n        \"Uncertainty Avoidance\": 88\n    },\n    \"SOM\": {\n        \"Continent\": \"Africa\",\n        \"Country Name\": \"Somalia\",\n        \"Individualism\": 25,\n        \"Indulgence\": 20,\n        \"Long Term Orientation\": 10,\n        \"Masculinity\": 65,\n        \"Population\": 15442905,\n        \"Power Distance\": 70,\n        \"Uncertainty Avoidance\": 55\n    },\n    \"ZAF\": {\n        \"Continent\": \"Africa\",\n        \"Country Name\": \"South Africa\",\n        \"Individualism\": 65,\n        \"Indulgence\": 63,\n        \"Long Term Orientation\": 34,\n        \"Masculinity\": 63,\n        \"Population\": 58558270,\n        \"Power Distance\": 49,\n        \"Uncertainty Avoidance\": 49\n    },\n    \"ESP\": {\n        \"Continent\": \"Europe\",\n        \"Country Name\": \"Spain\",\n        \"Individualism\": 51,\n        \"Indulgence\": 30,\n        \"Long Term Orientation\": 48,\n        \"Masculinity\": 42,\n        \"Population\": 46736776,\n        \"Power Distance\": 57,\n        \"Uncertainty Avoidance\": 86\n    },\n    \"LKA\": {\n        \"Continent\": \"Asia\",\n        \"Country Name\": \"Sri Lanka\",\n        \"Individualism\": 40,\n        \"Indulgence\": 30,\n        \"Long Term Orientation\": 10,\n        \"Masculinity\": 50,\n        \"Population\": 21323733,\n        \"Power Distance\": 70,\n        \"Uncertainty Avoidance\": 50\n    },\n    \"SDN\": {\n        \"Continent\": \"Africa\",\n        \"Country Name\": \"Sudan\",\n        \"Individualism\": 40,\n        \"Indulgence\": 40,\n        \"Long Term Orientation\": 10,\n        \"Masculinity\": 60,\n        \"Population\": 42813238,\n        \"Power Distance\": 80,\n        \"Uncertainty Avoidance\": 80\n    },\n    \"SSD\": {\n        \"Continent\": \"Africa\",\n        \"Country Name\": \"Sudan South\",\n        \"Individualism\": 20,\n        \"Indulgence\": 80,\n        \"Long Term Orientation\": 20,\n        \"Masculinity\": 50,\n        \"Population\": 11062113,\n        \"Power Distance\": 80,\n        \"Uncertainty Avoidance\": 70\n    },\n    \"SUR\": {\n        \"Continent\": \"Americas\",\n        \"Country Name\": \"Suriname\",\n        \"Individualism\": 47,\n        \"Indulgence\": 80,\n        \"Long Term Orientation\": 30,\n        \"Masculinity\": 37,\n        \"Population\": 581372,\n        \"Power Distance\": 85,\n        \"Uncertainty Avoidance\": 92\n    },\n    \"SWE\": {\n        \"Continent\": \"Europe\",\n        \"Country Name\": \"Sweden\",\n        \"Individualism\": 71,\n        \"Indulgence\": 78,\n        \"Long Term Orientation\": 53,\n        \"Masculinity\": 5,\n        \"Population\": 10036379,\n        \"Power Distance\": 31,\n        \"Uncertainty Avoidance\": 29\n    },\n    \"CHE\": {\n        \"Continent\": \"Europe\",\n        \"Country Name\": \"Switzerland\",\n        \"Individualism\": 68,\n        \"Indulgence\": 66,\n        \"Long Term Orientation\": 74,\n        \"Masculinity\": 70,\n        \"Population\": 8591365,\n        \"Power Distance\": 34,\n        \"Uncertainty Avoidance\": 58\n    },\n    \"SYR\": {\n        \"Continent\": \"Asia\",\n        \"Country Name\": \"Syria\",\n        \"Individualism\": 35,\n        \"Indulgence\": 20,\n        \"Long Term Orientation\": 30,\n        \"Masculinity\": 52,\n        \"Population\": 17070135,\n        \"Power Distance\": 80,\n        \"Uncertainty Avoidance\": 60\n    },\n    \"TWN\": {\n        \"Continent\": \"Asia\",\n        \"Country Name\": \"Taiwan\",\n        \"Individualism\": 17,\n        \"Indulgence\": 49,\n        \"Long Term Orientation\": 93,\n        \"Masculinity\": 45,\n        \"Population\": 23773876,\n        \"Power Distance\": 58,\n        \"Uncertainty Avoidance\": 69\n    },\n    \"TJK\": {\n        \"Continent\": \"Asia\",\n        \"Country Name\": \"Tajikistan\",\n        \"Individualism\": 20,\n        \"Indulgence\": 40,\n        \"Long Term Orientation\": 65,\n        \"Masculinity\": 40,\n        \"Population\": 9321018,\n        \"Power Distance\": 90,\n        \"Uncertainty Avoidance\": 90\n    },\n    \"TZA\": {\n        \"Continent\": \"Africa\",\n        \"Country Name\": \"Tanzania\",\n        \"Individualism\": 25,\n        \"Indulgence\": 38,\n        \"Long Term Orientation\": 34,\n        \"Masculinity\": 40,\n        \"Population\": 58005463,\n        \"Power Distance\": 70,\n        \"Uncertainty Avoidance\": 50\n    },\n    \"THA\": {\n        \"Continent\": \"Asia\",\n        \"Country Name\": \"Thailand\",\n        \"Individualism\": 20,\n        \"Indulgence\": 45,\n        \"Long Term Orientation\": 32,\n        \"Masculinity\": 34,\n        \"Population\": 69037513,\n        \"Power Distance\": 64,\n        \"Uncertainty Avoidance\": 64\n    },\n    \"TLS\": {\n        \"Continent\": \"Asia\",\n        \"Country Name\": \"Timor-Leste\",\n        \"Individualism\": 14,\n        \"Indulgence\": 40,\n        \"Long Term Orientation\": 60,\n        \"Masculinity\": 46,\n        \"Population\": 1293119,\n        \"Power Distance\": 78,\n        \"Uncertainty Avoidance\": 48\n    },\n    \"TGO\": {\n        \"Continent\": \"Africa\",\n        \"Country Name\": \"Togo\",\n        \"Individualism\": 15,\n        \"Indulgence\": 80,\n        \"Long Term Orientation\": 15,\n        \"Masculinity\": 40,\n        \"Population\": 8082366,\n        \"Power Distance\": 80,\n        \"Uncertainty Avoidance\": 65\n    },\n    \"TTO\": {\n        \"Continent\": \"Americas\",\n        \"Country Name\": \"Trinidad and Tobago\",\n        \"Individualism\": 16,\n        \"Indulgence\": 80,\n        \"Long Term Orientation\": 13,\n        \"Masculinity\": 58,\n        \"Population\": 1394973,\n        \"Power Distance\": 47,\n        \"Uncertainty Avoidance\": 55\n    },\n    \"TUN\": {\n        \"Continent\": \"Africa\",\n        \"Country Name\": \"Tunisia\",\n        \"Individualism\": 50,\n        \"Indulgence\": 30,\n        \"Long Term Orientation\": 25,\n        \"Masculinity\": 40,\n        \"Population\": 11694719,\n        \"Power Distance\": 70,\n        \"Uncertainty Avoidance\": 60\n    },\n    \"TUR\": {\n        \"Continent\": \"Asia\",\n        \"Country Name\": \"Turkey\",\n        \"Individualism\": 37,\n        \"Indulgence\": 49,\n        \"Long Term Orientation\": 46,\n        \"Masculinity\": 45,\n        \"Population\": 83429615,\n        \"Power Distance\": 66,\n        \"Uncertainty Avoidance\": 85\n    },\n    \"TKM\": {\n        \"Continent\": \"Asia\",\n        \"Country Name\": \"Turkmenistan\",\n        \"Individualism\": 30,\n        \"Indulgence\": 50,\n        \"Long Term Orientation\": 40,\n        \"Masculinity\": 40,\n        \"Population\": 5942089,\n        \"Power Distance\": 80,\n        \"Uncertainty Avoidance\": 80\n    },\n    \"UGA\": {\n        \"Continent\": \"Africa\",\n        \"Country Name\": \"Uganda\",\n        \"Individualism\": 25,\n        \"Indulgence\": 52,\n        \"Long Term Orientation\": 24,\n        \"Masculinity\": 60,\n        \"Population\": 44269594,\n        \"Power Distance\": 70,\n        \"Uncertainty Avoidance\": 60\n    },\n    \"UKR\": {\n        \"Continent\": \"Europe\",\n        \"Country Name\": \"Ukraine\",\n        \"Individualism\": 40,\n        \"Indulgence\": 14,\n        \"Long Term Orientation\": 86,\n        \"Masculinity\": 40,\n        \"Population\": 43993638,\n        \"Power Distance\": 90,\n        \"Uncertainty Avoidance\": 90\n    },\n    \"ARE\": {\n        \"Continent\": \"Asia\",\n        \"Country Name\": \"United Arab Emirates\",\n        \"Individualism\": 25,\n        \"Indulgence\": 60,\n        \"Long Term Orientation\": 20,\n        \"Masculinity\": 40,\n        \"Population\": 9770529,\n        \"Power Distance\": 90,\n        \"Uncertainty Avoidance\": 80\n    },\n    \"USA\": {\n        \"Continent\": \"Americas\",\n        \"Country Name\": \"United States\",\n        \"Individualism\": 91,\n        \"Indulgence\": 68,\n        \"Long Term Orientation\": 26,\n        \"Masculinity\": 62,\n        \"Population\": 329064917,\n        \"Power Distance\": 40,\n        \"Uncertainty Avoidance\": 46\n    },\n    \"URY\": {\n        \"Continent\": \"Americas\",\n        \"Country Name\": \"Uruguay\",\n        \"Individualism\": 36,\n        \"Indulgence\": 40,\n        \"Long Term Orientation\": 26,\n        \"Masculinity\": 38,\n        \"Population\": 3461734,\n        \"Power Distance\": 61,\n        \"Uncertainty Avoidance\": 100\n    },\n    \"UZB\": {\n        \"Continent\": \"Asia\",\n        \"Country Name\": \"Uzbekistan\",\n        \"Individualism\": 20,\n        \"Indulgence\": 35,\n        \"Long Term Orientation\": 60,\n        \"Masculinity\": 40,\n        \"Population\": 32981716,\n        \"Power Distance\": 90,\n        \"Uncertainty Avoidance\": 70\n    },\n    \"VEN\": {\n        \"Continent\": \"Americas\",\n        \"Country Name\": \"Venezuela\",\n        \"Individualism\": 12,\n        \"Indulgence\": 100,\n        \"Long Term Orientation\": 16,\n        \"Masculinity\": 73,\n        \"Population\": 28515829,\n        \"Power Distance\": 81,\n        \"Uncertainty Avoidance\": 76\n    },\n    \"VNM\": {\n        \"Continent\": \"Asia\",\n        \"Country Name\": \"Vietnam\",\n        \"Individualism\": 20,\n        \"Indulgence\": 35,\n        \"Long Term Orientation\": 57,\n        \"Masculinity\": 40,\n        \"Population\": 96462106,\n        \"Power Distance\": 70,\n        \"Uncertainty Avoidance\": 30\n    },\n    \"ESH\": {\n        \"Continent\": \"Africa\",\n        \"Country Name\": \"Western Sahara\",\n        \"Individualism\": 40,\n        \"Indulgence\": 20,\n        \"Long Term Orientation\": 10,\n        \"Masculinity\": 50,\n        \"Population\": 582463,\n        \"Power Distance\": 70,\n        \"Uncertainty Avoidance\": 70\n    },\n    \"YEM\": {\n        \"Continent\": \"Asia\",\n        \"Country Name\": \"Yemen\",\n        \"Individualism\": 25,\n        \"Indulgence\": 30,\n        \"Long Term Orientation\": 25,\n        \"Masculinity\": 65,\n        \"Population\": 29161922,\n        \"Power Distance\": 70,\n        \"Uncertainty Avoidance\": 80\n    },\n    \"ZMB\": {\n        \"Continent\": \"Africa\",\n        \"Country Name\": \"Zambia\",\n        \"Individualism\": 35,\n        \"Indulgence\": 42,\n        \"Long Term Orientation\": 30,\n        \"Masculinity\": 40,\n        \"Population\": 17861030,\n        \"Power Distance\": 60,\n        \"Uncertainty Avoidance\": 50\n    },\n    \"ZWE\": {\n        \"Continent\": \"Africa\",\n        \"Country Name\": \"Zimbabwe\",\n        \"Individualism\": 30,\n        \"Indulgence\": 28,\n        \"Long Term Orientation\": 15,\n        \"Masculinity\": 30,\n        \"Population\": 14645468,\n        \"Power Distance\": 70,\n        \"Uncertainty Avoidance\": 50\n    }\n};\n\nexport default data;","const dimensionInfo = {\n  \"Power Distance\": \"This dimension expresses the degree to which the less powerful members of a society accept and expect that power is distributed unequally. The fundamental issue here is how a society handles inequalities among people. \\n\\nPeople in societies exhibiting a large degree of Power Distance accept a hierarchical order in which everybody has a place and which needs no further justification. In societies with low Power Distance, people strive to equalise the distribution of power and demand justification for inequalities of power.\",\n  \"Individualism\": \"The high side of this dimension, called Individualism, can be defined as a preference for a loosely-knit social framework in which individuals are expected to take care of only themselves and their immediate families. \\n\\nIts opposite, Collectivism, represents a preference for a tightly-knit framework in society in which individuals can expect their relatives or members of a particular ingroup to look after them in exchange for unquestioning loyalty. A society's position on this dimension is reflected in whether people's self-image is defined in terms of \\\"I\\\" or \\\"we.\\\"\",\n  \"Masculinity\": \"The Masculinity side of this dimension represents a preference in society for achievement, heroism, assertiveness, and material rewards for success. Society at large is more competitive. Its opposite, Femininity, stands for a preference for cooperation, modesty, caring for the weak and quality of life. Society at large is more consensus-oriented. \\n\\nIn the business context Masculinity versus Femininity is sometimes also related to as \\\"tough versus tender\\\" cultures.\",\n  \"Uncertainty Avoidance\": \"The Uncertainty Avoidance dimension expresses the degree to which the members of a society feel uncomfortable with uncertainty and ambiguity. The fundamental issue here is how a society deals with the fact that the future can never be known: should we try to control the future or just let it happen? \\n\\nCountries exhibiting strong UAI maintain rigid codes of belief and behaviour, and are intolerant of unorthodox behaviour and ideas. Weak UAI societies maintain a more relaxed attitude in which practice counts more than principles.\",\n  \"Long Term Orientation\": \"Every society has to maintain some links with its own past while dealing with the challenges of the present and the future. Societies prioritize these two existential goals differently. \\n\\nSocieties who score low on this dimension, for example, prefer to maintain time-honoured traditions and norms while viewing societal change with suspicion. \\n\\nThose with a culture which scores high, on the other hand, take a more pragmatic approach: they encourage thrift and efforts in modern education as a way to prepare for the future. \\n\\nIn the business context, this dimension is referred to as \\\"(short-term) normative versus (long-term) pragmatic\\\" (PRA). In the academic environment, the terminology Monumentalism versus Flexhumility is sometimes also used.\",\n  \"Indulgence\": \"Indulgence stands for a society that allows relatively free gratification of basic and natural human drives related to enjoying life and having fun. Restraint stands for a society that suppresses gratification of needs and regulates it by means of strict social norms.\"\n};\n\nexport default dimensionInfo;","import React from 'react';\nimport styled from 'styled-components';\nimport { dimensionInfo } from '@data';\n\nconst InfoText = styled.p`\n  font-size: 15px;\n  white-space: pre-line;\n`;\n\nconst Separator = styled.hr`\n  width: 80%;\n`;\n\nexport default function DimensionInfo(props) {\n  return (\n    <div style={{ height: '28em' }}>\n      <InfoText>\n        <br />\n        <Separator />\n        <br />\n        {dimensionInfo[props.dimension]}\n      </InfoText>\n    </div>\n  );\n}\n","export default function _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}","import arrayWithHoles from \"./arrayWithHoles.js\";\nimport iterableToArrayLimit from \"./iterableToArrayLimit.js\";\nimport unsupportedIterableToArray from \"./unsupportedIterableToArray.js\";\nimport nonIterableRest from \"./nonIterableRest.js\";\nexport default function _slicedToArray(arr, i) {\n  return arrayWithHoles(arr) || iterableToArrayLimit(arr, i) || unsupportedIterableToArray(arr, i) || nonIterableRest();\n}","export default function _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}","export default function _iterableToArrayLimit(arr, i) {\n  var _i = arr == null ? null : typeof Symbol !== \"undefined\" && arr[Symbol.iterator] || arr[\"@@iterator\"];\n\n  if (_i == null) return;\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n\n  var _s, _e;\n\n  try {\n    for (_i = _i.call(arr); !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}","export default function _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}","export default function _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}","function _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nexport default function _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  Object.defineProperty(Constructor, \"prototype\", {\n    writable: false\n  });\n  return Constructor;\n}","import \"core-js/modules/es.math.hypot.js\";\n\n/**\r\n * Common utilities\r\n * @module glMatrix\r\n */\n// Configuration Constants\nexport var EPSILON = 0.000001;\nexport var ARRAY_TYPE = typeof Float32Array !== 'undefined' ? Float32Array : Array;\nexport var RANDOM = Math.random;\n/**\r\n * Sets the type of array used when creating new vectors and matrices\r\n *\r\n * @param {Float32ArrayConstructor | ArrayConstructor} type Array type, such as Float32Array or Array\r\n */\n\nexport function setMatrixArrayType(type) {\n  ARRAY_TYPE = type;\n}\nvar degree = Math.PI / 180;\n/**\r\n * Convert Degree To Radian\r\n *\r\n * @param {Number} a Angle in Degrees\r\n */\n\nexport function toRadian(a) {\n  return a * degree;\n}\n/**\r\n * Tests whether or not the arguments have approximately the same value, within an absolute\r\n * or relative tolerance of glMatrix.EPSILON (an absolute tolerance is used for values less\r\n * than or equal to 1.0, and a relative tolerance is used for larger values)\r\n *\r\n * @param {Number} a The first number to test.\r\n * @param {Number} b The second number to test.\r\n * @returns {Boolean} True if the numbers are approximately equal, false otherwise.\r\n */\n\nexport function equals(a, b) {\n  return Math.abs(a - b) <= EPSILON * Math.max(1.0, Math.abs(a), Math.abs(b));\n}\nif (!Math.hypot) Math.hypot = function () {\n  var y = 0,\n      i = arguments.length;\n\n  while (i--) {\n    y += arguments[i] * arguments[i];\n  }\n\n  return Math.sqrt(y);\n};","import \"core-js/modules/es.math.hypot.js\";\nimport * as glMatrix from \"./common.js\";\n/**\r\n * 4 Dimensional Vector\r\n * @module vec4\r\n */\n\n/**\r\n * Creates a new, empty vec4\r\n *\r\n * @returns {vec4} a new 4D vector\r\n */\n\nexport function create() {\n  var out = new glMatrix.ARRAY_TYPE(4);\n\n  if (glMatrix.ARRAY_TYPE != Float32Array) {\n    out[0] = 0;\n    out[1] = 0;\n    out[2] = 0;\n    out[3] = 0;\n  }\n\n  return out;\n}\n/**\r\n * Creates a new vec4 initialized with values from an existing vector\r\n *\r\n * @param {ReadonlyVec4} a vector to clone\r\n * @returns {vec4} a new 4D vector\r\n */\n\nexport function clone(a) {\n  var out = new glMatrix.ARRAY_TYPE(4);\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  out[3] = a[3];\n  return out;\n}\n/**\r\n * Creates a new vec4 initialized with the given values\r\n *\r\n * @param {Number} x X component\r\n * @param {Number} y Y component\r\n * @param {Number} z Z component\r\n * @param {Number} w W component\r\n * @returns {vec4} a new 4D vector\r\n */\n\nexport function fromValues(x, y, z, w) {\n  var out = new glMatrix.ARRAY_TYPE(4);\n  out[0] = x;\n  out[1] = y;\n  out[2] = z;\n  out[3] = w;\n  return out;\n}\n/**\r\n * Copy the values from one vec4 to another\r\n *\r\n * @param {vec4} out the receiving vector\r\n * @param {ReadonlyVec4} a the source vector\r\n * @returns {vec4} out\r\n */\n\nexport function copy(out, a) {\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  out[3] = a[3];\n  return out;\n}\n/**\r\n * Set the components of a vec4 to the given values\r\n *\r\n * @param {vec4} out the receiving vector\r\n * @param {Number} x X component\r\n * @param {Number} y Y component\r\n * @param {Number} z Z component\r\n * @param {Number} w W component\r\n * @returns {vec4} out\r\n */\n\nexport function set(out, x, y, z, w) {\n  out[0] = x;\n  out[1] = y;\n  out[2] = z;\n  out[3] = w;\n  return out;\n}\n/**\r\n * Adds two vec4's\r\n *\r\n * @param {vec4} out the receiving vector\r\n * @param {ReadonlyVec4} a the first operand\r\n * @param {ReadonlyVec4} b the second operand\r\n * @returns {vec4} out\r\n */\n\nexport function add(out, a, b) {\n  out[0] = a[0] + b[0];\n  out[1] = a[1] + b[1];\n  out[2] = a[2] + b[2];\n  out[3] = a[3] + b[3];\n  return out;\n}\n/**\r\n * Subtracts vector b from vector a\r\n *\r\n * @param {vec4} out the receiving vector\r\n * @param {ReadonlyVec4} a the first operand\r\n * @param {ReadonlyVec4} b the second operand\r\n * @returns {vec4} out\r\n */\n\nexport function subtract(out, a, b) {\n  out[0] = a[0] - b[0];\n  out[1] = a[1] - b[1];\n  out[2] = a[2] - b[2];\n  out[3] = a[3] - b[3];\n  return out;\n}\n/**\r\n * Multiplies two vec4's\r\n *\r\n * @param {vec4} out the receiving vector\r\n * @param {ReadonlyVec4} a the first operand\r\n * @param {ReadonlyVec4} b the second operand\r\n * @returns {vec4} out\r\n */\n\nexport function multiply(out, a, b) {\n  out[0] = a[0] * b[0];\n  out[1] = a[1] * b[1];\n  out[2] = a[2] * b[2];\n  out[3] = a[3] * b[3];\n  return out;\n}\n/**\r\n * Divides two vec4's\r\n *\r\n * @param {vec4} out the receiving vector\r\n * @param {ReadonlyVec4} a the first operand\r\n * @param {ReadonlyVec4} b the second operand\r\n * @returns {vec4} out\r\n */\n\nexport function divide(out, a, b) {\n  out[0] = a[0] / b[0];\n  out[1] = a[1] / b[1];\n  out[2] = a[2] / b[2];\n  out[3] = a[3] / b[3];\n  return out;\n}\n/**\r\n * Math.ceil the components of a vec4\r\n *\r\n * @param {vec4} out the receiving vector\r\n * @param {ReadonlyVec4} a vector to ceil\r\n * @returns {vec4} out\r\n */\n\nexport function ceil(out, a) {\n  out[0] = Math.ceil(a[0]);\n  out[1] = Math.ceil(a[1]);\n  out[2] = Math.ceil(a[2]);\n  out[3] = Math.ceil(a[3]);\n  return out;\n}\n/**\r\n * Math.floor the components of a vec4\r\n *\r\n * @param {vec4} out the receiving vector\r\n * @param {ReadonlyVec4} a vector to floor\r\n * @returns {vec4} out\r\n */\n\nexport function floor(out, a) {\n  out[0] = Math.floor(a[0]);\n  out[1] = Math.floor(a[1]);\n  out[2] = Math.floor(a[2]);\n  out[3] = Math.floor(a[3]);\n  return out;\n}\n/**\r\n * Returns the minimum of two vec4's\r\n *\r\n * @param {vec4} out the receiving vector\r\n * @param {ReadonlyVec4} a the first operand\r\n * @param {ReadonlyVec4} b the second operand\r\n * @returns {vec4} out\r\n */\n\nexport function min(out, a, b) {\n  out[0] = Math.min(a[0], b[0]);\n  out[1] = Math.min(a[1], b[1]);\n  out[2] = Math.min(a[2], b[2]);\n  out[3] = Math.min(a[3], b[3]);\n  return out;\n}\n/**\r\n * Returns the maximum of two vec4's\r\n *\r\n * @param {vec4} out the receiving vector\r\n * @param {ReadonlyVec4} a the first operand\r\n * @param {ReadonlyVec4} b the second operand\r\n * @returns {vec4} out\r\n */\n\nexport function max(out, a, b) {\n  out[0] = Math.max(a[0], b[0]);\n  out[1] = Math.max(a[1], b[1]);\n  out[2] = Math.max(a[2], b[2]);\n  out[3] = Math.max(a[3], b[3]);\n  return out;\n}\n/**\r\n * Math.round the components of a vec4\r\n *\r\n * @param {vec4} out the receiving vector\r\n * @param {ReadonlyVec4} a vector to round\r\n * @returns {vec4} out\r\n */\n\nexport function round(out, a) {\n  out[0] = Math.round(a[0]);\n  out[1] = Math.round(a[1]);\n  out[2] = Math.round(a[2]);\n  out[3] = Math.round(a[3]);\n  return out;\n}\n/**\r\n * Scales a vec4 by a scalar number\r\n *\r\n * @param {vec4} out the receiving vector\r\n * @param {ReadonlyVec4} a the vector to scale\r\n * @param {Number} b amount to scale the vector by\r\n * @returns {vec4} out\r\n */\n\nexport function scale(out, a, b) {\n  out[0] = a[0] * b;\n  out[1] = a[1] * b;\n  out[2] = a[2] * b;\n  out[3] = a[3] * b;\n  return out;\n}\n/**\r\n * Adds two vec4's after scaling the second operand by a scalar value\r\n *\r\n * @param {vec4} out the receiving vector\r\n * @param {ReadonlyVec4} a the first operand\r\n * @param {ReadonlyVec4} b the second operand\r\n * @param {Number} scale the amount to scale b by before adding\r\n * @returns {vec4} out\r\n */\n\nexport function scaleAndAdd(out, a, b, scale) {\n  out[0] = a[0] + b[0] * scale;\n  out[1] = a[1] + b[1] * scale;\n  out[2] = a[2] + b[2] * scale;\n  out[3] = a[3] + b[3] * scale;\n  return out;\n}\n/**\r\n * Calculates the euclidian distance between two vec4's\r\n *\r\n * @param {ReadonlyVec4} a the first operand\r\n * @param {ReadonlyVec4} b the second operand\r\n * @returns {Number} distance between a and b\r\n */\n\nexport function distance(a, b) {\n  var x = b[0] - a[0];\n  var y = b[1] - a[1];\n  var z = b[2] - a[2];\n  var w = b[3] - a[3];\n  return Math.hypot(x, y, z, w);\n}\n/**\r\n * Calculates the squared euclidian distance between two vec4's\r\n *\r\n * @param {ReadonlyVec4} a the first operand\r\n * @param {ReadonlyVec4} b the second operand\r\n * @returns {Number} squared distance between a and b\r\n */\n\nexport function squaredDistance(a, b) {\n  var x = b[0] - a[0];\n  var y = b[1] - a[1];\n  var z = b[2] - a[2];\n  var w = b[3] - a[3];\n  return x * x + y * y + z * z + w * w;\n}\n/**\r\n * Calculates the length of a vec4\r\n *\r\n * @param {ReadonlyVec4} a vector to calculate length of\r\n * @returns {Number} length of a\r\n */\n\nexport function length(a) {\n  var x = a[0];\n  var y = a[1];\n  var z = a[2];\n  var w = a[3];\n  return Math.hypot(x, y, z, w);\n}\n/**\r\n * Calculates the squared length of a vec4\r\n *\r\n * @param {ReadonlyVec4} a vector to calculate squared length of\r\n * @returns {Number} squared length of a\r\n */\n\nexport function squaredLength(a) {\n  var x = a[0];\n  var y = a[1];\n  var z = a[2];\n  var w = a[3];\n  return x * x + y * y + z * z + w * w;\n}\n/**\r\n * Negates the components of a vec4\r\n *\r\n * @param {vec4} out the receiving vector\r\n * @param {ReadonlyVec4} a vector to negate\r\n * @returns {vec4} out\r\n */\n\nexport function negate(out, a) {\n  out[0] = -a[0];\n  out[1] = -a[1];\n  out[2] = -a[2];\n  out[3] = -a[3];\n  return out;\n}\n/**\r\n * Returns the inverse of the components of a vec4\r\n *\r\n * @param {vec4} out the receiving vector\r\n * @param {ReadonlyVec4} a vector to invert\r\n * @returns {vec4} out\r\n */\n\nexport function inverse(out, a) {\n  out[0] = 1.0 / a[0];\n  out[1] = 1.0 / a[1];\n  out[2] = 1.0 / a[2];\n  out[3] = 1.0 / a[3];\n  return out;\n}\n/**\r\n * Normalize a vec4\r\n *\r\n * @param {vec4} out the receiving vector\r\n * @param {ReadonlyVec4} a vector to normalize\r\n * @returns {vec4} out\r\n */\n\nexport function normalize(out, a) {\n  var x = a[0];\n  var y = a[1];\n  var z = a[2];\n  var w = a[3];\n  var len = x * x + y * y + z * z + w * w;\n\n  if (len > 0) {\n    len = 1 / Math.sqrt(len);\n  }\n\n  out[0] = x * len;\n  out[1] = y * len;\n  out[2] = z * len;\n  out[3] = w * len;\n  return out;\n}\n/**\r\n * Calculates the dot product of two vec4's\r\n *\r\n * @param {ReadonlyVec4} a the first operand\r\n * @param {ReadonlyVec4} b the second operand\r\n * @returns {Number} dot product of a and b\r\n */\n\nexport function dot(a, b) {\n  return a[0] * b[0] + a[1] * b[1] + a[2] * b[2] + a[3] * b[3];\n}\n/**\r\n * Returns the cross-product of three vectors in a 4-dimensional space\r\n *\r\n * @param {ReadonlyVec4} result the receiving vector\r\n * @param {ReadonlyVec4} U the first vector\r\n * @param {ReadonlyVec4} V the second vector\r\n * @param {ReadonlyVec4} W the third vector\r\n * @returns {vec4} result\r\n */\n\nexport function cross(out, u, v, w) {\n  var A = v[0] * w[1] - v[1] * w[0],\n      B = v[0] * w[2] - v[2] * w[0],\n      C = v[0] * w[3] - v[3] * w[0],\n      D = v[1] * w[2] - v[2] * w[1],\n      E = v[1] * w[3] - v[3] * w[1],\n      F = v[2] * w[3] - v[3] * w[2];\n  var G = u[0];\n  var H = u[1];\n  var I = u[2];\n  var J = u[3];\n  out[0] = H * F - I * E + J * D;\n  out[1] = -(G * F) + I * C - J * B;\n  out[2] = G * E - H * C + J * A;\n  out[3] = -(G * D) + H * B - I * A;\n  return out;\n}\n/**\r\n * Performs a linear interpolation between two vec4's\r\n *\r\n * @param {vec4} out the receiving vector\r\n * @param {ReadonlyVec4} a the first operand\r\n * @param {ReadonlyVec4} b the second operand\r\n * @param {Number} t interpolation amount, in the range [0-1], between the two inputs\r\n * @returns {vec4} out\r\n */\n\nexport function lerp(out, a, b, t) {\n  var ax = a[0];\n  var ay = a[1];\n  var az = a[2];\n  var aw = a[3];\n  out[0] = ax + t * (b[0] - ax);\n  out[1] = ay + t * (b[1] - ay);\n  out[2] = az + t * (b[2] - az);\n  out[3] = aw + t * (b[3] - aw);\n  return out;\n}\n/**\r\n * Generates a random vector with the given scale\r\n *\r\n * @param {vec4} out the receiving vector\r\n * @param {Number} [scale] Length of the resulting vector. If ommitted, a unit vector will be returned\r\n * @returns {vec4} out\r\n */\n\nexport function random(out, scale) {\n  scale = scale || 1.0; // Marsaglia, George. Choosing a Point from the Surface of a\n  // Sphere. Ann. Math. Statist. 43 (1972), no. 2, 645--646.\n  // http://projecteuclid.org/euclid.aoms/1177692644;\n\n  var v1, v2, v3, v4;\n  var s1, s2;\n\n  do {\n    v1 = glMatrix.RANDOM() * 2 - 1;\n    v2 = glMatrix.RANDOM() * 2 - 1;\n    s1 = v1 * v1 + v2 * v2;\n  } while (s1 >= 1);\n\n  do {\n    v3 = glMatrix.RANDOM() * 2 - 1;\n    v4 = glMatrix.RANDOM() * 2 - 1;\n    s2 = v3 * v3 + v4 * v4;\n  } while (s2 >= 1);\n\n  var d = Math.sqrt((1 - s1) / s2);\n  out[0] = scale * v1;\n  out[1] = scale * v2;\n  out[2] = scale * v3 * d;\n  out[3] = scale * v4 * d;\n  return out;\n}\n/**\r\n * Transforms the vec4 with a mat4.\r\n *\r\n * @param {vec4} out the receiving vector\r\n * @param {ReadonlyVec4} a the vector to transform\r\n * @param {ReadonlyMat4} m matrix to transform with\r\n * @returns {vec4} out\r\n */\n\nexport function transformMat4(out, a, m) {\n  var x = a[0],\n      y = a[1],\n      z = a[2],\n      w = a[3];\n  out[0] = m[0] * x + m[4] * y + m[8] * z + m[12] * w;\n  out[1] = m[1] * x + m[5] * y + m[9] * z + m[13] * w;\n  out[2] = m[2] * x + m[6] * y + m[10] * z + m[14] * w;\n  out[3] = m[3] * x + m[7] * y + m[11] * z + m[15] * w;\n  return out;\n}\n/**\r\n * Transforms the vec4 with a quat\r\n *\r\n * @param {vec4} out the receiving vector\r\n * @param {ReadonlyVec4} a the vector to transform\r\n * @param {ReadonlyQuat} q quaternion to transform with\r\n * @returns {vec4} out\r\n */\n\nexport function transformQuat(out, a, q) {\n  var x = a[0],\n      y = a[1],\n      z = a[2];\n  var qx = q[0],\n      qy = q[1],\n      qz = q[2],\n      qw = q[3]; // calculate quat * vec\n\n  var ix = qw * x + qy * z - qz * y;\n  var iy = qw * y + qz * x - qx * z;\n  var iz = qw * z + qx * y - qy * x;\n  var iw = -qx * x - qy * y - qz * z; // calculate result * inverse quat\n\n  out[0] = ix * qw + iw * -qx + iy * -qz - iz * -qy;\n  out[1] = iy * qw + iw * -qy + iz * -qx - ix * -qz;\n  out[2] = iz * qw + iw * -qz + ix * -qy - iy * -qx;\n  out[3] = a[3];\n  return out;\n}\n/**\r\n * Set the components of a vec4 to zero\r\n *\r\n * @param {vec4} out the receiving vector\r\n * @returns {vec4} out\r\n */\n\nexport function zero(out) {\n  out[0] = 0.0;\n  out[1] = 0.0;\n  out[2] = 0.0;\n  out[3] = 0.0;\n  return out;\n}\n/**\r\n * Returns a string representation of a vector\r\n *\r\n * @param {ReadonlyVec4} a vector to represent as a string\r\n * @returns {String} string representation of the vector\r\n */\n\nexport function str(a) {\n  return \"vec4(\" + a[0] + \", \" + a[1] + \", \" + a[2] + \", \" + a[3] + \")\";\n}\n/**\r\n * Returns whether or not the vectors have exactly the same elements in the same position (when compared with ===)\r\n *\r\n * @param {ReadonlyVec4} a The first vector.\r\n * @param {ReadonlyVec4} b The second vector.\r\n * @returns {Boolean} True if the vectors are equal, false otherwise.\r\n */\n\nexport function exactEquals(a, b) {\n  return a[0] === b[0] && a[1] === b[1] && a[2] === b[2] && a[3] === b[3];\n}\n/**\r\n * Returns whether or not the vectors have approximately the same elements in the same position.\r\n *\r\n * @param {ReadonlyVec4} a The first vector.\r\n * @param {ReadonlyVec4} b The second vector.\r\n * @returns {Boolean} True if the vectors are equal, false otherwise.\r\n */\n\nexport function equals(a, b) {\n  var a0 = a[0],\n      a1 = a[1],\n      a2 = a[2],\n      a3 = a[3];\n  var b0 = b[0],\n      b1 = b[1],\n      b2 = b[2],\n      b3 = b[3];\n  return Math.abs(a0 - b0) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a0), Math.abs(b0)) && Math.abs(a1 - b1) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a1), Math.abs(b1)) && Math.abs(a2 - b2) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a2), Math.abs(b2)) && Math.abs(a3 - b3) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a3), Math.abs(b3));\n}\n/**\r\n * Alias for {@link vec4.subtract}\r\n * @function\r\n */\n\nexport var sub = subtract;\n/**\r\n * Alias for {@link vec4.multiply}\r\n * @function\r\n */\n\nexport var mul = multiply;\n/**\r\n * Alias for {@link vec4.divide}\r\n * @function\r\n */\n\nexport var div = divide;\n/**\r\n * Alias for {@link vec4.distance}\r\n * @function\r\n */\n\nexport var dist = distance;\n/**\r\n * Alias for {@link vec4.squaredDistance}\r\n * @function\r\n */\n\nexport var sqrDist = squaredDistance;\n/**\r\n * Alias for {@link vec4.length}\r\n * @function\r\n */\n\nexport var len = length;\n/**\r\n * Alias for {@link vec4.squaredLength}\r\n * @function\r\n */\n\nexport var sqrLen = squaredLength;\n/**\r\n * Perform some operation over an array of vec4s.\r\n *\r\n * @param {Array} a the array of vectors to iterate over\r\n * @param {Number} stride Number of elements between the start of each vec4. If 0 assumes tightly packed\r\n * @param {Number} offset Number of elements to skip at the beginning of the array\r\n * @param {Number} count Number of vec4s to iterate over. If 0 iterates over entire array\r\n * @param {Function} fn Function to call for each vector in the array\r\n * @param {Object} [arg] additional argument to pass to fn\r\n * @returns {Array} a\r\n * @function\r\n */\n\nexport var forEach = function () {\n  var vec = create();\n  return function (a, stride, offset, count, fn, arg) {\n    var i, l;\n\n    if (!stride) {\n      stride = 4;\n    }\n\n    if (!offset) {\n      offset = 0;\n    }\n\n    if (count) {\n      l = Math.min(count * stride + offset, a.length);\n    } else {\n      l = a.length;\n    }\n\n    for (i = offset; i < l; i += stride) {\n      vec[0] = a[i];\n      vec[1] = a[i + 1];\n      vec[2] = a[i + 2];\n      vec[3] = a[i + 3];\n      fn(vec, vec, arg);\n      a[i] = vec[0];\n      a[i + 1] = vec[1];\n      a[i + 2] = vec[2];\n      a[i + 3] = vec[3];\n    }\n\n    return a;\n  };\n}();","import * as vec4 from 'gl-matrix/vec4';\nexport function createMat4() {\n  return [1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1];\n}\nexport function transformVector(matrix, vector) {\n  var result = vec4.transformMat4([], vector, matrix);\n  vec4.scale(result, result, 1 / result[3]);\n  return result;\n}\nexport function mod(value, divisor) {\n  var modulus = value % divisor;\n  return modulus < 0 ? divisor + modulus : modulus;\n}\nexport function lerp(start, end, step) {\n  return step * end + (1 - step) * start;\n}\n\nfunction ieLog2(x) {\n  return Math.log(x) * Math.LOG2E;\n}\n\nexport var log2 = Math.log2 || ieLog2;","import \"core-js/modules/es.math.hypot.js\";\nimport * as glMatrix from \"./common.js\";\n/**\r\n * 4x4 Matrix<br>Format: column-major, when typed out it looks like row-major<br>The matrices are being post multiplied.\r\n * @module mat4\r\n */\n\n/**\r\n * Creates a new identity mat4\r\n *\r\n * @returns {mat4} a new 4x4 matrix\r\n */\n\nexport function create() {\n  var out = new glMatrix.ARRAY_TYPE(16);\n\n  if (glMatrix.ARRAY_TYPE != Float32Array) {\n    out[1] = 0;\n    out[2] = 0;\n    out[3] = 0;\n    out[4] = 0;\n    out[6] = 0;\n    out[7] = 0;\n    out[8] = 0;\n    out[9] = 0;\n    out[11] = 0;\n    out[12] = 0;\n    out[13] = 0;\n    out[14] = 0;\n  }\n\n  out[0] = 1;\n  out[5] = 1;\n  out[10] = 1;\n  out[15] = 1;\n  return out;\n}\n/**\r\n * Creates a new mat4 initialized with values from an existing matrix\r\n *\r\n * @param {ReadonlyMat4} a matrix to clone\r\n * @returns {mat4} a new 4x4 matrix\r\n */\n\nexport function clone(a) {\n  var out = new glMatrix.ARRAY_TYPE(16);\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  out[3] = a[3];\n  out[4] = a[4];\n  out[5] = a[5];\n  out[6] = a[6];\n  out[7] = a[7];\n  out[8] = a[8];\n  out[9] = a[9];\n  out[10] = a[10];\n  out[11] = a[11];\n  out[12] = a[12];\n  out[13] = a[13];\n  out[14] = a[14];\n  out[15] = a[15];\n  return out;\n}\n/**\r\n * Copy the values from one mat4 to another\r\n *\r\n * @param {mat4} out the receiving matrix\r\n * @param {ReadonlyMat4} a the source matrix\r\n * @returns {mat4} out\r\n */\n\nexport function copy(out, a) {\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  out[3] = a[3];\n  out[4] = a[4];\n  out[5] = a[5];\n  out[6] = a[6];\n  out[7] = a[7];\n  out[8] = a[8];\n  out[9] = a[9];\n  out[10] = a[10];\n  out[11] = a[11];\n  out[12] = a[12];\n  out[13] = a[13];\n  out[14] = a[14];\n  out[15] = a[15];\n  return out;\n}\n/**\r\n * Create a new mat4 with the given values\r\n *\r\n * @param {Number} m00 Component in column 0, row 0 position (index 0)\r\n * @param {Number} m01 Component in column 0, row 1 position (index 1)\r\n * @param {Number} m02 Component in column 0, row 2 position (index 2)\r\n * @param {Number} m03 Component in column 0, row 3 position (index 3)\r\n * @param {Number} m10 Component in column 1, row 0 position (index 4)\r\n * @param {Number} m11 Component in column 1, row 1 position (index 5)\r\n * @param {Number} m12 Component in column 1, row 2 position (index 6)\r\n * @param {Number} m13 Component in column 1, row 3 position (index 7)\r\n * @param {Number} m20 Component in column 2, row 0 position (index 8)\r\n * @param {Number} m21 Component in column 2, row 1 position (index 9)\r\n * @param {Number} m22 Component in column 2, row 2 position (index 10)\r\n * @param {Number} m23 Component in column 2, row 3 position (index 11)\r\n * @param {Number} m30 Component in column 3, row 0 position (index 12)\r\n * @param {Number} m31 Component in column 3, row 1 position (index 13)\r\n * @param {Number} m32 Component in column 3, row 2 position (index 14)\r\n * @param {Number} m33 Component in column 3, row 3 position (index 15)\r\n * @returns {mat4} A new mat4\r\n */\n\nexport function fromValues(m00, m01, m02, m03, m10, m11, m12, m13, m20, m21, m22, m23, m30, m31, m32, m33) {\n  var out = new glMatrix.ARRAY_TYPE(16);\n  out[0] = m00;\n  out[1] = m01;\n  out[2] = m02;\n  out[3] = m03;\n  out[4] = m10;\n  out[5] = m11;\n  out[6] = m12;\n  out[7] = m13;\n  out[8] = m20;\n  out[9] = m21;\n  out[10] = m22;\n  out[11] = m23;\n  out[12] = m30;\n  out[13] = m31;\n  out[14] = m32;\n  out[15] = m33;\n  return out;\n}\n/**\r\n * Set the components of a mat4 to the given values\r\n *\r\n * @param {mat4} out the receiving matrix\r\n * @param {Number} m00 Component in column 0, row 0 position (index 0)\r\n * @param {Number} m01 Component in column 0, row 1 position (index 1)\r\n * @param {Number} m02 Component in column 0, row 2 position (index 2)\r\n * @param {Number} m03 Component in column 0, row 3 position (index 3)\r\n * @param {Number} m10 Component in column 1, row 0 position (index 4)\r\n * @param {Number} m11 Component in column 1, row 1 position (index 5)\r\n * @param {Number} m12 Component in column 1, row 2 position (index 6)\r\n * @param {Number} m13 Component in column 1, row 3 position (index 7)\r\n * @param {Number} m20 Component in column 2, row 0 position (index 8)\r\n * @param {Number} m21 Component in column 2, row 1 position (index 9)\r\n * @param {Number} m22 Component in column 2, row 2 position (index 10)\r\n * @param {Number} m23 Component in column 2, row 3 position (index 11)\r\n * @param {Number} m30 Component in column 3, row 0 position (index 12)\r\n * @param {Number} m31 Component in column 3, row 1 position (index 13)\r\n * @param {Number} m32 Component in column 3, row 2 position (index 14)\r\n * @param {Number} m33 Component in column 3, row 3 position (index 15)\r\n * @returns {mat4} out\r\n */\n\nexport function set(out, m00, m01, m02, m03, m10, m11, m12, m13, m20, m21, m22, m23, m30, m31, m32, m33) {\n  out[0] = m00;\n  out[1] = m01;\n  out[2] = m02;\n  out[3] = m03;\n  out[4] = m10;\n  out[5] = m11;\n  out[6] = m12;\n  out[7] = m13;\n  out[8] = m20;\n  out[9] = m21;\n  out[10] = m22;\n  out[11] = m23;\n  out[12] = m30;\n  out[13] = m31;\n  out[14] = m32;\n  out[15] = m33;\n  return out;\n}\n/**\r\n * Set a mat4 to the identity matrix\r\n *\r\n * @param {mat4} out the receiving matrix\r\n * @returns {mat4} out\r\n */\n\nexport function identity(out) {\n  out[0] = 1;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = 0;\n  out[5] = 1;\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = 0;\n  out[9] = 0;\n  out[10] = 1;\n  out[11] = 0;\n  out[12] = 0;\n  out[13] = 0;\n  out[14] = 0;\n  out[15] = 1;\n  return out;\n}\n/**\r\n * Transpose the values of a mat4\r\n *\r\n * @param {mat4} out the receiving matrix\r\n * @param {ReadonlyMat4} a the source matrix\r\n * @returns {mat4} out\r\n */\n\nexport function transpose(out, a) {\n  // If we are transposing ourselves we can skip a few steps but have to cache some values\n  if (out === a) {\n    var a01 = a[1],\n        a02 = a[2],\n        a03 = a[3];\n    var a12 = a[6],\n        a13 = a[7];\n    var a23 = a[11];\n    out[1] = a[4];\n    out[2] = a[8];\n    out[3] = a[12];\n    out[4] = a01;\n    out[6] = a[9];\n    out[7] = a[13];\n    out[8] = a02;\n    out[9] = a12;\n    out[11] = a[14];\n    out[12] = a03;\n    out[13] = a13;\n    out[14] = a23;\n  } else {\n    out[0] = a[0];\n    out[1] = a[4];\n    out[2] = a[8];\n    out[3] = a[12];\n    out[4] = a[1];\n    out[5] = a[5];\n    out[6] = a[9];\n    out[7] = a[13];\n    out[8] = a[2];\n    out[9] = a[6];\n    out[10] = a[10];\n    out[11] = a[14];\n    out[12] = a[3];\n    out[13] = a[7];\n    out[14] = a[11];\n    out[15] = a[15];\n  }\n\n  return out;\n}\n/**\r\n * Inverts a mat4\r\n *\r\n * @param {mat4} out the receiving matrix\r\n * @param {ReadonlyMat4} a the source matrix\r\n * @returns {mat4} out\r\n */\n\nexport function invert(out, a) {\n  var a00 = a[0],\n      a01 = a[1],\n      a02 = a[2],\n      a03 = a[3];\n  var a10 = a[4],\n      a11 = a[5],\n      a12 = a[6],\n      a13 = a[7];\n  var a20 = a[8],\n      a21 = a[9],\n      a22 = a[10],\n      a23 = a[11];\n  var a30 = a[12],\n      a31 = a[13],\n      a32 = a[14],\n      a33 = a[15];\n  var b00 = a00 * a11 - a01 * a10;\n  var b01 = a00 * a12 - a02 * a10;\n  var b02 = a00 * a13 - a03 * a10;\n  var b03 = a01 * a12 - a02 * a11;\n  var b04 = a01 * a13 - a03 * a11;\n  var b05 = a02 * a13 - a03 * a12;\n  var b06 = a20 * a31 - a21 * a30;\n  var b07 = a20 * a32 - a22 * a30;\n  var b08 = a20 * a33 - a23 * a30;\n  var b09 = a21 * a32 - a22 * a31;\n  var b10 = a21 * a33 - a23 * a31;\n  var b11 = a22 * a33 - a23 * a32; // Calculate the determinant\n\n  var det = b00 * b11 - b01 * b10 + b02 * b09 + b03 * b08 - b04 * b07 + b05 * b06;\n\n  if (!det) {\n    return null;\n  }\n\n  det = 1.0 / det;\n  out[0] = (a11 * b11 - a12 * b10 + a13 * b09) * det;\n  out[1] = (a02 * b10 - a01 * b11 - a03 * b09) * det;\n  out[2] = (a31 * b05 - a32 * b04 + a33 * b03) * det;\n  out[3] = (a22 * b04 - a21 * b05 - a23 * b03) * det;\n  out[4] = (a12 * b08 - a10 * b11 - a13 * b07) * det;\n  out[5] = (a00 * b11 - a02 * b08 + a03 * b07) * det;\n  out[6] = (a32 * b02 - a30 * b05 - a33 * b01) * det;\n  out[7] = (a20 * b05 - a22 * b02 + a23 * b01) * det;\n  out[8] = (a10 * b10 - a11 * b08 + a13 * b06) * det;\n  out[9] = (a01 * b08 - a00 * b10 - a03 * b06) * det;\n  out[10] = (a30 * b04 - a31 * b02 + a33 * b00) * det;\n  out[11] = (a21 * b02 - a20 * b04 - a23 * b00) * det;\n  out[12] = (a11 * b07 - a10 * b09 - a12 * b06) * det;\n  out[13] = (a00 * b09 - a01 * b07 + a02 * b06) * det;\n  out[14] = (a31 * b01 - a30 * b03 - a32 * b00) * det;\n  out[15] = (a20 * b03 - a21 * b01 + a22 * b00) * det;\n  return out;\n}\n/**\r\n * Calculates the adjugate of a mat4\r\n *\r\n * @param {mat4} out the receiving matrix\r\n * @param {ReadonlyMat4} a the source matrix\r\n * @returns {mat4} out\r\n */\n\nexport function adjoint(out, a) {\n  var a00 = a[0],\n      a01 = a[1],\n      a02 = a[2],\n      a03 = a[3];\n  var a10 = a[4],\n      a11 = a[5],\n      a12 = a[6],\n      a13 = a[7];\n  var a20 = a[8],\n      a21 = a[9],\n      a22 = a[10],\n      a23 = a[11];\n  var a30 = a[12],\n      a31 = a[13],\n      a32 = a[14],\n      a33 = a[15];\n  out[0] = a11 * (a22 * a33 - a23 * a32) - a21 * (a12 * a33 - a13 * a32) + a31 * (a12 * a23 - a13 * a22);\n  out[1] = -(a01 * (a22 * a33 - a23 * a32) - a21 * (a02 * a33 - a03 * a32) + a31 * (a02 * a23 - a03 * a22));\n  out[2] = a01 * (a12 * a33 - a13 * a32) - a11 * (a02 * a33 - a03 * a32) + a31 * (a02 * a13 - a03 * a12);\n  out[3] = -(a01 * (a12 * a23 - a13 * a22) - a11 * (a02 * a23 - a03 * a22) + a21 * (a02 * a13 - a03 * a12));\n  out[4] = -(a10 * (a22 * a33 - a23 * a32) - a20 * (a12 * a33 - a13 * a32) + a30 * (a12 * a23 - a13 * a22));\n  out[5] = a00 * (a22 * a33 - a23 * a32) - a20 * (a02 * a33 - a03 * a32) + a30 * (a02 * a23 - a03 * a22);\n  out[6] = -(a00 * (a12 * a33 - a13 * a32) - a10 * (a02 * a33 - a03 * a32) + a30 * (a02 * a13 - a03 * a12));\n  out[7] = a00 * (a12 * a23 - a13 * a22) - a10 * (a02 * a23 - a03 * a22) + a20 * (a02 * a13 - a03 * a12);\n  out[8] = a10 * (a21 * a33 - a23 * a31) - a20 * (a11 * a33 - a13 * a31) + a30 * (a11 * a23 - a13 * a21);\n  out[9] = -(a00 * (a21 * a33 - a23 * a31) - a20 * (a01 * a33 - a03 * a31) + a30 * (a01 * a23 - a03 * a21));\n  out[10] = a00 * (a11 * a33 - a13 * a31) - a10 * (a01 * a33 - a03 * a31) + a30 * (a01 * a13 - a03 * a11);\n  out[11] = -(a00 * (a11 * a23 - a13 * a21) - a10 * (a01 * a23 - a03 * a21) + a20 * (a01 * a13 - a03 * a11));\n  out[12] = -(a10 * (a21 * a32 - a22 * a31) - a20 * (a11 * a32 - a12 * a31) + a30 * (a11 * a22 - a12 * a21));\n  out[13] = a00 * (a21 * a32 - a22 * a31) - a20 * (a01 * a32 - a02 * a31) + a30 * (a01 * a22 - a02 * a21);\n  out[14] = -(a00 * (a11 * a32 - a12 * a31) - a10 * (a01 * a32 - a02 * a31) + a30 * (a01 * a12 - a02 * a11));\n  out[15] = a00 * (a11 * a22 - a12 * a21) - a10 * (a01 * a22 - a02 * a21) + a20 * (a01 * a12 - a02 * a11);\n  return out;\n}\n/**\r\n * Calculates the determinant of a mat4\r\n *\r\n * @param {ReadonlyMat4} a the source matrix\r\n * @returns {Number} determinant of a\r\n */\n\nexport function determinant(a) {\n  var a00 = a[0],\n      a01 = a[1],\n      a02 = a[2],\n      a03 = a[3];\n  var a10 = a[4],\n      a11 = a[5],\n      a12 = a[6],\n      a13 = a[7];\n  var a20 = a[8],\n      a21 = a[9],\n      a22 = a[10],\n      a23 = a[11];\n  var a30 = a[12],\n      a31 = a[13],\n      a32 = a[14],\n      a33 = a[15];\n  var b00 = a00 * a11 - a01 * a10;\n  var b01 = a00 * a12 - a02 * a10;\n  var b02 = a00 * a13 - a03 * a10;\n  var b03 = a01 * a12 - a02 * a11;\n  var b04 = a01 * a13 - a03 * a11;\n  var b05 = a02 * a13 - a03 * a12;\n  var b06 = a20 * a31 - a21 * a30;\n  var b07 = a20 * a32 - a22 * a30;\n  var b08 = a20 * a33 - a23 * a30;\n  var b09 = a21 * a32 - a22 * a31;\n  var b10 = a21 * a33 - a23 * a31;\n  var b11 = a22 * a33 - a23 * a32; // Calculate the determinant\n\n  return b00 * b11 - b01 * b10 + b02 * b09 + b03 * b08 - b04 * b07 + b05 * b06;\n}\n/**\r\n * Multiplies two mat4s\r\n *\r\n * @param {mat4} out the receiving matrix\r\n * @param {ReadonlyMat4} a the first operand\r\n * @param {ReadonlyMat4} b the second operand\r\n * @returns {mat4} out\r\n */\n\nexport function multiply(out, a, b) {\n  var a00 = a[0],\n      a01 = a[1],\n      a02 = a[2],\n      a03 = a[3];\n  var a10 = a[4],\n      a11 = a[5],\n      a12 = a[6],\n      a13 = a[7];\n  var a20 = a[8],\n      a21 = a[9],\n      a22 = a[10],\n      a23 = a[11];\n  var a30 = a[12],\n      a31 = a[13],\n      a32 = a[14],\n      a33 = a[15]; // Cache only the current line of the second matrix\n\n  var b0 = b[0],\n      b1 = b[1],\n      b2 = b[2],\n      b3 = b[3];\n  out[0] = b0 * a00 + b1 * a10 + b2 * a20 + b3 * a30;\n  out[1] = b0 * a01 + b1 * a11 + b2 * a21 + b3 * a31;\n  out[2] = b0 * a02 + b1 * a12 + b2 * a22 + b3 * a32;\n  out[3] = b0 * a03 + b1 * a13 + b2 * a23 + b3 * a33;\n  b0 = b[4];\n  b1 = b[5];\n  b2 = b[6];\n  b3 = b[7];\n  out[4] = b0 * a00 + b1 * a10 + b2 * a20 + b3 * a30;\n  out[5] = b0 * a01 + b1 * a11 + b2 * a21 + b3 * a31;\n  out[6] = b0 * a02 + b1 * a12 + b2 * a22 + b3 * a32;\n  out[7] = b0 * a03 + b1 * a13 + b2 * a23 + b3 * a33;\n  b0 = b[8];\n  b1 = b[9];\n  b2 = b[10];\n  b3 = b[11];\n  out[8] = b0 * a00 + b1 * a10 + b2 * a20 + b3 * a30;\n  out[9] = b0 * a01 + b1 * a11 + b2 * a21 + b3 * a31;\n  out[10] = b0 * a02 + b1 * a12 + b2 * a22 + b3 * a32;\n  out[11] = b0 * a03 + b1 * a13 + b2 * a23 + b3 * a33;\n  b0 = b[12];\n  b1 = b[13];\n  b2 = b[14];\n  b3 = b[15];\n  out[12] = b0 * a00 + b1 * a10 + b2 * a20 + b3 * a30;\n  out[13] = b0 * a01 + b1 * a11 + b2 * a21 + b3 * a31;\n  out[14] = b0 * a02 + b1 * a12 + b2 * a22 + b3 * a32;\n  out[15] = b0 * a03 + b1 * a13 + b2 * a23 + b3 * a33;\n  return out;\n}\n/**\r\n * Translate a mat4 by the given vector\r\n *\r\n * @param {mat4} out the receiving matrix\r\n * @param {ReadonlyMat4} a the matrix to translate\r\n * @param {ReadonlyVec3} v vector to translate by\r\n * @returns {mat4} out\r\n */\n\nexport function translate(out, a, v) {\n  var x = v[0],\n      y = v[1],\n      z = v[2];\n  var a00, a01, a02, a03;\n  var a10, a11, a12, a13;\n  var a20, a21, a22, a23;\n\n  if (a === out) {\n    out[12] = a[0] * x + a[4] * y + a[8] * z + a[12];\n    out[13] = a[1] * x + a[5] * y + a[9] * z + a[13];\n    out[14] = a[2] * x + a[6] * y + a[10] * z + a[14];\n    out[15] = a[3] * x + a[7] * y + a[11] * z + a[15];\n  } else {\n    a00 = a[0];\n    a01 = a[1];\n    a02 = a[2];\n    a03 = a[3];\n    a10 = a[4];\n    a11 = a[5];\n    a12 = a[6];\n    a13 = a[7];\n    a20 = a[8];\n    a21 = a[9];\n    a22 = a[10];\n    a23 = a[11];\n    out[0] = a00;\n    out[1] = a01;\n    out[2] = a02;\n    out[3] = a03;\n    out[4] = a10;\n    out[5] = a11;\n    out[6] = a12;\n    out[7] = a13;\n    out[8] = a20;\n    out[9] = a21;\n    out[10] = a22;\n    out[11] = a23;\n    out[12] = a00 * x + a10 * y + a20 * z + a[12];\n    out[13] = a01 * x + a11 * y + a21 * z + a[13];\n    out[14] = a02 * x + a12 * y + a22 * z + a[14];\n    out[15] = a03 * x + a13 * y + a23 * z + a[15];\n  }\n\n  return out;\n}\n/**\r\n * Scales the mat4 by the dimensions in the given vec3 not using vectorization\r\n *\r\n * @param {mat4} out the receiving matrix\r\n * @param {ReadonlyMat4} a the matrix to scale\r\n * @param {ReadonlyVec3} v the vec3 to scale the matrix by\r\n * @returns {mat4} out\r\n **/\n\nexport function scale(out, a, v) {\n  var x = v[0],\n      y = v[1],\n      z = v[2];\n  out[0] = a[0] * x;\n  out[1] = a[1] * x;\n  out[2] = a[2] * x;\n  out[3] = a[3] * x;\n  out[4] = a[4] * y;\n  out[5] = a[5] * y;\n  out[6] = a[6] * y;\n  out[7] = a[7] * y;\n  out[8] = a[8] * z;\n  out[9] = a[9] * z;\n  out[10] = a[10] * z;\n  out[11] = a[11] * z;\n  out[12] = a[12];\n  out[13] = a[13];\n  out[14] = a[14];\n  out[15] = a[15];\n  return out;\n}\n/**\r\n * Rotates a mat4 by the given angle around the given axis\r\n *\r\n * @param {mat4} out the receiving matrix\r\n * @param {ReadonlyMat4} a the matrix to rotate\r\n * @param {Number} rad the angle to rotate the matrix by\r\n * @param {ReadonlyVec3} axis the axis to rotate around\r\n * @returns {mat4} out\r\n */\n\nexport function rotate(out, a, rad, axis) {\n  var x = axis[0],\n      y = axis[1],\n      z = axis[2];\n  var len = Math.hypot(x, y, z);\n  var s, c, t;\n  var a00, a01, a02, a03;\n  var a10, a11, a12, a13;\n  var a20, a21, a22, a23;\n  var b00, b01, b02;\n  var b10, b11, b12;\n  var b20, b21, b22;\n\n  if (len < glMatrix.EPSILON) {\n    return null;\n  }\n\n  len = 1 / len;\n  x *= len;\n  y *= len;\n  z *= len;\n  s = Math.sin(rad);\n  c = Math.cos(rad);\n  t = 1 - c;\n  a00 = a[0];\n  a01 = a[1];\n  a02 = a[2];\n  a03 = a[3];\n  a10 = a[4];\n  a11 = a[5];\n  a12 = a[6];\n  a13 = a[7];\n  a20 = a[8];\n  a21 = a[9];\n  a22 = a[10];\n  a23 = a[11]; // Construct the elements of the rotation matrix\n\n  b00 = x * x * t + c;\n  b01 = y * x * t + z * s;\n  b02 = z * x * t - y * s;\n  b10 = x * y * t - z * s;\n  b11 = y * y * t + c;\n  b12 = z * y * t + x * s;\n  b20 = x * z * t + y * s;\n  b21 = y * z * t - x * s;\n  b22 = z * z * t + c; // Perform rotation-specific matrix multiplication\n\n  out[0] = a00 * b00 + a10 * b01 + a20 * b02;\n  out[1] = a01 * b00 + a11 * b01 + a21 * b02;\n  out[2] = a02 * b00 + a12 * b01 + a22 * b02;\n  out[3] = a03 * b00 + a13 * b01 + a23 * b02;\n  out[4] = a00 * b10 + a10 * b11 + a20 * b12;\n  out[5] = a01 * b10 + a11 * b11 + a21 * b12;\n  out[6] = a02 * b10 + a12 * b11 + a22 * b12;\n  out[7] = a03 * b10 + a13 * b11 + a23 * b12;\n  out[8] = a00 * b20 + a10 * b21 + a20 * b22;\n  out[9] = a01 * b20 + a11 * b21 + a21 * b22;\n  out[10] = a02 * b20 + a12 * b21 + a22 * b22;\n  out[11] = a03 * b20 + a13 * b21 + a23 * b22;\n\n  if (a !== out) {\n    // If the source and destination differ, copy the unchanged last row\n    out[12] = a[12];\n    out[13] = a[13];\n    out[14] = a[14];\n    out[15] = a[15];\n  }\n\n  return out;\n}\n/**\r\n * Rotates a matrix by the given angle around the X axis\r\n *\r\n * @param {mat4} out the receiving matrix\r\n * @param {ReadonlyMat4} a the matrix to rotate\r\n * @param {Number} rad the angle to rotate the matrix by\r\n * @returns {mat4} out\r\n */\n\nexport function rotateX(out, a, rad) {\n  var s = Math.sin(rad);\n  var c = Math.cos(rad);\n  var a10 = a[4];\n  var a11 = a[5];\n  var a12 = a[6];\n  var a13 = a[7];\n  var a20 = a[8];\n  var a21 = a[9];\n  var a22 = a[10];\n  var a23 = a[11];\n\n  if (a !== out) {\n    // If the source and destination differ, copy the unchanged rows\n    out[0] = a[0];\n    out[1] = a[1];\n    out[2] = a[2];\n    out[3] = a[3];\n    out[12] = a[12];\n    out[13] = a[13];\n    out[14] = a[14];\n    out[15] = a[15];\n  } // Perform axis-specific matrix multiplication\n\n\n  out[4] = a10 * c + a20 * s;\n  out[5] = a11 * c + a21 * s;\n  out[6] = a12 * c + a22 * s;\n  out[7] = a13 * c + a23 * s;\n  out[8] = a20 * c - a10 * s;\n  out[9] = a21 * c - a11 * s;\n  out[10] = a22 * c - a12 * s;\n  out[11] = a23 * c - a13 * s;\n  return out;\n}\n/**\r\n * Rotates a matrix by the given angle around the Y axis\r\n *\r\n * @param {mat4} out the receiving matrix\r\n * @param {ReadonlyMat4} a the matrix to rotate\r\n * @param {Number} rad the angle to rotate the matrix by\r\n * @returns {mat4} out\r\n */\n\nexport function rotateY(out, a, rad) {\n  var s = Math.sin(rad);\n  var c = Math.cos(rad);\n  var a00 = a[0];\n  var a01 = a[1];\n  var a02 = a[2];\n  var a03 = a[3];\n  var a20 = a[8];\n  var a21 = a[9];\n  var a22 = a[10];\n  var a23 = a[11];\n\n  if (a !== out) {\n    // If the source and destination differ, copy the unchanged rows\n    out[4] = a[4];\n    out[5] = a[5];\n    out[6] = a[6];\n    out[7] = a[7];\n    out[12] = a[12];\n    out[13] = a[13];\n    out[14] = a[14];\n    out[15] = a[15];\n  } // Perform axis-specific matrix multiplication\n\n\n  out[0] = a00 * c - a20 * s;\n  out[1] = a01 * c - a21 * s;\n  out[2] = a02 * c - a22 * s;\n  out[3] = a03 * c - a23 * s;\n  out[8] = a00 * s + a20 * c;\n  out[9] = a01 * s + a21 * c;\n  out[10] = a02 * s + a22 * c;\n  out[11] = a03 * s + a23 * c;\n  return out;\n}\n/**\r\n * Rotates a matrix by the given angle around the Z axis\r\n *\r\n * @param {mat4} out the receiving matrix\r\n * @param {ReadonlyMat4} a the matrix to rotate\r\n * @param {Number} rad the angle to rotate the matrix by\r\n * @returns {mat4} out\r\n */\n\nexport function rotateZ(out, a, rad) {\n  var s = Math.sin(rad);\n  var c = Math.cos(rad);\n  var a00 = a[0];\n  var a01 = a[1];\n  var a02 = a[2];\n  var a03 = a[3];\n  var a10 = a[4];\n  var a11 = a[5];\n  var a12 = a[6];\n  var a13 = a[7];\n\n  if (a !== out) {\n    // If the source and destination differ, copy the unchanged last row\n    out[8] = a[8];\n    out[9] = a[9];\n    out[10] = a[10];\n    out[11] = a[11];\n    out[12] = a[12];\n    out[13] = a[13];\n    out[14] = a[14];\n    out[15] = a[15];\n  } // Perform axis-specific matrix multiplication\n\n\n  out[0] = a00 * c + a10 * s;\n  out[1] = a01 * c + a11 * s;\n  out[2] = a02 * c + a12 * s;\n  out[3] = a03 * c + a13 * s;\n  out[4] = a10 * c - a00 * s;\n  out[5] = a11 * c - a01 * s;\n  out[6] = a12 * c - a02 * s;\n  out[7] = a13 * c - a03 * s;\n  return out;\n}\n/**\r\n * Creates a matrix from a vector translation\r\n * This is equivalent to (but much faster than):\r\n *\r\n *     mat4.identity(dest);\r\n *     mat4.translate(dest, dest, vec);\r\n *\r\n * @param {mat4} out mat4 receiving operation result\r\n * @param {ReadonlyVec3} v Translation vector\r\n * @returns {mat4} out\r\n */\n\nexport function fromTranslation(out, v) {\n  out[0] = 1;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = 0;\n  out[5] = 1;\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = 0;\n  out[9] = 0;\n  out[10] = 1;\n  out[11] = 0;\n  out[12] = v[0];\n  out[13] = v[1];\n  out[14] = v[2];\n  out[15] = 1;\n  return out;\n}\n/**\r\n * Creates a matrix from a vector scaling\r\n * This is equivalent to (but much faster than):\r\n *\r\n *     mat4.identity(dest);\r\n *     mat4.scale(dest, dest, vec);\r\n *\r\n * @param {mat4} out mat4 receiving operation result\r\n * @param {ReadonlyVec3} v Scaling vector\r\n * @returns {mat4} out\r\n */\n\nexport function fromScaling(out, v) {\n  out[0] = v[0];\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = 0;\n  out[5] = v[1];\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = 0;\n  out[9] = 0;\n  out[10] = v[2];\n  out[11] = 0;\n  out[12] = 0;\n  out[13] = 0;\n  out[14] = 0;\n  out[15] = 1;\n  return out;\n}\n/**\r\n * Creates a matrix from a given angle around a given axis\r\n * This is equivalent to (but much faster than):\r\n *\r\n *     mat4.identity(dest);\r\n *     mat4.rotate(dest, dest, rad, axis);\r\n *\r\n * @param {mat4} out mat4 receiving operation result\r\n * @param {Number} rad the angle to rotate the matrix by\r\n * @param {ReadonlyVec3} axis the axis to rotate around\r\n * @returns {mat4} out\r\n */\n\nexport function fromRotation(out, rad, axis) {\n  var x = axis[0],\n      y = axis[1],\n      z = axis[2];\n  var len = Math.hypot(x, y, z);\n  var s, c, t;\n\n  if (len < glMatrix.EPSILON) {\n    return null;\n  }\n\n  len = 1 / len;\n  x *= len;\n  y *= len;\n  z *= len;\n  s = Math.sin(rad);\n  c = Math.cos(rad);\n  t = 1 - c; // Perform rotation-specific matrix multiplication\n\n  out[0] = x * x * t + c;\n  out[1] = y * x * t + z * s;\n  out[2] = z * x * t - y * s;\n  out[3] = 0;\n  out[4] = x * y * t - z * s;\n  out[5] = y * y * t + c;\n  out[6] = z * y * t + x * s;\n  out[7] = 0;\n  out[8] = x * z * t + y * s;\n  out[9] = y * z * t - x * s;\n  out[10] = z * z * t + c;\n  out[11] = 0;\n  out[12] = 0;\n  out[13] = 0;\n  out[14] = 0;\n  out[15] = 1;\n  return out;\n}\n/**\r\n * Creates a matrix from the given angle around the X axis\r\n * This is equivalent to (but much faster than):\r\n *\r\n *     mat4.identity(dest);\r\n *     mat4.rotateX(dest, dest, rad);\r\n *\r\n * @param {mat4} out mat4 receiving operation result\r\n * @param {Number} rad the angle to rotate the matrix by\r\n * @returns {mat4} out\r\n */\n\nexport function fromXRotation(out, rad) {\n  var s = Math.sin(rad);\n  var c = Math.cos(rad); // Perform axis-specific matrix multiplication\n\n  out[0] = 1;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = 0;\n  out[5] = c;\n  out[6] = s;\n  out[7] = 0;\n  out[8] = 0;\n  out[9] = -s;\n  out[10] = c;\n  out[11] = 0;\n  out[12] = 0;\n  out[13] = 0;\n  out[14] = 0;\n  out[15] = 1;\n  return out;\n}\n/**\r\n * Creates a matrix from the given angle around the Y axis\r\n * This is equivalent to (but much faster than):\r\n *\r\n *     mat4.identity(dest);\r\n *     mat4.rotateY(dest, dest, rad);\r\n *\r\n * @param {mat4} out mat4 receiving operation result\r\n * @param {Number} rad the angle to rotate the matrix by\r\n * @returns {mat4} out\r\n */\n\nexport function fromYRotation(out, rad) {\n  var s = Math.sin(rad);\n  var c = Math.cos(rad); // Perform axis-specific matrix multiplication\n\n  out[0] = c;\n  out[1] = 0;\n  out[2] = -s;\n  out[3] = 0;\n  out[4] = 0;\n  out[5] = 1;\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = s;\n  out[9] = 0;\n  out[10] = c;\n  out[11] = 0;\n  out[12] = 0;\n  out[13] = 0;\n  out[14] = 0;\n  out[15] = 1;\n  return out;\n}\n/**\r\n * Creates a matrix from the given angle around the Z axis\r\n * This is equivalent to (but much faster than):\r\n *\r\n *     mat4.identity(dest);\r\n *     mat4.rotateZ(dest, dest, rad);\r\n *\r\n * @param {mat4} out mat4 receiving operation result\r\n * @param {Number} rad the angle to rotate the matrix by\r\n * @returns {mat4} out\r\n */\n\nexport function fromZRotation(out, rad) {\n  var s = Math.sin(rad);\n  var c = Math.cos(rad); // Perform axis-specific matrix multiplication\n\n  out[0] = c;\n  out[1] = s;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = -s;\n  out[5] = c;\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = 0;\n  out[9] = 0;\n  out[10] = 1;\n  out[11] = 0;\n  out[12] = 0;\n  out[13] = 0;\n  out[14] = 0;\n  out[15] = 1;\n  return out;\n}\n/**\r\n * Creates a matrix from a quaternion rotation and vector translation\r\n * This is equivalent to (but much faster than):\r\n *\r\n *     mat4.identity(dest);\r\n *     mat4.translate(dest, vec);\r\n *     let quatMat = mat4.create();\r\n *     quat4.toMat4(quat, quatMat);\r\n *     mat4.multiply(dest, quatMat);\r\n *\r\n * @param {mat4} out mat4 receiving operation result\r\n * @param {quat4} q Rotation quaternion\r\n * @param {ReadonlyVec3} v Translation vector\r\n * @returns {mat4} out\r\n */\n\nexport function fromRotationTranslation(out, q, v) {\n  // Quaternion math\n  var x = q[0],\n      y = q[1],\n      z = q[2],\n      w = q[3];\n  var x2 = x + x;\n  var y2 = y + y;\n  var z2 = z + z;\n  var xx = x * x2;\n  var xy = x * y2;\n  var xz = x * z2;\n  var yy = y * y2;\n  var yz = y * z2;\n  var zz = z * z2;\n  var wx = w * x2;\n  var wy = w * y2;\n  var wz = w * z2;\n  out[0] = 1 - (yy + zz);\n  out[1] = xy + wz;\n  out[2] = xz - wy;\n  out[3] = 0;\n  out[4] = xy - wz;\n  out[5] = 1 - (xx + zz);\n  out[6] = yz + wx;\n  out[7] = 0;\n  out[8] = xz + wy;\n  out[9] = yz - wx;\n  out[10] = 1 - (xx + yy);\n  out[11] = 0;\n  out[12] = v[0];\n  out[13] = v[1];\n  out[14] = v[2];\n  out[15] = 1;\n  return out;\n}\n/**\r\n * Creates a new mat4 from a dual quat.\r\n *\r\n * @param {mat4} out Matrix\r\n * @param {ReadonlyQuat2} a Dual Quaternion\r\n * @returns {mat4} mat4 receiving operation result\r\n */\n\nexport function fromQuat2(out, a) {\n  var translation = new glMatrix.ARRAY_TYPE(3);\n  var bx = -a[0],\n      by = -a[1],\n      bz = -a[2],\n      bw = a[3],\n      ax = a[4],\n      ay = a[5],\n      az = a[6],\n      aw = a[7];\n  var magnitude = bx * bx + by * by + bz * bz + bw * bw; //Only scale if it makes sense\n\n  if (magnitude > 0) {\n    translation[0] = (ax * bw + aw * bx + ay * bz - az * by) * 2 / magnitude;\n    translation[1] = (ay * bw + aw * by + az * bx - ax * bz) * 2 / magnitude;\n    translation[2] = (az * bw + aw * bz + ax * by - ay * bx) * 2 / magnitude;\n  } else {\n    translation[0] = (ax * bw + aw * bx + ay * bz - az * by) * 2;\n    translation[1] = (ay * bw + aw * by + az * bx - ax * bz) * 2;\n    translation[2] = (az * bw + aw * bz + ax * by - ay * bx) * 2;\n  }\n\n  fromRotationTranslation(out, a, translation);\n  return out;\n}\n/**\r\n * Returns the translation vector component of a transformation\r\n *  matrix. If a matrix is built with fromRotationTranslation,\r\n *  the returned vector will be the same as the translation vector\r\n *  originally supplied.\r\n * @param  {vec3} out Vector to receive translation component\r\n * @param  {ReadonlyMat4} mat Matrix to be decomposed (input)\r\n * @return {vec3} out\r\n */\n\nexport function getTranslation(out, mat) {\n  out[0] = mat[12];\n  out[1] = mat[13];\n  out[2] = mat[14];\n  return out;\n}\n/**\r\n * Returns the scaling factor component of a transformation\r\n *  matrix. If a matrix is built with fromRotationTranslationScale\r\n *  with a normalized Quaternion paramter, the returned vector will be\r\n *  the same as the scaling vector\r\n *  originally supplied.\r\n * @param  {vec3} out Vector to receive scaling factor component\r\n * @param  {ReadonlyMat4} mat Matrix to be decomposed (input)\r\n * @return {vec3} out\r\n */\n\nexport function getScaling(out, mat) {\n  var m11 = mat[0];\n  var m12 = mat[1];\n  var m13 = mat[2];\n  var m21 = mat[4];\n  var m22 = mat[5];\n  var m23 = mat[6];\n  var m31 = mat[8];\n  var m32 = mat[9];\n  var m33 = mat[10];\n  out[0] = Math.hypot(m11, m12, m13);\n  out[1] = Math.hypot(m21, m22, m23);\n  out[2] = Math.hypot(m31, m32, m33);\n  return out;\n}\n/**\r\n * Returns a quaternion representing the rotational component\r\n *  of a transformation matrix. If a matrix is built with\r\n *  fromRotationTranslation, the returned quaternion will be the\r\n *  same as the quaternion originally supplied.\r\n * @param {quat} out Quaternion to receive the rotation component\r\n * @param {ReadonlyMat4} mat Matrix to be decomposed (input)\r\n * @return {quat} out\r\n */\n\nexport function getRotation(out, mat) {\n  var scaling = new glMatrix.ARRAY_TYPE(3);\n  getScaling(scaling, mat);\n  var is1 = 1 / scaling[0];\n  var is2 = 1 / scaling[1];\n  var is3 = 1 / scaling[2];\n  var sm11 = mat[0] * is1;\n  var sm12 = mat[1] * is2;\n  var sm13 = mat[2] * is3;\n  var sm21 = mat[4] * is1;\n  var sm22 = mat[5] * is2;\n  var sm23 = mat[6] * is3;\n  var sm31 = mat[8] * is1;\n  var sm32 = mat[9] * is2;\n  var sm33 = mat[10] * is3;\n  var trace = sm11 + sm22 + sm33;\n  var S = 0;\n\n  if (trace > 0) {\n    S = Math.sqrt(trace + 1.0) * 2;\n    out[3] = 0.25 * S;\n    out[0] = (sm23 - sm32) / S;\n    out[1] = (sm31 - sm13) / S;\n    out[2] = (sm12 - sm21) / S;\n  } else if (sm11 > sm22 && sm11 > sm33) {\n    S = Math.sqrt(1.0 + sm11 - sm22 - sm33) * 2;\n    out[3] = (sm23 - sm32) / S;\n    out[0] = 0.25 * S;\n    out[1] = (sm12 + sm21) / S;\n    out[2] = (sm31 + sm13) / S;\n  } else if (sm22 > sm33) {\n    S = Math.sqrt(1.0 + sm22 - sm11 - sm33) * 2;\n    out[3] = (sm31 - sm13) / S;\n    out[0] = (sm12 + sm21) / S;\n    out[1] = 0.25 * S;\n    out[2] = (sm23 + sm32) / S;\n  } else {\n    S = Math.sqrt(1.0 + sm33 - sm11 - sm22) * 2;\n    out[3] = (sm12 - sm21) / S;\n    out[0] = (sm31 + sm13) / S;\n    out[1] = (sm23 + sm32) / S;\n    out[2] = 0.25 * S;\n  }\n\n  return out;\n}\n/**\r\n * Creates a matrix from a quaternion rotation, vector translation and vector scale\r\n * This is equivalent to (but much faster than):\r\n *\r\n *     mat4.identity(dest);\r\n *     mat4.translate(dest, vec);\r\n *     let quatMat = mat4.create();\r\n *     quat4.toMat4(quat, quatMat);\r\n *     mat4.multiply(dest, quatMat);\r\n *     mat4.scale(dest, scale)\r\n *\r\n * @param {mat4} out mat4 receiving operation result\r\n * @param {quat4} q Rotation quaternion\r\n * @param {ReadonlyVec3} v Translation vector\r\n * @param {ReadonlyVec3} s Scaling vector\r\n * @returns {mat4} out\r\n */\n\nexport function fromRotationTranslationScale(out, q, v, s) {\n  // Quaternion math\n  var x = q[0],\n      y = q[1],\n      z = q[2],\n      w = q[3];\n  var x2 = x + x;\n  var y2 = y + y;\n  var z2 = z + z;\n  var xx = x * x2;\n  var xy = x * y2;\n  var xz = x * z2;\n  var yy = y * y2;\n  var yz = y * z2;\n  var zz = z * z2;\n  var wx = w * x2;\n  var wy = w * y2;\n  var wz = w * z2;\n  var sx = s[0];\n  var sy = s[1];\n  var sz = s[2];\n  out[0] = (1 - (yy + zz)) * sx;\n  out[1] = (xy + wz) * sx;\n  out[2] = (xz - wy) * sx;\n  out[3] = 0;\n  out[4] = (xy - wz) * sy;\n  out[5] = (1 - (xx + zz)) * sy;\n  out[6] = (yz + wx) * sy;\n  out[7] = 0;\n  out[8] = (xz + wy) * sz;\n  out[9] = (yz - wx) * sz;\n  out[10] = (1 - (xx + yy)) * sz;\n  out[11] = 0;\n  out[12] = v[0];\n  out[13] = v[1];\n  out[14] = v[2];\n  out[15] = 1;\n  return out;\n}\n/**\r\n * Creates a matrix from a quaternion rotation, vector translation and vector scale, rotating and scaling around the given origin\r\n * This is equivalent to (but much faster than):\r\n *\r\n *     mat4.identity(dest);\r\n *     mat4.translate(dest, vec);\r\n *     mat4.translate(dest, origin);\r\n *     let quatMat = mat4.create();\r\n *     quat4.toMat4(quat, quatMat);\r\n *     mat4.multiply(dest, quatMat);\r\n *     mat4.scale(dest, scale)\r\n *     mat4.translate(dest, negativeOrigin);\r\n *\r\n * @param {mat4} out mat4 receiving operation result\r\n * @param {quat4} q Rotation quaternion\r\n * @param {ReadonlyVec3} v Translation vector\r\n * @param {ReadonlyVec3} s Scaling vector\r\n * @param {ReadonlyVec3} o The origin vector around which to scale and rotate\r\n * @returns {mat4} out\r\n */\n\nexport function fromRotationTranslationScaleOrigin(out, q, v, s, o) {\n  // Quaternion math\n  var x = q[0],\n      y = q[1],\n      z = q[2],\n      w = q[3];\n  var x2 = x + x;\n  var y2 = y + y;\n  var z2 = z + z;\n  var xx = x * x2;\n  var xy = x * y2;\n  var xz = x * z2;\n  var yy = y * y2;\n  var yz = y * z2;\n  var zz = z * z2;\n  var wx = w * x2;\n  var wy = w * y2;\n  var wz = w * z2;\n  var sx = s[0];\n  var sy = s[1];\n  var sz = s[2];\n  var ox = o[0];\n  var oy = o[1];\n  var oz = o[2];\n  var out0 = (1 - (yy + zz)) * sx;\n  var out1 = (xy + wz) * sx;\n  var out2 = (xz - wy) * sx;\n  var out4 = (xy - wz) * sy;\n  var out5 = (1 - (xx + zz)) * sy;\n  var out6 = (yz + wx) * sy;\n  var out8 = (xz + wy) * sz;\n  var out9 = (yz - wx) * sz;\n  var out10 = (1 - (xx + yy)) * sz;\n  out[0] = out0;\n  out[1] = out1;\n  out[2] = out2;\n  out[3] = 0;\n  out[4] = out4;\n  out[5] = out5;\n  out[6] = out6;\n  out[7] = 0;\n  out[8] = out8;\n  out[9] = out9;\n  out[10] = out10;\n  out[11] = 0;\n  out[12] = v[0] + ox - (out0 * ox + out4 * oy + out8 * oz);\n  out[13] = v[1] + oy - (out1 * ox + out5 * oy + out9 * oz);\n  out[14] = v[2] + oz - (out2 * ox + out6 * oy + out10 * oz);\n  out[15] = 1;\n  return out;\n}\n/**\r\n * Calculates a 4x4 matrix from the given quaternion\r\n *\r\n * @param {mat4} out mat4 receiving operation result\r\n * @param {ReadonlyQuat} q Quaternion to create matrix from\r\n *\r\n * @returns {mat4} out\r\n */\n\nexport function fromQuat(out, q) {\n  var x = q[0],\n      y = q[1],\n      z = q[2],\n      w = q[3];\n  var x2 = x + x;\n  var y2 = y + y;\n  var z2 = z + z;\n  var xx = x * x2;\n  var yx = y * x2;\n  var yy = y * y2;\n  var zx = z * x2;\n  var zy = z * y2;\n  var zz = z * z2;\n  var wx = w * x2;\n  var wy = w * y2;\n  var wz = w * z2;\n  out[0] = 1 - yy - zz;\n  out[1] = yx + wz;\n  out[2] = zx - wy;\n  out[3] = 0;\n  out[4] = yx - wz;\n  out[5] = 1 - xx - zz;\n  out[6] = zy + wx;\n  out[7] = 0;\n  out[8] = zx + wy;\n  out[9] = zy - wx;\n  out[10] = 1 - xx - yy;\n  out[11] = 0;\n  out[12] = 0;\n  out[13] = 0;\n  out[14] = 0;\n  out[15] = 1;\n  return out;\n}\n/**\r\n * Generates a frustum matrix with the given bounds\r\n *\r\n * @param {mat4} out mat4 frustum matrix will be written into\r\n * @param {Number} left Left bound of the frustum\r\n * @param {Number} right Right bound of the frustum\r\n * @param {Number} bottom Bottom bound of the frustum\r\n * @param {Number} top Top bound of the frustum\r\n * @param {Number} near Near bound of the frustum\r\n * @param {Number} far Far bound of the frustum\r\n * @returns {mat4} out\r\n */\n\nexport function frustum(out, left, right, bottom, top, near, far) {\n  var rl = 1 / (right - left);\n  var tb = 1 / (top - bottom);\n  var nf = 1 / (near - far);\n  out[0] = near * 2 * rl;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = 0;\n  out[5] = near * 2 * tb;\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = (right + left) * rl;\n  out[9] = (top + bottom) * tb;\n  out[10] = (far + near) * nf;\n  out[11] = -1;\n  out[12] = 0;\n  out[13] = 0;\n  out[14] = far * near * 2 * nf;\n  out[15] = 0;\n  return out;\n}\n/**\r\n * Generates a perspective projection matrix with the given bounds.\r\n * Passing null/undefined/no value for far will generate infinite projection matrix.\r\n *\r\n * @param {mat4} out mat4 frustum matrix will be written into\r\n * @param {number} fovy Vertical field of view in radians\r\n * @param {number} aspect Aspect ratio. typically viewport width/height\r\n * @param {number} near Near bound of the frustum\r\n * @param {number} far Far bound of the frustum, can be null or Infinity\r\n * @returns {mat4} out\r\n */\n\nexport function perspective(out, fovy, aspect, near, far) {\n  var f = 1.0 / Math.tan(fovy / 2),\n      nf;\n  out[0] = f / aspect;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = 0;\n  out[5] = f;\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = 0;\n  out[9] = 0;\n  out[11] = -1;\n  out[12] = 0;\n  out[13] = 0;\n  out[15] = 0;\n\n  if (far != null && far !== Infinity) {\n    nf = 1 / (near - far);\n    out[10] = (far + near) * nf;\n    out[14] = 2 * far * near * nf;\n  } else {\n    out[10] = -1;\n    out[14] = -2 * near;\n  }\n\n  return out;\n}\n/**\r\n * Generates a perspective projection matrix with the given field of view.\r\n * This is primarily useful for generating projection matrices to be used\r\n * with the still experiemental WebVR API.\r\n *\r\n * @param {mat4} out mat4 frustum matrix will be written into\r\n * @param {Object} fov Object containing the following values: upDegrees, downDegrees, leftDegrees, rightDegrees\r\n * @param {number} near Near bound of the frustum\r\n * @param {number} far Far bound of the frustum\r\n * @returns {mat4} out\r\n */\n\nexport function perspectiveFromFieldOfView(out, fov, near, far) {\n  var upTan = Math.tan(fov.upDegrees * Math.PI / 180.0);\n  var downTan = Math.tan(fov.downDegrees * Math.PI / 180.0);\n  var leftTan = Math.tan(fov.leftDegrees * Math.PI / 180.0);\n  var rightTan = Math.tan(fov.rightDegrees * Math.PI / 180.0);\n  var xScale = 2.0 / (leftTan + rightTan);\n  var yScale = 2.0 / (upTan + downTan);\n  out[0] = xScale;\n  out[1] = 0.0;\n  out[2] = 0.0;\n  out[3] = 0.0;\n  out[4] = 0.0;\n  out[5] = yScale;\n  out[6] = 0.0;\n  out[7] = 0.0;\n  out[8] = -((leftTan - rightTan) * xScale * 0.5);\n  out[9] = (upTan - downTan) * yScale * 0.5;\n  out[10] = far / (near - far);\n  out[11] = -1.0;\n  out[12] = 0.0;\n  out[13] = 0.0;\n  out[14] = far * near / (near - far);\n  out[15] = 0.0;\n  return out;\n}\n/**\r\n * Generates a orthogonal projection matrix with the given bounds\r\n *\r\n * @param {mat4} out mat4 frustum matrix will be written into\r\n * @param {number} left Left bound of the frustum\r\n * @param {number} right Right bound of the frustum\r\n * @param {number} bottom Bottom bound of the frustum\r\n * @param {number} top Top bound of the frustum\r\n * @param {number} near Near bound of the frustum\r\n * @param {number} far Far bound of the frustum\r\n * @returns {mat4} out\r\n */\n\nexport function ortho(out, left, right, bottom, top, near, far) {\n  var lr = 1 / (left - right);\n  var bt = 1 / (bottom - top);\n  var nf = 1 / (near - far);\n  out[0] = -2 * lr;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = 0;\n  out[5] = -2 * bt;\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = 0;\n  out[9] = 0;\n  out[10] = 2 * nf;\n  out[11] = 0;\n  out[12] = (left + right) * lr;\n  out[13] = (top + bottom) * bt;\n  out[14] = (far + near) * nf;\n  out[15] = 1;\n  return out;\n}\n/**\r\n * Generates a look-at matrix with the given eye position, focal point, and up axis.\r\n * If you want a matrix that actually makes an object look at another object, you should use targetTo instead.\r\n *\r\n * @param {mat4} out mat4 frustum matrix will be written into\r\n * @param {ReadonlyVec3} eye Position of the viewer\r\n * @param {ReadonlyVec3} center Point the viewer is looking at\r\n * @param {ReadonlyVec3} up vec3 pointing up\r\n * @returns {mat4} out\r\n */\n\nexport function lookAt(out, eye, center, up) {\n  var x0, x1, x2, y0, y1, y2, z0, z1, z2, len;\n  var eyex = eye[0];\n  var eyey = eye[1];\n  var eyez = eye[2];\n  var upx = up[0];\n  var upy = up[1];\n  var upz = up[2];\n  var centerx = center[0];\n  var centery = center[1];\n  var centerz = center[2];\n\n  if (Math.abs(eyex - centerx) < glMatrix.EPSILON && Math.abs(eyey - centery) < glMatrix.EPSILON && Math.abs(eyez - centerz) < glMatrix.EPSILON) {\n    return identity(out);\n  }\n\n  z0 = eyex - centerx;\n  z1 = eyey - centery;\n  z2 = eyez - centerz;\n  len = 1 / Math.hypot(z0, z1, z2);\n  z0 *= len;\n  z1 *= len;\n  z2 *= len;\n  x0 = upy * z2 - upz * z1;\n  x1 = upz * z0 - upx * z2;\n  x2 = upx * z1 - upy * z0;\n  len = Math.hypot(x0, x1, x2);\n\n  if (!len) {\n    x0 = 0;\n    x1 = 0;\n    x2 = 0;\n  } else {\n    len = 1 / len;\n    x0 *= len;\n    x1 *= len;\n    x2 *= len;\n  }\n\n  y0 = z1 * x2 - z2 * x1;\n  y1 = z2 * x0 - z0 * x2;\n  y2 = z0 * x1 - z1 * x0;\n  len = Math.hypot(y0, y1, y2);\n\n  if (!len) {\n    y0 = 0;\n    y1 = 0;\n    y2 = 0;\n  } else {\n    len = 1 / len;\n    y0 *= len;\n    y1 *= len;\n    y2 *= len;\n  }\n\n  out[0] = x0;\n  out[1] = y0;\n  out[2] = z0;\n  out[3] = 0;\n  out[4] = x1;\n  out[5] = y1;\n  out[6] = z1;\n  out[7] = 0;\n  out[8] = x2;\n  out[9] = y2;\n  out[10] = z2;\n  out[11] = 0;\n  out[12] = -(x0 * eyex + x1 * eyey + x2 * eyez);\n  out[13] = -(y0 * eyex + y1 * eyey + y2 * eyez);\n  out[14] = -(z0 * eyex + z1 * eyey + z2 * eyez);\n  out[15] = 1;\n  return out;\n}\n/**\r\n * Generates a matrix that makes something look at something else.\r\n *\r\n * @param {mat4} out mat4 frustum matrix will be written into\r\n * @param {ReadonlyVec3} eye Position of the viewer\r\n * @param {ReadonlyVec3} center Point the viewer is looking at\r\n * @param {ReadonlyVec3} up vec3 pointing up\r\n * @returns {mat4} out\r\n */\n\nexport function targetTo(out, eye, target, up) {\n  var eyex = eye[0],\n      eyey = eye[1],\n      eyez = eye[2],\n      upx = up[0],\n      upy = up[1],\n      upz = up[2];\n  var z0 = eyex - target[0],\n      z1 = eyey - target[1],\n      z2 = eyez - target[2];\n  var len = z0 * z0 + z1 * z1 + z2 * z2;\n\n  if (len > 0) {\n    len = 1 / Math.sqrt(len);\n    z0 *= len;\n    z1 *= len;\n    z2 *= len;\n  }\n\n  var x0 = upy * z2 - upz * z1,\n      x1 = upz * z0 - upx * z2,\n      x2 = upx * z1 - upy * z0;\n  len = x0 * x0 + x1 * x1 + x2 * x2;\n\n  if (len > 0) {\n    len = 1 / Math.sqrt(len);\n    x0 *= len;\n    x1 *= len;\n    x2 *= len;\n  }\n\n  out[0] = x0;\n  out[1] = x1;\n  out[2] = x2;\n  out[3] = 0;\n  out[4] = z1 * x2 - z2 * x1;\n  out[5] = z2 * x0 - z0 * x2;\n  out[6] = z0 * x1 - z1 * x0;\n  out[7] = 0;\n  out[8] = z0;\n  out[9] = z1;\n  out[10] = z2;\n  out[11] = 0;\n  out[12] = eyex;\n  out[13] = eyey;\n  out[14] = eyez;\n  out[15] = 1;\n  return out;\n}\n/**\r\n * Returns a string representation of a mat4\r\n *\r\n * @param {ReadonlyMat4} a matrix to represent as a string\r\n * @returns {String} string representation of the matrix\r\n */\n\nexport function str(a) {\n  return \"mat4(\" + a[0] + \", \" + a[1] + \", \" + a[2] + \", \" + a[3] + \", \" + a[4] + \", \" + a[5] + \", \" + a[6] + \", \" + a[7] + \", \" + a[8] + \", \" + a[9] + \", \" + a[10] + \", \" + a[11] + \", \" + a[12] + \", \" + a[13] + \", \" + a[14] + \", \" + a[15] + \")\";\n}\n/**\r\n * Returns Frobenius norm of a mat4\r\n *\r\n * @param {ReadonlyMat4} a the matrix to calculate Frobenius norm of\r\n * @returns {Number} Frobenius norm\r\n */\n\nexport function frob(a) {\n  return Math.hypot(a[0], a[1], a[2], a[3], a[4], a[5], a[6], a[7], a[8], a[9], a[10], a[11], a[12], a[13], a[14], a[15]);\n}\n/**\r\n * Adds two mat4's\r\n *\r\n * @param {mat4} out the receiving matrix\r\n * @param {ReadonlyMat4} a the first operand\r\n * @param {ReadonlyMat4} b the second operand\r\n * @returns {mat4} out\r\n */\n\nexport function add(out, a, b) {\n  out[0] = a[0] + b[0];\n  out[1] = a[1] + b[1];\n  out[2] = a[2] + b[2];\n  out[3] = a[3] + b[3];\n  out[4] = a[4] + b[4];\n  out[5] = a[5] + b[5];\n  out[6] = a[6] + b[6];\n  out[7] = a[7] + b[7];\n  out[8] = a[8] + b[8];\n  out[9] = a[9] + b[9];\n  out[10] = a[10] + b[10];\n  out[11] = a[11] + b[11];\n  out[12] = a[12] + b[12];\n  out[13] = a[13] + b[13];\n  out[14] = a[14] + b[14];\n  out[15] = a[15] + b[15];\n  return out;\n}\n/**\r\n * Subtracts matrix b from matrix a\r\n *\r\n * @param {mat4} out the receiving matrix\r\n * @param {ReadonlyMat4} a the first operand\r\n * @param {ReadonlyMat4} b the second operand\r\n * @returns {mat4} out\r\n */\n\nexport function subtract(out, a, b) {\n  out[0] = a[0] - b[0];\n  out[1] = a[1] - b[1];\n  out[2] = a[2] - b[2];\n  out[3] = a[3] - b[3];\n  out[4] = a[4] - b[4];\n  out[5] = a[5] - b[5];\n  out[6] = a[6] - b[6];\n  out[7] = a[7] - b[7];\n  out[8] = a[8] - b[8];\n  out[9] = a[9] - b[9];\n  out[10] = a[10] - b[10];\n  out[11] = a[11] - b[11];\n  out[12] = a[12] - b[12];\n  out[13] = a[13] - b[13];\n  out[14] = a[14] - b[14];\n  out[15] = a[15] - b[15];\n  return out;\n}\n/**\r\n * Multiply each element of the matrix by a scalar.\r\n *\r\n * @param {mat4} out the receiving matrix\r\n * @param {ReadonlyMat4} a the matrix to scale\r\n * @param {Number} b amount to scale the matrix's elements by\r\n * @returns {mat4} out\r\n */\n\nexport function multiplyScalar(out, a, b) {\n  out[0] = a[0] * b;\n  out[1] = a[1] * b;\n  out[2] = a[2] * b;\n  out[3] = a[3] * b;\n  out[4] = a[4] * b;\n  out[5] = a[5] * b;\n  out[6] = a[6] * b;\n  out[7] = a[7] * b;\n  out[8] = a[8] * b;\n  out[9] = a[9] * b;\n  out[10] = a[10] * b;\n  out[11] = a[11] * b;\n  out[12] = a[12] * b;\n  out[13] = a[13] * b;\n  out[14] = a[14] * b;\n  out[15] = a[15] * b;\n  return out;\n}\n/**\r\n * Adds two mat4's after multiplying each element of the second operand by a scalar value.\r\n *\r\n * @param {mat4} out the receiving vector\r\n * @param {ReadonlyMat4} a the first operand\r\n * @param {ReadonlyMat4} b the second operand\r\n * @param {Number} scale the amount to scale b's elements by before adding\r\n * @returns {mat4} out\r\n */\n\nexport function multiplyScalarAndAdd(out, a, b, scale) {\n  out[0] = a[0] + b[0] * scale;\n  out[1] = a[1] + b[1] * scale;\n  out[2] = a[2] + b[2] * scale;\n  out[3] = a[3] + b[3] * scale;\n  out[4] = a[4] + b[4] * scale;\n  out[5] = a[5] + b[5] * scale;\n  out[6] = a[6] + b[6] * scale;\n  out[7] = a[7] + b[7] * scale;\n  out[8] = a[8] + b[8] * scale;\n  out[9] = a[9] + b[9] * scale;\n  out[10] = a[10] + b[10] * scale;\n  out[11] = a[11] + b[11] * scale;\n  out[12] = a[12] + b[12] * scale;\n  out[13] = a[13] + b[13] * scale;\n  out[14] = a[14] + b[14] * scale;\n  out[15] = a[15] + b[15] * scale;\n  return out;\n}\n/**\r\n * Returns whether or not the matrices have exactly the same elements in the same position (when compared with ===)\r\n *\r\n * @param {ReadonlyMat4} a The first matrix.\r\n * @param {ReadonlyMat4} b The second matrix.\r\n * @returns {Boolean} True if the matrices are equal, false otherwise.\r\n */\n\nexport function exactEquals(a, b) {\n  return a[0] === b[0] && a[1] === b[1] && a[2] === b[2] && a[3] === b[3] && a[4] === b[4] && a[5] === b[5] && a[6] === b[6] && a[7] === b[7] && a[8] === b[8] && a[9] === b[9] && a[10] === b[10] && a[11] === b[11] && a[12] === b[12] && a[13] === b[13] && a[14] === b[14] && a[15] === b[15];\n}\n/**\r\n * Returns whether or not the matrices have approximately the same elements in the same position.\r\n *\r\n * @param {ReadonlyMat4} a The first matrix.\r\n * @param {ReadonlyMat4} b The second matrix.\r\n * @returns {Boolean} True if the matrices are equal, false otherwise.\r\n */\n\nexport function equals(a, b) {\n  var a0 = a[0],\n      a1 = a[1],\n      a2 = a[2],\n      a3 = a[3];\n  var a4 = a[4],\n      a5 = a[5],\n      a6 = a[6],\n      a7 = a[7];\n  var a8 = a[8],\n      a9 = a[9],\n      a10 = a[10],\n      a11 = a[11];\n  var a12 = a[12],\n      a13 = a[13],\n      a14 = a[14],\n      a15 = a[15];\n  var b0 = b[0],\n      b1 = b[1],\n      b2 = b[2],\n      b3 = b[3];\n  var b4 = b[4],\n      b5 = b[5],\n      b6 = b[6],\n      b7 = b[7];\n  var b8 = b[8],\n      b9 = b[9],\n      b10 = b[10],\n      b11 = b[11];\n  var b12 = b[12],\n      b13 = b[13],\n      b14 = b[14],\n      b15 = b[15];\n  return Math.abs(a0 - b0) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a0), Math.abs(b0)) && Math.abs(a1 - b1) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a1), Math.abs(b1)) && Math.abs(a2 - b2) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a2), Math.abs(b2)) && Math.abs(a3 - b3) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a3), Math.abs(b3)) && Math.abs(a4 - b4) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a4), Math.abs(b4)) && Math.abs(a5 - b5) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a5), Math.abs(b5)) && Math.abs(a6 - b6) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a6), Math.abs(b6)) && Math.abs(a7 - b7) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a7), Math.abs(b7)) && Math.abs(a8 - b8) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a8), Math.abs(b8)) && Math.abs(a9 - b9) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a9), Math.abs(b9)) && Math.abs(a10 - b10) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a10), Math.abs(b10)) && Math.abs(a11 - b11) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a11), Math.abs(b11)) && Math.abs(a12 - b12) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a12), Math.abs(b12)) && Math.abs(a13 - b13) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a13), Math.abs(b13)) && Math.abs(a14 - b14) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a14), Math.abs(b14)) && Math.abs(a15 - b15) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a15), Math.abs(b15));\n}\n/**\r\n * Alias for {@link mat4.multiply}\r\n * @function\r\n */\n\nexport var mul = multiply;\n/**\r\n * Alias for {@link mat4.subtract}\r\n * @function\r\n */\n\nexport var sub = subtract;","import \"core-js/modules/es.math.hypot.js\";\nimport * as glMatrix from \"./common.js\";\n/**\r\n * 2 Dimensional Vector\r\n * @module vec2\r\n */\n\n/**\r\n * Creates a new, empty vec2\r\n *\r\n * @returns {vec2} a new 2D vector\r\n */\n\nexport function create() {\n  var out = new glMatrix.ARRAY_TYPE(2);\n\n  if (glMatrix.ARRAY_TYPE != Float32Array) {\n    out[0] = 0;\n    out[1] = 0;\n  }\n\n  return out;\n}\n/**\r\n * Creates a new vec2 initialized with values from an existing vector\r\n *\r\n * @param {ReadonlyVec2} a vector to clone\r\n * @returns {vec2} a new 2D vector\r\n */\n\nexport function clone(a) {\n  var out = new glMatrix.ARRAY_TYPE(2);\n  out[0] = a[0];\n  out[1] = a[1];\n  return out;\n}\n/**\r\n * Creates a new vec2 initialized with the given values\r\n *\r\n * @param {Number} x X component\r\n * @param {Number} y Y component\r\n * @returns {vec2} a new 2D vector\r\n */\n\nexport function fromValues(x, y) {\n  var out = new glMatrix.ARRAY_TYPE(2);\n  out[0] = x;\n  out[1] = y;\n  return out;\n}\n/**\r\n * Copy the values from one vec2 to another\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {ReadonlyVec2} a the source vector\r\n * @returns {vec2} out\r\n */\n\nexport function copy(out, a) {\n  out[0] = a[0];\n  out[1] = a[1];\n  return out;\n}\n/**\r\n * Set the components of a vec2 to the given values\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {Number} x X component\r\n * @param {Number} y Y component\r\n * @returns {vec2} out\r\n */\n\nexport function set(out, x, y) {\n  out[0] = x;\n  out[1] = y;\n  return out;\n}\n/**\r\n * Adds two vec2's\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {ReadonlyVec2} a the first operand\r\n * @param {ReadonlyVec2} b the second operand\r\n * @returns {vec2} out\r\n */\n\nexport function add(out, a, b) {\n  out[0] = a[0] + b[0];\n  out[1] = a[1] + b[1];\n  return out;\n}\n/**\r\n * Subtracts vector b from vector a\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {ReadonlyVec2} a the first operand\r\n * @param {ReadonlyVec2} b the second operand\r\n * @returns {vec2} out\r\n */\n\nexport function subtract(out, a, b) {\n  out[0] = a[0] - b[0];\n  out[1] = a[1] - b[1];\n  return out;\n}\n/**\r\n * Multiplies two vec2's\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {ReadonlyVec2} a the first operand\r\n * @param {ReadonlyVec2} b the second operand\r\n * @returns {vec2} out\r\n */\n\nexport function multiply(out, a, b) {\n  out[0] = a[0] * b[0];\n  out[1] = a[1] * b[1];\n  return out;\n}\n/**\r\n * Divides two vec2's\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {ReadonlyVec2} a the first operand\r\n * @param {ReadonlyVec2} b the second operand\r\n * @returns {vec2} out\r\n */\n\nexport function divide(out, a, b) {\n  out[0] = a[0] / b[0];\n  out[1] = a[1] / b[1];\n  return out;\n}\n/**\r\n * Math.ceil the components of a vec2\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {ReadonlyVec2} a vector to ceil\r\n * @returns {vec2} out\r\n */\n\nexport function ceil(out, a) {\n  out[0] = Math.ceil(a[0]);\n  out[1] = Math.ceil(a[1]);\n  return out;\n}\n/**\r\n * Math.floor the components of a vec2\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {ReadonlyVec2} a vector to floor\r\n * @returns {vec2} out\r\n */\n\nexport function floor(out, a) {\n  out[0] = Math.floor(a[0]);\n  out[1] = Math.floor(a[1]);\n  return out;\n}\n/**\r\n * Returns the minimum of two vec2's\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {ReadonlyVec2} a the first operand\r\n * @param {ReadonlyVec2} b the second operand\r\n * @returns {vec2} out\r\n */\n\nexport function min(out, a, b) {\n  out[0] = Math.min(a[0], b[0]);\n  out[1] = Math.min(a[1], b[1]);\n  return out;\n}\n/**\r\n * Returns the maximum of two vec2's\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {ReadonlyVec2} a the first operand\r\n * @param {ReadonlyVec2} b the second operand\r\n * @returns {vec2} out\r\n */\n\nexport function max(out, a, b) {\n  out[0] = Math.max(a[0], b[0]);\n  out[1] = Math.max(a[1], b[1]);\n  return out;\n}\n/**\r\n * Math.round the components of a vec2\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {ReadonlyVec2} a vector to round\r\n * @returns {vec2} out\r\n */\n\nexport function round(out, a) {\n  out[0] = Math.round(a[0]);\n  out[1] = Math.round(a[1]);\n  return out;\n}\n/**\r\n * Scales a vec2 by a scalar number\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {ReadonlyVec2} a the vector to scale\r\n * @param {Number} b amount to scale the vector by\r\n * @returns {vec2} out\r\n */\n\nexport function scale(out, a, b) {\n  out[0] = a[0] * b;\n  out[1] = a[1] * b;\n  return out;\n}\n/**\r\n * Adds two vec2's after scaling the second operand by a scalar value\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {ReadonlyVec2} a the first operand\r\n * @param {ReadonlyVec2} b the second operand\r\n * @param {Number} scale the amount to scale b by before adding\r\n * @returns {vec2} out\r\n */\n\nexport function scaleAndAdd(out, a, b, scale) {\n  out[0] = a[0] + b[0] * scale;\n  out[1] = a[1] + b[1] * scale;\n  return out;\n}\n/**\r\n * Calculates the euclidian distance between two vec2's\r\n *\r\n * @param {ReadonlyVec2} a the first operand\r\n * @param {ReadonlyVec2} b the second operand\r\n * @returns {Number} distance between a and b\r\n */\n\nexport function distance(a, b) {\n  var x = b[0] - a[0],\n      y = b[1] - a[1];\n  return Math.hypot(x, y);\n}\n/**\r\n * Calculates the squared euclidian distance between two vec2's\r\n *\r\n * @param {ReadonlyVec2} a the first operand\r\n * @param {ReadonlyVec2} b the second operand\r\n * @returns {Number} squared distance between a and b\r\n */\n\nexport function squaredDistance(a, b) {\n  var x = b[0] - a[0],\n      y = b[1] - a[1];\n  return x * x + y * y;\n}\n/**\r\n * Calculates the length of a vec2\r\n *\r\n * @param {ReadonlyVec2} a vector to calculate length of\r\n * @returns {Number} length of a\r\n */\n\nexport function length(a) {\n  var x = a[0],\n      y = a[1];\n  return Math.hypot(x, y);\n}\n/**\r\n * Calculates the squared length of a vec2\r\n *\r\n * @param {ReadonlyVec2} a vector to calculate squared length of\r\n * @returns {Number} squared length of a\r\n */\n\nexport function squaredLength(a) {\n  var x = a[0],\n      y = a[1];\n  return x * x + y * y;\n}\n/**\r\n * Negates the components of a vec2\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {ReadonlyVec2} a vector to negate\r\n * @returns {vec2} out\r\n */\n\nexport function negate(out, a) {\n  out[0] = -a[0];\n  out[1] = -a[1];\n  return out;\n}\n/**\r\n * Returns the inverse of the components of a vec2\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {ReadonlyVec2} a vector to invert\r\n * @returns {vec2} out\r\n */\n\nexport function inverse(out, a) {\n  out[0] = 1.0 / a[0];\n  out[1] = 1.0 / a[1];\n  return out;\n}\n/**\r\n * Normalize a vec2\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {ReadonlyVec2} a vector to normalize\r\n * @returns {vec2} out\r\n */\n\nexport function normalize(out, a) {\n  var x = a[0],\n      y = a[1];\n  var len = x * x + y * y;\n\n  if (len > 0) {\n    //TODO: evaluate use of glm_invsqrt here?\n    len = 1 / Math.sqrt(len);\n  }\n\n  out[0] = a[0] * len;\n  out[1] = a[1] * len;\n  return out;\n}\n/**\r\n * Calculates the dot product of two vec2's\r\n *\r\n * @param {ReadonlyVec2} a the first operand\r\n * @param {ReadonlyVec2} b the second operand\r\n * @returns {Number} dot product of a and b\r\n */\n\nexport function dot(a, b) {\n  return a[0] * b[0] + a[1] * b[1];\n}\n/**\r\n * Computes the cross product of two vec2's\r\n * Note that the cross product must by definition produce a 3D vector\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {ReadonlyVec2} a the first operand\r\n * @param {ReadonlyVec2} b the second operand\r\n * @returns {vec3} out\r\n */\n\nexport function cross(out, a, b) {\n  var z = a[0] * b[1] - a[1] * b[0];\n  out[0] = out[1] = 0;\n  out[2] = z;\n  return out;\n}\n/**\r\n * Performs a linear interpolation between two vec2's\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {ReadonlyVec2} a the first operand\r\n * @param {ReadonlyVec2} b the second operand\r\n * @param {Number} t interpolation amount, in the range [0-1], between the two inputs\r\n * @returns {vec2} out\r\n */\n\nexport function lerp(out, a, b, t) {\n  var ax = a[0],\n      ay = a[1];\n  out[0] = ax + t * (b[0] - ax);\n  out[1] = ay + t * (b[1] - ay);\n  return out;\n}\n/**\r\n * Generates a random vector with the given scale\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {Number} [scale] Length of the resulting vector. If ommitted, a unit vector will be returned\r\n * @returns {vec2} out\r\n */\n\nexport function random(out, scale) {\n  scale = scale || 1.0;\n  var r = glMatrix.RANDOM() * 2.0 * Math.PI;\n  out[0] = Math.cos(r) * scale;\n  out[1] = Math.sin(r) * scale;\n  return out;\n}\n/**\r\n * Transforms the vec2 with a mat2\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {ReadonlyVec2} a the vector to transform\r\n * @param {ReadonlyMat2} m matrix to transform with\r\n * @returns {vec2} out\r\n */\n\nexport function transformMat2(out, a, m) {\n  var x = a[0],\n      y = a[1];\n  out[0] = m[0] * x + m[2] * y;\n  out[1] = m[1] * x + m[3] * y;\n  return out;\n}\n/**\r\n * Transforms the vec2 with a mat2d\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {ReadonlyVec2} a the vector to transform\r\n * @param {ReadonlyMat2d} m matrix to transform with\r\n * @returns {vec2} out\r\n */\n\nexport function transformMat2d(out, a, m) {\n  var x = a[0],\n      y = a[1];\n  out[0] = m[0] * x + m[2] * y + m[4];\n  out[1] = m[1] * x + m[3] * y + m[5];\n  return out;\n}\n/**\r\n * Transforms the vec2 with a mat3\r\n * 3rd vector component is implicitly '1'\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {ReadonlyVec2} a the vector to transform\r\n * @param {ReadonlyMat3} m matrix to transform with\r\n * @returns {vec2} out\r\n */\n\nexport function transformMat3(out, a, m) {\n  var x = a[0],\n      y = a[1];\n  out[0] = m[0] * x + m[3] * y + m[6];\n  out[1] = m[1] * x + m[4] * y + m[7];\n  return out;\n}\n/**\r\n * Transforms the vec2 with a mat4\r\n * 3rd vector component is implicitly '0'\r\n * 4th vector component is implicitly '1'\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {ReadonlyVec2} a the vector to transform\r\n * @param {ReadonlyMat4} m matrix to transform with\r\n * @returns {vec2} out\r\n */\n\nexport function transformMat4(out, a, m) {\n  var x = a[0];\n  var y = a[1];\n  out[0] = m[0] * x + m[4] * y + m[12];\n  out[1] = m[1] * x + m[5] * y + m[13];\n  return out;\n}\n/**\r\n * Rotate a 2D vector\r\n * @param {vec2} out The receiving vec2\r\n * @param {ReadonlyVec2} a The vec2 point to rotate\r\n * @param {ReadonlyVec2} b The origin of the rotation\r\n * @param {Number} rad The angle of rotation in radians\r\n * @returns {vec2} out\r\n */\n\nexport function rotate(out, a, b, rad) {\n  //Translate point to the origin\n  var p0 = a[0] - b[0],\n      p1 = a[1] - b[1],\n      sinC = Math.sin(rad),\n      cosC = Math.cos(rad); //perform rotation and translate to correct position\n\n  out[0] = p0 * cosC - p1 * sinC + b[0];\n  out[1] = p0 * sinC + p1 * cosC + b[1];\n  return out;\n}\n/**\r\n * Get the angle between two 2D vectors\r\n * @param {ReadonlyVec2} a The first operand\r\n * @param {ReadonlyVec2} b The second operand\r\n * @returns {Number} The angle in radians\r\n */\n\nexport function angle(a, b) {\n  var x1 = a[0],\n      y1 = a[1],\n      x2 = b[0],\n      y2 = b[1],\n      // mag is the product of the magnitudes of a and b\n  mag = Math.sqrt(x1 * x1 + y1 * y1) * Math.sqrt(x2 * x2 + y2 * y2),\n      // mag &&.. short circuits if mag == 0\n  cosine = mag && (x1 * x2 + y1 * y2) / mag; // Math.min(Math.max(cosine, -1), 1) clamps the cosine between -1 and 1\n\n  return Math.acos(Math.min(Math.max(cosine, -1), 1));\n}\n/**\r\n * Set the components of a vec2 to zero\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @returns {vec2} out\r\n */\n\nexport function zero(out) {\n  out[0] = 0.0;\n  out[1] = 0.0;\n  return out;\n}\n/**\r\n * Returns a string representation of a vector\r\n *\r\n * @param {ReadonlyVec2} a vector to represent as a string\r\n * @returns {String} string representation of the vector\r\n */\n\nexport function str(a) {\n  return \"vec2(\" + a[0] + \", \" + a[1] + \")\";\n}\n/**\r\n * Returns whether or not the vectors exactly have the same elements in the same position (when compared with ===)\r\n *\r\n * @param {ReadonlyVec2} a The first vector.\r\n * @param {ReadonlyVec2} b The second vector.\r\n * @returns {Boolean} True if the vectors are equal, false otherwise.\r\n */\n\nexport function exactEquals(a, b) {\n  return a[0] === b[0] && a[1] === b[1];\n}\n/**\r\n * Returns whether or not the vectors have approximately the same elements in the same position.\r\n *\r\n * @param {ReadonlyVec2} a The first vector.\r\n * @param {ReadonlyVec2} b The second vector.\r\n * @returns {Boolean} True if the vectors are equal, false otherwise.\r\n */\n\nexport function equals(a, b) {\n  var a0 = a[0],\n      a1 = a[1];\n  var b0 = b[0],\n      b1 = b[1];\n  return Math.abs(a0 - b0) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a0), Math.abs(b0)) && Math.abs(a1 - b1) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a1), Math.abs(b1));\n}\n/**\r\n * Alias for {@link vec2.length}\r\n * @function\r\n */\n\nexport var len = length;\n/**\r\n * Alias for {@link vec2.subtract}\r\n * @function\r\n */\n\nexport var sub = subtract;\n/**\r\n * Alias for {@link vec2.multiply}\r\n * @function\r\n */\n\nexport var mul = multiply;\n/**\r\n * Alias for {@link vec2.divide}\r\n * @function\r\n */\n\nexport var div = divide;\n/**\r\n * Alias for {@link vec2.distance}\r\n * @function\r\n */\n\nexport var dist = distance;\n/**\r\n * Alias for {@link vec2.squaredDistance}\r\n * @function\r\n */\n\nexport var sqrDist = squaredDistance;\n/**\r\n * Alias for {@link vec2.squaredLength}\r\n * @function\r\n */\n\nexport var sqrLen = squaredLength;\n/**\r\n * Perform some operation over an array of vec2s.\r\n *\r\n * @param {Array} a the array of vectors to iterate over\r\n * @param {Number} stride Number of elements between the start of each vec2. If 0 assumes tightly packed\r\n * @param {Number} offset Number of elements to skip at the beginning of the array\r\n * @param {Number} count Number of vec2s to iterate over. If 0 iterates over entire array\r\n * @param {Function} fn Function to call for each vector in the array\r\n * @param {Object} [arg] additional argument to pass to fn\r\n * @returns {Array} a\r\n * @function\r\n */\n\nexport var forEach = function () {\n  var vec = create();\n  return function (a, stride, offset, count, fn, arg) {\n    var i, l;\n\n    if (!stride) {\n      stride = 2;\n    }\n\n    if (!offset) {\n      offset = 0;\n    }\n\n    if (count) {\n      l = Math.min(count * stride + offset, a.length);\n    } else {\n      l = a.length;\n    }\n\n    for (i = offset; i < l; i += stride) {\n      vec[0] = a[i];\n      vec[1] = a[i + 1];\n      fn(vec, vec, arg);\n      a[i] = vec[0];\n      a[i + 1] = vec[1];\n    }\n\n    return a;\n  };\n}();","import \"core-js/modules/es.math.hypot.js\";\nimport * as glMatrix from \"./common.js\";\n/**\r\n * 3 Dimensional Vector\r\n * @module vec3\r\n */\n\n/**\r\n * Creates a new, empty vec3\r\n *\r\n * @returns {vec3} a new 3D vector\r\n */\n\nexport function create() {\n  var out = new glMatrix.ARRAY_TYPE(3);\n\n  if (glMatrix.ARRAY_TYPE != Float32Array) {\n    out[0] = 0;\n    out[1] = 0;\n    out[2] = 0;\n  }\n\n  return out;\n}\n/**\r\n * Creates a new vec3 initialized with values from an existing vector\r\n *\r\n * @param {ReadonlyVec3} a vector to clone\r\n * @returns {vec3} a new 3D vector\r\n */\n\nexport function clone(a) {\n  var out = new glMatrix.ARRAY_TYPE(3);\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  return out;\n}\n/**\r\n * Calculates the length of a vec3\r\n *\r\n * @param {ReadonlyVec3} a vector to calculate length of\r\n * @returns {Number} length of a\r\n */\n\nexport function length(a) {\n  var x = a[0];\n  var y = a[1];\n  var z = a[2];\n  return Math.hypot(x, y, z);\n}\n/**\r\n * Creates a new vec3 initialized with the given values\r\n *\r\n * @param {Number} x X component\r\n * @param {Number} y Y component\r\n * @param {Number} z Z component\r\n * @returns {vec3} a new 3D vector\r\n */\n\nexport function fromValues(x, y, z) {\n  var out = new glMatrix.ARRAY_TYPE(3);\n  out[0] = x;\n  out[1] = y;\n  out[2] = z;\n  return out;\n}\n/**\r\n * Copy the values from one vec3 to another\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {ReadonlyVec3} a the source vector\r\n * @returns {vec3} out\r\n */\n\nexport function copy(out, a) {\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  return out;\n}\n/**\r\n * Set the components of a vec3 to the given values\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {Number} x X component\r\n * @param {Number} y Y component\r\n * @param {Number} z Z component\r\n * @returns {vec3} out\r\n */\n\nexport function set(out, x, y, z) {\n  out[0] = x;\n  out[1] = y;\n  out[2] = z;\n  return out;\n}\n/**\r\n * Adds two vec3's\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {ReadonlyVec3} a the first operand\r\n * @param {ReadonlyVec3} b the second operand\r\n * @returns {vec3} out\r\n */\n\nexport function add(out, a, b) {\n  out[0] = a[0] + b[0];\n  out[1] = a[1] + b[1];\n  out[2] = a[2] + b[2];\n  return out;\n}\n/**\r\n * Subtracts vector b from vector a\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {ReadonlyVec3} a the first operand\r\n * @param {ReadonlyVec3} b the second operand\r\n * @returns {vec3} out\r\n */\n\nexport function subtract(out, a, b) {\n  out[0] = a[0] - b[0];\n  out[1] = a[1] - b[1];\n  out[2] = a[2] - b[2];\n  return out;\n}\n/**\r\n * Multiplies two vec3's\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {ReadonlyVec3} a the first operand\r\n * @param {ReadonlyVec3} b the second operand\r\n * @returns {vec3} out\r\n */\n\nexport function multiply(out, a, b) {\n  out[0] = a[0] * b[0];\n  out[1] = a[1] * b[1];\n  out[2] = a[2] * b[2];\n  return out;\n}\n/**\r\n * Divides two vec3's\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {ReadonlyVec3} a the first operand\r\n * @param {ReadonlyVec3} b the second operand\r\n * @returns {vec3} out\r\n */\n\nexport function divide(out, a, b) {\n  out[0] = a[0] / b[0];\n  out[1] = a[1] / b[1];\n  out[2] = a[2] / b[2];\n  return out;\n}\n/**\r\n * Math.ceil the components of a vec3\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {ReadonlyVec3} a vector to ceil\r\n * @returns {vec3} out\r\n */\n\nexport function ceil(out, a) {\n  out[0] = Math.ceil(a[0]);\n  out[1] = Math.ceil(a[1]);\n  out[2] = Math.ceil(a[2]);\n  return out;\n}\n/**\r\n * Math.floor the components of a vec3\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {ReadonlyVec3} a vector to floor\r\n * @returns {vec3} out\r\n */\n\nexport function floor(out, a) {\n  out[0] = Math.floor(a[0]);\n  out[1] = Math.floor(a[1]);\n  out[2] = Math.floor(a[2]);\n  return out;\n}\n/**\r\n * Returns the minimum of two vec3's\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {ReadonlyVec3} a the first operand\r\n * @param {ReadonlyVec3} b the second operand\r\n * @returns {vec3} out\r\n */\n\nexport function min(out, a, b) {\n  out[0] = Math.min(a[0], b[0]);\n  out[1] = Math.min(a[1], b[1]);\n  out[2] = Math.min(a[2], b[2]);\n  return out;\n}\n/**\r\n * Returns the maximum of two vec3's\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {ReadonlyVec3} a the first operand\r\n * @param {ReadonlyVec3} b the second operand\r\n * @returns {vec3} out\r\n */\n\nexport function max(out, a, b) {\n  out[0] = Math.max(a[0], b[0]);\n  out[1] = Math.max(a[1], b[1]);\n  out[2] = Math.max(a[2], b[2]);\n  return out;\n}\n/**\r\n * Math.round the components of a vec3\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {ReadonlyVec3} a vector to round\r\n * @returns {vec3} out\r\n */\n\nexport function round(out, a) {\n  out[0] = Math.round(a[0]);\n  out[1] = Math.round(a[1]);\n  out[2] = Math.round(a[2]);\n  return out;\n}\n/**\r\n * Scales a vec3 by a scalar number\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {ReadonlyVec3} a the vector to scale\r\n * @param {Number} b amount to scale the vector by\r\n * @returns {vec3} out\r\n */\n\nexport function scale(out, a, b) {\n  out[0] = a[0] * b;\n  out[1] = a[1] * b;\n  out[2] = a[2] * b;\n  return out;\n}\n/**\r\n * Adds two vec3's after scaling the second operand by a scalar value\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {ReadonlyVec3} a the first operand\r\n * @param {ReadonlyVec3} b the second operand\r\n * @param {Number} scale the amount to scale b by before adding\r\n * @returns {vec3} out\r\n */\n\nexport function scaleAndAdd(out, a, b, scale) {\n  out[0] = a[0] + b[0] * scale;\n  out[1] = a[1] + b[1] * scale;\n  out[2] = a[2] + b[2] * scale;\n  return out;\n}\n/**\r\n * Calculates the euclidian distance between two vec3's\r\n *\r\n * @param {ReadonlyVec3} a the first operand\r\n * @param {ReadonlyVec3} b the second operand\r\n * @returns {Number} distance between a and b\r\n */\n\nexport function distance(a, b) {\n  var x = b[0] - a[0];\n  var y = b[1] - a[1];\n  var z = b[2] - a[2];\n  return Math.hypot(x, y, z);\n}\n/**\r\n * Calculates the squared euclidian distance between two vec3's\r\n *\r\n * @param {ReadonlyVec3} a the first operand\r\n * @param {ReadonlyVec3} b the second operand\r\n * @returns {Number} squared distance between a and b\r\n */\n\nexport function squaredDistance(a, b) {\n  var x = b[0] - a[0];\n  var y = b[1] - a[1];\n  var z = b[2] - a[2];\n  return x * x + y * y + z * z;\n}\n/**\r\n * Calculates the squared length of a vec3\r\n *\r\n * @param {ReadonlyVec3} a vector to calculate squared length of\r\n * @returns {Number} squared length of a\r\n */\n\nexport function squaredLength(a) {\n  var x = a[0];\n  var y = a[1];\n  var z = a[2];\n  return x * x + y * y + z * z;\n}\n/**\r\n * Negates the components of a vec3\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {ReadonlyVec3} a vector to negate\r\n * @returns {vec3} out\r\n */\n\nexport function negate(out, a) {\n  out[0] = -a[0];\n  out[1] = -a[1];\n  out[2] = -a[2];\n  return out;\n}\n/**\r\n * Returns the inverse of the components of a vec3\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {ReadonlyVec3} a vector to invert\r\n * @returns {vec3} out\r\n */\n\nexport function inverse(out, a) {\n  out[0] = 1.0 / a[0];\n  out[1] = 1.0 / a[1];\n  out[2] = 1.0 / a[2];\n  return out;\n}\n/**\r\n * Normalize a vec3\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {ReadonlyVec3} a vector to normalize\r\n * @returns {vec3} out\r\n */\n\nexport function normalize(out, a) {\n  var x = a[0];\n  var y = a[1];\n  var z = a[2];\n  var len = x * x + y * y + z * z;\n\n  if (len > 0) {\n    //TODO: evaluate use of glm_invsqrt here?\n    len = 1 / Math.sqrt(len);\n  }\n\n  out[0] = a[0] * len;\n  out[1] = a[1] * len;\n  out[2] = a[2] * len;\n  return out;\n}\n/**\r\n * Calculates the dot product of two vec3's\r\n *\r\n * @param {ReadonlyVec3} a the first operand\r\n * @param {ReadonlyVec3} b the second operand\r\n * @returns {Number} dot product of a and b\r\n */\n\nexport function dot(a, b) {\n  return a[0] * b[0] + a[1] * b[1] + a[2] * b[2];\n}\n/**\r\n * Computes the cross product of two vec3's\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {ReadonlyVec3} a the first operand\r\n * @param {ReadonlyVec3} b the second operand\r\n * @returns {vec3} out\r\n */\n\nexport function cross(out, a, b) {\n  var ax = a[0],\n      ay = a[1],\n      az = a[2];\n  var bx = b[0],\n      by = b[1],\n      bz = b[2];\n  out[0] = ay * bz - az * by;\n  out[1] = az * bx - ax * bz;\n  out[2] = ax * by - ay * bx;\n  return out;\n}\n/**\r\n * Performs a linear interpolation between two vec3's\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {ReadonlyVec3} a the first operand\r\n * @param {ReadonlyVec3} b the second operand\r\n * @param {Number} t interpolation amount, in the range [0-1], between the two inputs\r\n * @returns {vec3} out\r\n */\n\nexport function lerp(out, a, b, t) {\n  var ax = a[0];\n  var ay = a[1];\n  var az = a[2];\n  out[0] = ax + t * (b[0] - ax);\n  out[1] = ay + t * (b[1] - ay);\n  out[2] = az + t * (b[2] - az);\n  return out;\n}\n/**\r\n * Performs a hermite interpolation with two control points\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {ReadonlyVec3} a the first operand\r\n * @param {ReadonlyVec3} b the second operand\r\n * @param {ReadonlyVec3} c the third operand\r\n * @param {ReadonlyVec3} d the fourth operand\r\n * @param {Number} t interpolation amount, in the range [0-1], between the two inputs\r\n * @returns {vec3} out\r\n */\n\nexport function hermite(out, a, b, c, d, t) {\n  var factorTimes2 = t * t;\n  var factor1 = factorTimes2 * (2 * t - 3) + 1;\n  var factor2 = factorTimes2 * (t - 2) + t;\n  var factor3 = factorTimes2 * (t - 1);\n  var factor4 = factorTimes2 * (3 - 2 * t);\n  out[0] = a[0] * factor1 + b[0] * factor2 + c[0] * factor3 + d[0] * factor4;\n  out[1] = a[1] * factor1 + b[1] * factor2 + c[1] * factor3 + d[1] * factor4;\n  out[2] = a[2] * factor1 + b[2] * factor2 + c[2] * factor3 + d[2] * factor4;\n  return out;\n}\n/**\r\n * Performs a bezier interpolation with two control points\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {ReadonlyVec3} a the first operand\r\n * @param {ReadonlyVec3} b the second operand\r\n * @param {ReadonlyVec3} c the third operand\r\n * @param {ReadonlyVec3} d the fourth operand\r\n * @param {Number} t interpolation amount, in the range [0-1], between the two inputs\r\n * @returns {vec3} out\r\n */\n\nexport function bezier(out, a, b, c, d, t) {\n  var inverseFactor = 1 - t;\n  var inverseFactorTimesTwo = inverseFactor * inverseFactor;\n  var factorTimes2 = t * t;\n  var factor1 = inverseFactorTimesTwo * inverseFactor;\n  var factor2 = 3 * t * inverseFactorTimesTwo;\n  var factor3 = 3 * factorTimes2 * inverseFactor;\n  var factor4 = factorTimes2 * t;\n  out[0] = a[0] * factor1 + b[0] * factor2 + c[0] * factor3 + d[0] * factor4;\n  out[1] = a[1] * factor1 + b[1] * factor2 + c[1] * factor3 + d[1] * factor4;\n  out[2] = a[2] * factor1 + b[2] * factor2 + c[2] * factor3 + d[2] * factor4;\n  return out;\n}\n/**\r\n * Generates a random vector with the given scale\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {Number} [scale] Length of the resulting vector. If ommitted, a unit vector will be returned\r\n * @returns {vec3} out\r\n */\n\nexport function random(out, scale) {\n  scale = scale || 1.0;\n  var r = glMatrix.RANDOM() * 2.0 * Math.PI;\n  var z = glMatrix.RANDOM() * 2.0 - 1.0;\n  var zScale = Math.sqrt(1.0 - z * z) * scale;\n  out[0] = Math.cos(r) * zScale;\n  out[1] = Math.sin(r) * zScale;\n  out[2] = z * scale;\n  return out;\n}\n/**\r\n * Transforms the vec3 with a mat4.\r\n * 4th vector component is implicitly '1'\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {ReadonlyVec3} a the vector to transform\r\n * @param {ReadonlyMat4} m matrix to transform with\r\n * @returns {vec3} out\r\n */\n\nexport function transformMat4(out, a, m) {\n  var x = a[0],\n      y = a[1],\n      z = a[2];\n  var w = m[3] * x + m[7] * y + m[11] * z + m[15];\n  w = w || 1.0;\n  out[0] = (m[0] * x + m[4] * y + m[8] * z + m[12]) / w;\n  out[1] = (m[1] * x + m[5] * y + m[9] * z + m[13]) / w;\n  out[2] = (m[2] * x + m[6] * y + m[10] * z + m[14]) / w;\n  return out;\n}\n/**\r\n * Transforms the vec3 with a mat3.\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {ReadonlyVec3} a the vector to transform\r\n * @param {ReadonlyMat3} m the 3x3 matrix to transform with\r\n * @returns {vec3} out\r\n */\n\nexport function transformMat3(out, a, m) {\n  var x = a[0],\n      y = a[1],\n      z = a[2];\n  out[0] = x * m[0] + y * m[3] + z * m[6];\n  out[1] = x * m[1] + y * m[4] + z * m[7];\n  out[2] = x * m[2] + y * m[5] + z * m[8];\n  return out;\n}\n/**\r\n * Transforms the vec3 with a quat\r\n * Can also be used for dual quaternions. (Multiply it with the real part)\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {ReadonlyVec3} a the vector to transform\r\n * @param {ReadonlyQuat} q quaternion to transform with\r\n * @returns {vec3} out\r\n */\n\nexport function transformQuat(out, a, q) {\n  // benchmarks: https://jsperf.com/quaternion-transform-vec3-implementations-fixed\n  var qx = q[0],\n      qy = q[1],\n      qz = q[2],\n      qw = q[3];\n  var x = a[0],\n      y = a[1],\n      z = a[2]; // var qvec = [qx, qy, qz];\n  // var uv = vec3.cross([], qvec, a);\n\n  var uvx = qy * z - qz * y,\n      uvy = qz * x - qx * z,\n      uvz = qx * y - qy * x; // var uuv = vec3.cross([], qvec, uv);\n\n  var uuvx = qy * uvz - qz * uvy,\n      uuvy = qz * uvx - qx * uvz,\n      uuvz = qx * uvy - qy * uvx; // vec3.scale(uv, uv, 2 * w);\n\n  var w2 = qw * 2;\n  uvx *= w2;\n  uvy *= w2;\n  uvz *= w2; // vec3.scale(uuv, uuv, 2);\n\n  uuvx *= 2;\n  uuvy *= 2;\n  uuvz *= 2; // return vec3.add(out, a, vec3.add(out, uv, uuv));\n\n  out[0] = x + uvx + uuvx;\n  out[1] = y + uvy + uuvy;\n  out[2] = z + uvz + uuvz;\n  return out;\n}\n/**\r\n * Rotate a 3D vector around the x-axis\r\n * @param {vec3} out The receiving vec3\r\n * @param {ReadonlyVec3} a The vec3 point to rotate\r\n * @param {ReadonlyVec3} b The origin of the rotation\r\n * @param {Number} rad The angle of rotation in radians\r\n * @returns {vec3} out\r\n */\n\nexport function rotateX(out, a, b, rad) {\n  var p = [],\n      r = []; //Translate point to the origin\n\n  p[0] = a[0] - b[0];\n  p[1] = a[1] - b[1];\n  p[2] = a[2] - b[2]; //perform rotation\n\n  r[0] = p[0];\n  r[1] = p[1] * Math.cos(rad) - p[2] * Math.sin(rad);\n  r[2] = p[1] * Math.sin(rad) + p[2] * Math.cos(rad); //translate to correct position\n\n  out[0] = r[0] + b[0];\n  out[1] = r[1] + b[1];\n  out[2] = r[2] + b[2];\n  return out;\n}\n/**\r\n * Rotate a 3D vector around the y-axis\r\n * @param {vec3} out The receiving vec3\r\n * @param {ReadonlyVec3} a The vec3 point to rotate\r\n * @param {ReadonlyVec3} b The origin of the rotation\r\n * @param {Number} rad The angle of rotation in radians\r\n * @returns {vec3} out\r\n */\n\nexport function rotateY(out, a, b, rad) {\n  var p = [],\n      r = []; //Translate point to the origin\n\n  p[0] = a[0] - b[0];\n  p[1] = a[1] - b[1];\n  p[2] = a[2] - b[2]; //perform rotation\n\n  r[0] = p[2] * Math.sin(rad) + p[0] * Math.cos(rad);\n  r[1] = p[1];\n  r[2] = p[2] * Math.cos(rad) - p[0] * Math.sin(rad); //translate to correct position\n\n  out[0] = r[0] + b[0];\n  out[1] = r[1] + b[1];\n  out[2] = r[2] + b[2];\n  return out;\n}\n/**\r\n * Rotate a 3D vector around the z-axis\r\n * @param {vec3} out The receiving vec3\r\n * @param {ReadonlyVec3} a The vec3 point to rotate\r\n * @param {ReadonlyVec3} b The origin of the rotation\r\n * @param {Number} rad The angle of rotation in radians\r\n * @returns {vec3} out\r\n */\n\nexport function rotateZ(out, a, b, rad) {\n  var p = [],\n      r = []; //Translate point to the origin\n\n  p[0] = a[0] - b[0];\n  p[1] = a[1] - b[1];\n  p[2] = a[2] - b[2]; //perform rotation\n\n  r[0] = p[0] * Math.cos(rad) - p[1] * Math.sin(rad);\n  r[1] = p[0] * Math.sin(rad) + p[1] * Math.cos(rad);\n  r[2] = p[2]; //translate to correct position\n\n  out[0] = r[0] + b[0];\n  out[1] = r[1] + b[1];\n  out[2] = r[2] + b[2];\n  return out;\n}\n/**\r\n * Get the angle between two 3D vectors\r\n * @param {ReadonlyVec3} a The first operand\r\n * @param {ReadonlyVec3} b The second operand\r\n * @returns {Number} The angle in radians\r\n */\n\nexport function angle(a, b) {\n  var ax = a[0],\n      ay = a[1],\n      az = a[2],\n      bx = b[0],\n      by = b[1],\n      bz = b[2],\n      mag1 = Math.sqrt(ax * ax + ay * ay + az * az),\n      mag2 = Math.sqrt(bx * bx + by * by + bz * bz),\n      mag = mag1 * mag2,\n      cosine = mag && dot(a, b) / mag;\n  return Math.acos(Math.min(Math.max(cosine, -1), 1));\n}\n/**\r\n * Set the components of a vec3 to zero\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @returns {vec3} out\r\n */\n\nexport function zero(out) {\n  out[0] = 0.0;\n  out[1] = 0.0;\n  out[2] = 0.0;\n  return out;\n}\n/**\r\n * Returns a string representation of a vector\r\n *\r\n * @param {ReadonlyVec3} a vector to represent as a string\r\n * @returns {String} string representation of the vector\r\n */\n\nexport function str(a) {\n  return \"vec3(\" + a[0] + \", \" + a[1] + \", \" + a[2] + \")\";\n}\n/**\r\n * Returns whether or not the vectors have exactly the same elements in the same position (when compared with ===)\r\n *\r\n * @param {ReadonlyVec3} a The first vector.\r\n * @param {ReadonlyVec3} b The second vector.\r\n * @returns {Boolean} True if the vectors are equal, false otherwise.\r\n */\n\nexport function exactEquals(a, b) {\n  return a[0] === b[0] && a[1] === b[1] && a[2] === b[2];\n}\n/**\r\n * Returns whether or not the vectors have approximately the same elements in the same position.\r\n *\r\n * @param {ReadonlyVec3} a The first vector.\r\n * @param {ReadonlyVec3} b The second vector.\r\n * @returns {Boolean} True if the vectors are equal, false otherwise.\r\n */\n\nexport function equals(a, b) {\n  var a0 = a[0],\n      a1 = a[1],\n      a2 = a[2];\n  var b0 = b[0],\n      b1 = b[1],\n      b2 = b[2];\n  return Math.abs(a0 - b0) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a0), Math.abs(b0)) && Math.abs(a1 - b1) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a1), Math.abs(b1)) && Math.abs(a2 - b2) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a2), Math.abs(b2));\n}\n/**\r\n * Alias for {@link vec3.subtract}\r\n * @function\r\n */\n\nexport var sub = subtract;\n/**\r\n * Alias for {@link vec3.multiply}\r\n * @function\r\n */\n\nexport var mul = multiply;\n/**\r\n * Alias for {@link vec3.divide}\r\n * @function\r\n */\n\nexport var div = divide;\n/**\r\n * Alias for {@link vec3.distance}\r\n * @function\r\n */\n\nexport var dist = distance;\n/**\r\n * Alias for {@link vec3.squaredDistance}\r\n * @function\r\n */\n\nexport var sqrDist = squaredDistance;\n/**\r\n * Alias for {@link vec3.length}\r\n * @function\r\n */\n\nexport var len = length;\n/**\r\n * Alias for {@link vec3.squaredLength}\r\n * @function\r\n */\n\nexport var sqrLen = squaredLength;\n/**\r\n * Perform some operation over an array of vec3s.\r\n *\r\n * @param {Array} a the array of vectors to iterate over\r\n * @param {Number} stride Number of elements between the start of each vec3. If 0 assumes tightly packed\r\n * @param {Number} offset Number of elements to skip at the beginning of the array\r\n * @param {Number} count Number of vec3s to iterate over. If 0 iterates over entire array\r\n * @param {Function} fn Function to call for each vector in the array\r\n * @param {Object} [arg] additional argument to pass to fn\r\n * @returns {Array} a\r\n * @function\r\n */\n\nexport var forEach = function () {\n  var vec = create();\n  return function (a, stride, offset, count, fn, arg) {\n    var i, l;\n\n    if (!stride) {\n      stride = 3;\n    }\n\n    if (!offset) {\n      offset = 0;\n    }\n\n    if (count) {\n      l = Math.min(count * stride + offset, a.length);\n    } else {\n      l = a.length;\n    }\n\n    for (i = offset; i < l; i += stride) {\n      vec[0] = a[i];\n      vec[1] = a[i + 1];\n      vec[2] = a[i + 2];\n      fn(vec, vec, arg);\n      a[i] = vec[0];\n      a[i + 1] = vec[1];\n      a[i + 2] = vec[2];\n    }\n\n    return a;\n  };\n}();","export default function assert(condition, message) {\n  if (!condition) {\n    throw new Error(message || '@math.gl/web-mercator: assertion failed.');\n  }\n}","import _slicedToArray from \"/Users/rustomichhaporia/GitHub/hofstede/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";\nimport { createMat4, transformVector, log2 } from './math-utils';\nimport * as mat4 from 'gl-matrix/mat4';\nimport * as vec2 from 'gl-matrix/vec2';\nimport * as vec3 from 'gl-matrix/vec3';\nimport assert from './assert';\nvar PI = Math.PI;\nvar PI_4 = PI / 4;\nvar DEGREES_TO_RADIANS = PI / 180;\nvar RADIANS_TO_DEGREES = 180 / PI;\nvar TILE_SIZE = 512;\nvar EARTH_CIRCUMFERENCE = 40.03e6;\nexport var DEFAULT_ALTITUDE = 1.5;\nexport function zoomToScale(zoom) {\n  return Math.pow(2, zoom);\n}\nexport function scaleToZoom(scale) {\n  return log2(scale);\n}\nexport function lngLatToWorld(_ref) {\n  var _ref2 = _slicedToArray(_ref, 2),\n      lng = _ref2[0],\n      lat = _ref2[1];\n\n  assert(Number.isFinite(lng));\n  assert(Number.isFinite(lat) && lat >= -90 && lat <= 90, 'invalid latitude');\n  var lambda2 = lng * DEGREES_TO_RADIANS;\n  var phi2 = lat * DEGREES_TO_RADIANS;\n  var x = TILE_SIZE * (lambda2 + PI) / (2 * PI);\n  var y = TILE_SIZE * (PI + Math.log(Math.tan(PI_4 + phi2 * 0.5))) / (2 * PI);\n  return [x, y];\n}\nexport function worldToLngLat(_ref3) {\n  var _ref4 = _slicedToArray(_ref3, 2),\n      x = _ref4[0],\n      y = _ref4[1];\n\n  var lambda2 = x / TILE_SIZE * (2 * PI) - PI;\n  var phi2 = 2 * (Math.atan(Math.exp(y / TILE_SIZE * (2 * PI) - PI)) - PI_4);\n  return [lambda2 * RADIANS_TO_DEGREES, phi2 * RADIANS_TO_DEGREES];\n}\nexport function getMeterZoom(_ref5) {\n  var latitude = _ref5.latitude;\n  assert(Number.isFinite(latitude));\n  var latCosine = Math.cos(latitude * DEGREES_TO_RADIANS);\n  return scaleToZoom(EARTH_CIRCUMFERENCE * latCosine) - 9;\n}\nexport function getDistanceScales(_ref6) {\n  var latitude = _ref6.latitude,\n      longitude = _ref6.longitude,\n      _ref6$highPrecision = _ref6.highPrecision,\n      highPrecision = _ref6$highPrecision === void 0 ? false : _ref6$highPrecision;\n  assert(Number.isFinite(latitude) && Number.isFinite(longitude));\n  var result = {};\n  var worldSize = TILE_SIZE;\n  var latCosine = Math.cos(latitude * DEGREES_TO_RADIANS);\n  var unitsPerDegreeX = worldSize / 360;\n  var unitsPerDegreeY = unitsPerDegreeX / latCosine;\n  var altUnitsPerMeter = worldSize / EARTH_CIRCUMFERENCE / latCosine;\n  result.unitsPerMeter = [altUnitsPerMeter, altUnitsPerMeter, altUnitsPerMeter];\n  result.metersPerUnit = [1 / altUnitsPerMeter, 1 / altUnitsPerMeter, 1 / altUnitsPerMeter];\n  result.unitsPerDegree = [unitsPerDegreeX, unitsPerDegreeY, altUnitsPerMeter];\n  result.degreesPerUnit = [1 / unitsPerDegreeX, 1 / unitsPerDegreeY, 1 / altUnitsPerMeter];\n\n  if (highPrecision) {\n    var latCosine2 = DEGREES_TO_RADIANS * Math.tan(latitude * DEGREES_TO_RADIANS) / latCosine;\n    var unitsPerDegreeY2 = unitsPerDegreeX * latCosine2 / 2;\n    var altUnitsPerDegree2 = worldSize / EARTH_CIRCUMFERENCE * latCosine2;\n    var altUnitsPerMeter2 = altUnitsPerDegree2 / unitsPerDegreeY * altUnitsPerMeter;\n    result.unitsPerDegree2 = [0, unitsPerDegreeY2, altUnitsPerDegree2];\n    result.unitsPerMeter2 = [altUnitsPerMeter2, 0, altUnitsPerMeter2];\n  }\n\n  return result;\n}\nexport function addMetersToLngLat(lngLatZ, xyz) {\n  var _lngLatZ = _slicedToArray(lngLatZ, 3),\n      longitude = _lngLatZ[0],\n      latitude = _lngLatZ[1],\n      z0 = _lngLatZ[2];\n\n  var _xyz = _slicedToArray(xyz, 3),\n      x = _xyz[0],\n      y = _xyz[1],\n      z = _xyz[2];\n\n  var _getDistanceScales = getDistanceScales({\n    longitude: longitude,\n    latitude: latitude,\n    highPrecision: true\n  }),\n      unitsPerMeter = _getDistanceScales.unitsPerMeter,\n      unitsPerMeter2 = _getDistanceScales.unitsPerMeter2;\n\n  var worldspace = lngLatToWorld(lngLatZ);\n  worldspace[0] += x * (unitsPerMeter[0] + unitsPerMeter2[0] * y);\n  worldspace[1] += y * (unitsPerMeter[1] + unitsPerMeter2[1] * y);\n  var newLngLat = worldToLngLat(worldspace);\n  var newZ = (z0 || 0) + (z || 0);\n  return Number.isFinite(z0) || Number.isFinite(z) ? [newLngLat[0], newLngLat[1], newZ] : newLngLat;\n}\nexport function getViewMatrix(_ref7) {\n  var height = _ref7.height,\n      pitch = _ref7.pitch,\n      bearing = _ref7.bearing,\n      altitude = _ref7.altitude,\n      scale = _ref7.scale,\n      _ref7$center = _ref7.center,\n      center = _ref7$center === void 0 ? null : _ref7$center;\n  var vm = createMat4();\n  mat4.translate(vm, vm, [0, 0, -altitude]);\n  mat4.rotateX(vm, vm, -pitch * DEGREES_TO_RADIANS);\n  mat4.rotateZ(vm, vm, bearing * DEGREES_TO_RADIANS);\n  scale /= height;\n  mat4.scale(vm, vm, [scale, scale, scale]);\n\n  if (center) {\n    mat4.translate(vm, vm, vec3.negate([], center));\n  }\n\n  return vm;\n}\nexport function getProjectionParameters(_ref8) {\n  var width = _ref8.width,\n      height = _ref8.height,\n      _ref8$fovy = _ref8.fovy,\n      fovy = _ref8$fovy === void 0 ? altitudeToFovy(DEFAULT_ALTITUDE) : _ref8$fovy,\n      altitude = _ref8.altitude,\n      _ref8$pitch = _ref8.pitch,\n      pitch = _ref8$pitch === void 0 ? 0 : _ref8$pitch,\n      _ref8$nearZMultiplier = _ref8.nearZMultiplier,\n      nearZMultiplier = _ref8$nearZMultiplier === void 0 ? 1 : _ref8$nearZMultiplier,\n      _ref8$farZMultiplier = _ref8.farZMultiplier,\n      farZMultiplier = _ref8$farZMultiplier === void 0 ? 1 : _ref8$farZMultiplier;\n\n  if (altitude !== undefined) {\n    fovy = altitudeToFovy(altitude);\n  }\n\n  var halfFov = 0.5 * fovy * DEGREES_TO_RADIANS;\n  var focalDistance = fovyToAltitude(fovy);\n  var pitchRadians = pitch * DEGREES_TO_RADIANS;\n  var topHalfSurfaceDistance = Math.sin(halfFov) * focalDistance / Math.sin(Math.min(Math.max(Math.PI / 2 - pitchRadians - halfFov, 0.01), Math.PI - 0.01));\n  var farZ = Math.sin(pitchRadians) * topHalfSurfaceDistance + focalDistance;\n  return {\n    fov: 2 * halfFov,\n    aspect: width / height,\n    focalDistance: focalDistance,\n    near: nearZMultiplier,\n    far: farZ * farZMultiplier\n  };\n}\nexport function getProjectionMatrix(_ref9) {\n  var width = _ref9.width,\n      height = _ref9.height,\n      pitch = _ref9.pitch,\n      altitude = _ref9.altitude,\n      fovy = _ref9.fovy,\n      nearZMultiplier = _ref9.nearZMultiplier,\n      farZMultiplier = _ref9.farZMultiplier;\n\n  var _getProjectionParamet = getProjectionParameters({\n    width: width,\n    height: height,\n    altitude: altitude,\n    fovy: fovy,\n    pitch: pitch,\n    nearZMultiplier: nearZMultiplier,\n    farZMultiplier: farZMultiplier\n  }),\n      fov = _getProjectionParamet.fov,\n      aspect = _getProjectionParamet.aspect,\n      near = _getProjectionParamet.near,\n      far = _getProjectionParamet.far;\n\n  var projectionMatrix = mat4.perspective([], fov, aspect, near, far);\n  return projectionMatrix;\n}\nexport function altitudeToFovy(altitude) {\n  return 2 * Math.atan(0.5 / altitude) * RADIANS_TO_DEGREES;\n}\nexport function fovyToAltitude(fovy) {\n  return 0.5 / Math.tan(0.5 * fovy * DEGREES_TO_RADIANS);\n}\nexport function worldToPixels(xyz, pixelProjectionMatrix) {\n  var _xyz2 = _slicedToArray(xyz, 3),\n      x = _xyz2[0],\n      y = _xyz2[1],\n      _xyz2$ = _xyz2[2],\n      z = _xyz2$ === void 0 ? 0 : _xyz2$;\n\n  assert(Number.isFinite(x) && Number.isFinite(y) && Number.isFinite(z));\n  return transformVector(pixelProjectionMatrix, [x, y, z, 1]);\n}\nexport function pixelsToWorld(xyz, pixelUnprojectionMatrix) {\n  var targetZ = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 0;\n\n  var _xyz3 = _slicedToArray(xyz, 3),\n      x = _xyz3[0],\n      y = _xyz3[1],\n      z = _xyz3[2];\n\n  assert(Number.isFinite(x) && Number.isFinite(y), 'invalid pixel coordinate');\n\n  if (Number.isFinite(z)) {\n    var coord = transformVector(pixelUnprojectionMatrix, [x, y, z, 1]);\n    return coord;\n  }\n\n  var coord0 = transformVector(pixelUnprojectionMatrix, [x, y, 0, 1]);\n  var coord1 = transformVector(pixelUnprojectionMatrix, [x, y, 1, 1]);\n  var z0 = coord0[2];\n  var z1 = coord1[2];\n  var t = z0 === z1 ? 0 : ((targetZ || 0) - z0) / (z1 - z0);\n  return vec2.lerp([], coord0, coord1, t);\n}","import _slicedToArray from \"/Users/rustomichhaporia/GitHub/hofstede/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";\nimport WebMercatorViewport from './web-mercator-viewport';\nimport assert from './assert';\nimport { log2 } from './math-utils';\nexport default function fitBounds(_ref) {\n  var width = _ref.width,\n      height = _ref.height,\n      bounds = _ref.bounds,\n      _ref$minExtent = _ref.minExtent,\n      minExtent = _ref$minExtent === void 0 ? 0 : _ref$minExtent,\n      _ref$maxZoom = _ref.maxZoom,\n      maxZoom = _ref$maxZoom === void 0 ? 24 : _ref$maxZoom,\n      _ref$padding = _ref.padding,\n      padding = _ref$padding === void 0 ? 0 : _ref$padding,\n      _ref$offset = _ref.offset,\n      offset = _ref$offset === void 0 ? [0, 0] : _ref$offset;\n\n  var _bounds = _slicedToArray(bounds, 2),\n      _bounds$ = _slicedToArray(_bounds[0], 2),\n      west = _bounds$[0],\n      south = _bounds$[1],\n      _bounds$2 = _slicedToArray(_bounds[1], 2),\n      east = _bounds$2[0],\n      north = _bounds$2[1];\n\n  if (Number.isFinite(padding)) {\n    var p = padding;\n    padding = {\n      top: p,\n      bottom: p,\n      left: p,\n      right: p\n    };\n  } else {\n    assert(Number.isFinite(padding.top) && Number.isFinite(padding.bottom) && Number.isFinite(padding.left) && Number.isFinite(padding.right));\n  }\n\n  var viewport = new WebMercatorViewport({\n    width: width,\n    height: height,\n    longitude: 0,\n    latitude: 0,\n    zoom: 0\n  });\n  var nw = viewport.project([west, north]);\n  var se = viewport.project([east, south]);\n  var size = [Math.max(Math.abs(se[0] - nw[0]), minExtent), Math.max(Math.abs(se[1] - nw[1]), minExtent)];\n  var targetSize = [width - padding.left - padding.right - Math.abs(offset[0]) * 2, height - padding.top - padding.bottom - Math.abs(offset[1]) * 2];\n  assert(targetSize[0] > 0 && targetSize[1] > 0);\n  var scaleX = targetSize[0] / size[0];\n  var scaleY = targetSize[1] / size[1];\n  var offsetX = (padding.right - padding.left) / 2 / scaleX;\n  var offsetY = (padding.bottom - padding.top) / 2 / scaleY;\n  var center = [(se[0] + nw[0]) / 2 + offsetX, (se[1] + nw[1]) / 2 + offsetY];\n  var centerLngLat = viewport.unproject(center);\n  var zoom = Math.min(maxZoom, viewport.zoom + log2(Math.abs(Math.min(scaleX, scaleY))));\n  assert(Number.isFinite(zoom));\n  return {\n    longitude: centerLngLat[0],\n    latitude: centerLngLat[1],\n    zoom: zoom\n  };\n}","import { worldToLngLat } from './web-mercator-utils';\nimport * as vec2 from 'gl-matrix/vec2';\nimport { transformVector } from './math-utils';\nvar DEGREES_TO_RADIANS = Math.PI / 180;\nexport default function getBounds(viewport) {\n  var z = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n  var width = viewport.width,\n      height = viewport.height,\n      unproject = viewport.unproject;\n  var unprojectOps = {\n    targetZ: z\n  };\n  var bottomLeft = unproject([0, height], unprojectOps);\n  var bottomRight = unproject([width, height], unprojectOps);\n  var topLeft;\n  var topRight;\n  var halfFov = viewport.fovy ? 0.5 * viewport.fovy * DEGREES_TO_RADIANS : Math.atan(0.5 / viewport.altitude);\n  var angleToGround = (90 - viewport.pitch) * DEGREES_TO_RADIANS;\n\n  if (halfFov > angleToGround - 0.01) {\n    topLeft = unprojectOnFarPlane(viewport, 0, z);\n    topRight = unprojectOnFarPlane(viewport, width, z);\n  } else {\n    topLeft = unproject([0, 0], unprojectOps);\n    topRight = unproject([width, 0], unprojectOps);\n  }\n\n  return [bottomLeft, bottomRight, topRight, topLeft];\n}\n\nfunction unprojectOnFarPlane(viewport, x, targetZ) {\n  var pixelUnprojectionMatrix = viewport.pixelUnprojectionMatrix;\n  var coord0 = transformVector(pixelUnprojectionMatrix, [x, 0, 1, 1]);\n  var coord1 = transformVector(pixelUnprojectionMatrix, [x, viewport.height, 1, 1]);\n  var z = targetZ * viewport.distanceScales.unitsPerMeter[2];\n  var t = (z - coord0[2]) / (coord1[2] - coord0[2]);\n  var coord = vec2.lerp([], coord0, coord1, t);\n  var result = worldToLngLat(coord);\n  result[2] = targetZ;\n  return result;\n}","import _toConsumableArray from \"/Users/rustomichhaporia/GitHub/hofstede/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";\nimport _slicedToArray from \"/Users/rustomichhaporia/GitHub/hofstede/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";\nimport _classCallCheck from \"/Users/rustomichhaporia/GitHub/hofstede/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";\nimport _createClass from \"/Users/rustomichhaporia/GitHub/hofstede/node_modules/@babel/runtime/helpers/esm/createClass.js\";\nimport { createMat4 } from './math-utils';\nimport { zoomToScale, pixelsToWorld, lngLatToWorld, worldToLngLat, worldToPixels, altitudeToFovy, fovyToAltitude, DEFAULT_ALTITUDE, getProjectionMatrix, getDistanceScales, getViewMatrix } from './web-mercator-utils';\nimport _fitBounds from './fit-bounds';\nimport getBounds from './get-bounds';\nimport * as mat4 from 'gl-matrix/mat4';\nimport * as vec2 from 'gl-matrix/vec2';\nimport * as vec3 from 'gl-matrix/vec3';\n\nvar WebMercatorViewport = /*#__PURE__*/function () {\n  function WebMercatorViewport() {\n    var _ref = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {\n      width: 1,\n      height: 1\n    },\n        width = _ref.width,\n        height = _ref.height,\n        _ref$latitude = _ref.latitude,\n        latitude = _ref$latitude === void 0 ? 0 : _ref$latitude,\n        _ref$longitude = _ref.longitude,\n        longitude = _ref$longitude === void 0 ? 0 : _ref$longitude,\n        _ref$zoom = _ref.zoom,\n        zoom = _ref$zoom === void 0 ? 0 : _ref$zoom,\n        _ref$pitch = _ref.pitch,\n        pitch = _ref$pitch === void 0 ? 0 : _ref$pitch,\n        _ref$bearing = _ref.bearing,\n        bearing = _ref$bearing === void 0 ? 0 : _ref$bearing,\n        _ref$altitude = _ref.altitude,\n        altitude = _ref$altitude === void 0 ? null : _ref$altitude,\n        _ref$fovy = _ref.fovy,\n        fovy = _ref$fovy === void 0 ? null : _ref$fovy,\n        _ref$position = _ref.position,\n        position = _ref$position === void 0 ? null : _ref$position,\n        _ref$nearZMultiplier = _ref.nearZMultiplier,\n        nearZMultiplier = _ref$nearZMultiplier === void 0 ? 0.02 : _ref$nearZMultiplier,\n        _ref$farZMultiplier = _ref.farZMultiplier,\n        farZMultiplier = _ref$farZMultiplier === void 0 ? 1.01 : _ref$farZMultiplier;\n\n    _classCallCheck(this, WebMercatorViewport);\n\n    width = width || 1;\n    height = height || 1;\n\n    if (fovy === null && altitude === null) {\n      altitude = DEFAULT_ALTITUDE;\n      fovy = altitudeToFovy(altitude);\n    } else if (fovy === null) {\n      fovy = altitudeToFovy(altitude);\n    } else if (altitude === null) {\n      altitude = fovyToAltitude(fovy);\n    }\n\n    var scale = zoomToScale(zoom);\n    altitude = Math.max(0.75, altitude);\n    var distanceScales = getDistanceScales({\n      longitude: longitude,\n      latitude: latitude\n    });\n    var center = lngLatToWorld([longitude, latitude]);\n    center[2] = 0;\n\n    if (position) {\n      vec3.add(center, center, vec3.mul([], position, distanceScales.unitsPerMeter));\n    }\n\n    this.projectionMatrix = getProjectionMatrix({\n      width: width,\n      height: height,\n      pitch: pitch,\n      fovy: fovy,\n      nearZMultiplier: nearZMultiplier,\n      farZMultiplier: farZMultiplier\n    });\n    this.viewMatrix = getViewMatrix({\n      height: height,\n      scale: scale,\n      center: center,\n      pitch: pitch,\n      bearing: bearing,\n      altitude: altitude\n    });\n    this.width = width;\n    this.height = height;\n    this.scale = scale;\n    this.latitude = latitude;\n    this.longitude = longitude;\n    this.zoom = zoom;\n    this.pitch = pitch;\n    this.bearing = bearing;\n    this.altitude = altitude;\n    this.fovy = fovy;\n    this.center = center;\n    this.meterOffset = position || [0, 0, 0];\n    this.distanceScales = distanceScales;\n\n    this._initMatrices();\n\n    this.equals = this.equals.bind(this);\n    this.project = this.project.bind(this);\n    this.unproject = this.unproject.bind(this);\n    this.projectPosition = this.projectPosition.bind(this);\n    this.unprojectPosition = this.unprojectPosition.bind(this);\n    Object.freeze(this);\n  }\n\n  _createClass(WebMercatorViewport, [{\n    key: \"_initMatrices\",\n    value: function _initMatrices() {\n      var width = this.width,\n          height = this.height,\n          projectionMatrix = this.projectionMatrix,\n          viewMatrix = this.viewMatrix;\n      var vpm = createMat4();\n      mat4.multiply(vpm, vpm, projectionMatrix);\n      mat4.multiply(vpm, vpm, viewMatrix);\n      this.viewProjectionMatrix = vpm;\n      var m = createMat4();\n      mat4.scale(m, m, [width / 2, -height / 2, 1]);\n      mat4.translate(m, m, [1, -1, 0]);\n      mat4.multiply(m, m, vpm);\n      var mInverse = mat4.invert(createMat4(), m);\n\n      if (!mInverse) {\n        throw new Error('Pixel project matrix not invertible');\n      }\n\n      this.pixelProjectionMatrix = m;\n      this.pixelUnprojectionMatrix = mInverse;\n    }\n  }, {\n    key: \"equals\",\n    value: function equals(viewport) {\n      if (!(viewport instanceof WebMercatorViewport)) {\n        return false;\n      }\n\n      return viewport.width === this.width && viewport.height === this.height && mat4.equals(viewport.projectionMatrix, this.projectionMatrix) && mat4.equals(viewport.viewMatrix, this.viewMatrix);\n    }\n  }, {\n    key: \"project\",\n    value: function project(xyz) {\n      var _ref2 = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {},\n          _ref2$topLeft = _ref2.topLeft,\n          topLeft = _ref2$topLeft === void 0 ? true : _ref2$topLeft;\n\n      var worldPosition = this.projectPosition(xyz);\n      var coord = worldToPixels(worldPosition, this.pixelProjectionMatrix);\n\n      var _coord = _slicedToArray(coord, 2),\n          x = _coord[0],\n          y = _coord[1];\n\n      var y2 = topLeft ? y : this.height - y;\n      return xyz.length === 2 ? [x, y2] : [x, y2, coord[2]];\n    }\n  }, {\n    key: \"unproject\",\n    value: function unproject(xyz) {\n      var _ref3 = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {},\n          _ref3$topLeft = _ref3.topLeft,\n          topLeft = _ref3$topLeft === void 0 ? true : _ref3$topLeft,\n          _ref3$targetZ = _ref3.targetZ,\n          targetZ = _ref3$targetZ === void 0 ? undefined : _ref3$targetZ;\n\n      var _xyz = _slicedToArray(xyz, 3),\n          x = _xyz[0],\n          y = _xyz[1],\n          z = _xyz[2];\n\n      var y2 = topLeft ? y : this.height - y;\n      var targetZWorld = targetZ && targetZ * this.distanceScales.unitsPerMeter[2];\n      var coord = pixelsToWorld([x, y2, z], this.pixelUnprojectionMatrix, targetZWorld);\n\n      var _this$unprojectPositi = this.unprojectPosition(coord),\n          _this$unprojectPositi2 = _slicedToArray(_this$unprojectPositi, 3),\n          X = _this$unprojectPositi2[0],\n          Y = _this$unprojectPositi2[1],\n          Z = _this$unprojectPositi2[2];\n\n      if (Number.isFinite(z)) {\n        return [X, Y, Z];\n      }\n\n      return Number.isFinite(targetZ) ? [X, Y, targetZ] : [X, Y];\n    }\n  }, {\n    key: \"projectPosition\",\n    value: function projectPosition(xyz) {\n      var _lngLatToWorld = lngLatToWorld(xyz),\n          _lngLatToWorld2 = _slicedToArray(_lngLatToWorld, 2),\n          X = _lngLatToWorld2[0],\n          Y = _lngLatToWorld2[1];\n\n      var Z = (xyz[2] || 0) * this.distanceScales.unitsPerMeter[2];\n      return [X, Y, Z];\n    }\n  }, {\n    key: \"unprojectPosition\",\n    value: function unprojectPosition(xyz) {\n      var _worldToLngLat = worldToLngLat(xyz),\n          _worldToLngLat2 = _slicedToArray(_worldToLngLat, 2),\n          X = _worldToLngLat2[0],\n          Y = _worldToLngLat2[1];\n\n      var Z = (xyz[2] || 0) * this.distanceScales.metersPerUnit[2];\n      return [X, Y, Z];\n    }\n  }, {\n    key: \"projectFlat\",\n    value: function projectFlat(lngLat) {\n      return lngLatToWorld(lngLat);\n    }\n  }, {\n    key: \"unprojectFlat\",\n    value: function unprojectFlat(xy) {\n      return worldToLngLat(xy);\n    }\n  }, {\n    key: \"getMapCenterByLngLatPosition\",\n    value: function getMapCenterByLngLatPosition(_ref4) {\n      var lngLat = _ref4.lngLat,\n          pos = _ref4.pos;\n      var fromLocation = pixelsToWorld(pos, this.pixelUnprojectionMatrix);\n      var toLocation = lngLatToWorld(lngLat);\n      var translate = vec2.add([], toLocation, vec2.negate([], fromLocation));\n      var newCenter = vec2.add([], this.center, translate);\n      return worldToLngLat(newCenter);\n    }\n  }, {\n    key: \"getLocationAtPoint\",\n    value: function getLocationAtPoint(_ref5) {\n      var lngLat = _ref5.lngLat,\n          pos = _ref5.pos;\n      return this.getMapCenterByLngLatPosition({\n        lngLat: lngLat,\n        pos: pos\n      });\n    }\n  }, {\n    key: \"fitBounds\",\n    value: function fitBounds(bounds) {\n      var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n      var width = this.width,\n          height = this.height;\n\n      var _fitBounds2 = _fitBounds(Object.assign({\n        width: width,\n        height: height,\n        bounds: bounds\n      }, options)),\n          longitude = _fitBounds2.longitude,\n          latitude = _fitBounds2.latitude,\n          zoom = _fitBounds2.zoom;\n\n      return new WebMercatorViewport({\n        width: width,\n        height: height,\n        longitude: longitude,\n        latitude: latitude,\n        zoom: zoom\n      });\n    }\n  }, {\n    key: \"getBounds\",\n    value: function getBounds(options) {\n      var corners = this.getBoundingRegion(options);\n      var west = Math.min.apply(Math, _toConsumableArray(corners.map(function (p) {\n        return p[0];\n      })));\n      var east = Math.max.apply(Math, _toConsumableArray(corners.map(function (p) {\n        return p[0];\n      })));\n      var south = Math.min.apply(Math, _toConsumableArray(corners.map(function (p) {\n        return p[1];\n      })));\n      var north = Math.max.apply(Math, _toConsumableArray(corners.map(function (p) {\n        return p[1];\n      })));\n      return [[west, south], [east, north]];\n    }\n  }, {\n    key: \"getBoundingRegion\",\n    value: function getBoundingRegion() {\n      var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n      return getBounds(this, options.z || 0);\n    }\n  }]);\n\n  return WebMercatorViewport;\n}();\n\nexport { WebMercatorViewport as default };","function _createForOfIteratorHelper(o, allowArrayLike) { var it = typeof Symbol !== \"undefined\" && o[Symbol.iterator] || o[\"@@iterator\"]; if (!it) { if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") { if (it) o = it; var i = 0; var F = function F() {}; return { s: F, n: function n() { if (i >= o.length) return { done: true }; return { done: false, value: o[i++] }; }, e: function e(_e) { throw _e; }, f: F }; } throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); } var normalCompletion = true, didErr = false, err; return { s: function s() { it = it.call(o); }, n: function n() { var step = it.next(); normalCompletion = step.done; return step; }, e: function e(_e2) { didErr = true; err = _e2; }, f: function f() { try { if (!normalCompletion && it.return != null) it.return(); } finally { if (didErr) throw err; } } }; }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nimport { lerp } from './math-utils';\nimport { scaleToZoom, zoomToScale, lngLatToWorld, worldToLngLat } from './web-mercator-utils';\nimport * as vec2 from 'gl-matrix/vec2';\nvar EPSILON = 0.01;\nvar VIEWPORT_TRANSITION_PROPS = ['longitude', 'latitude', 'zoom'];\nvar DEFAULT_OPTS = {\n  curve: 1.414,\n  speed: 1.2\n};\nexport default function flyToViewport(startProps, endProps, t) {\n  var opts = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : {};\n  var viewport = {};\n\n  var _getFlyToTransitionPa = getFlyToTransitionParams(startProps, endProps, opts),\n      startZoom = _getFlyToTransitionPa.startZoom,\n      startCenterXY = _getFlyToTransitionPa.startCenterXY,\n      uDelta = _getFlyToTransitionPa.uDelta,\n      w0 = _getFlyToTransitionPa.w0,\n      u1 = _getFlyToTransitionPa.u1,\n      S = _getFlyToTransitionPa.S,\n      rho = _getFlyToTransitionPa.rho,\n      rho2 = _getFlyToTransitionPa.rho2,\n      r0 = _getFlyToTransitionPa.r0;\n\n  if (u1 < EPSILON) {\n    var _iterator = _createForOfIteratorHelper(VIEWPORT_TRANSITION_PROPS),\n        _step;\n\n    try {\n      for (_iterator.s(); !(_step = _iterator.n()).done;) {\n        var key = _step.value;\n        var startValue = startProps[key];\n        var endValue = endProps[key];\n        viewport[key] = lerp(startValue, endValue, t);\n      }\n    } catch (err) {\n      _iterator.e(err);\n    } finally {\n      _iterator.f();\n    }\n\n    return viewport;\n  }\n\n  var s = t * S;\n  var w = Math.cosh(r0) / Math.cosh(r0 + rho * s);\n  var u = w0 * ((Math.cosh(r0) * Math.tanh(r0 + rho * s) - Math.sinh(r0)) / rho2) / u1;\n  var scaleIncrement = 1 / w;\n  var newZoom = startZoom + scaleToZoom(scaleIncrement);\n  var newCenterWorld = vec2.scale([], uDelta, u);\n  vec2.add(newCenterWorld, newCenterWorld, startCenterXY);\n  var newCenter = worldToLngLat(newCenterWorld);\n  viewport.longitude = newCenter[0];\n  viewport.latitude = newCenter[1];\n  viewport.zoom = newZoom;\n  return viewport;\n}\nexport function getFlyToDuration(startProps, endProps) {\n  var opts = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n  opts = Object.assign({}, DEFAULT_OPTS, opts);\n  var _opts = opts,\n      screenSpeed = _opts.screenSpeed,\n      speed = _opts.speed,\n      maxDuration = _opts.maxDuration;\n\n  var _getFlyToTransitionPa2 = getFlyToTransitionParams(startProps, endProps, opts),\n      S = _getFlyToTransitionPa2.S,\n      rho = _getFlyToTransitionPa2.rho;\n\n  var length = 1000 * S;\n  var duration;\n\n  if (Number.isFinite(screenSpeed)) {\n    duration = length / (screenSpeed / rho);\n  } else {\n    duration = length / speed;\n  }\n\n  return Number.isFinite(maxDuration) && duration > maxDuration ? 0 : duration;\n}\n\nfunction getFlyToTransitionParams(startProps, endProps, opts) {\n  opts = Object.assign({}, DEFAULT_OPTS, opts);\n  var rho = opts.curve;\n  var startZoom = startProps.zoom;\n  var startCenter = [startProps.longitude, startProps.latitude];\n  var startScale = zoomToScale(startZoom);\n  var endZoom = endProps.zoom;\n  var endCenter = [endProps.longitude, endProps.latitude];\n  var scale = zoomToScale(endZoom - startZoom);\n  var startCenterXY = lngLatToWorld(startCenter);\n  var endCenterXY = lngLatToWorld(endCenter);\n  var uDelta = vec2.sub([], endCenterXY, startCenterXY);\n  var w0 = Math.max(startProps.width, startProps.height);\n  var w1 = w0 / scale;\n  var u1 = vec2.length(uDelta) * startScale;\n\n  var _u1 = Math.max(u1, EPSILON);\n\n  var rho2 = rho * rho;\n  var b0 = (w1 * w1 - w0 * w0 + rho2 * rho2 * _u1 * _u1) / (2 * w0 * rho2 * _u1);\n  var b1 = (w1 * w1 - w0 * w0 - rho2 * rho2 * _u1 * _u1) / (2 * w1 * rho2 * _u1);\n  var r0 = Math.log(Math.sqrt(b0 * b0 + 1) - b0);\n  var r1 = Math.log(Math.sqrt(b1 * b1 + 1) - b1);\n  var S = (r1 - r0) / rho;\n  return {\n    startZoom: startZoom,\n    startCenterXY: startCenterXY,\n    uDelta: uDelta,\n    w0: w0,\n    u1: u1,\n    S: S,\n    rho: rho,\n    rho2: rho2,\n    r0: r0,\n    r1: r1\n  };\n}","/**\r\n * A collection of shims that provide minimal functionality of the ES6 collections.\r\n *\r\n * These implementations are not meant to be used outside of the ResizeObserver\r\n * modules as they cover only a limited range of use cases.\r\n */\n\n/* eslint-disable require-jsdoc, valid-jsdoc */\nvar MapShim = function () {\n  if (typeof Map !== 'undefined') {\n    return Map;\n  }\n  /**\r\n   * Returns index in provided array that matches the specified key.\r\n   *\r\n   * @param {Array<Array>} arr\r\n   * @param {*} key\r\n   * @returns {number}\r\n   */\n\n\n  function getIndex(arr, key) {\n    var result = -1;\n    arr.some(function (entry, index) {\n      if (entry[0] === key) {\n        result = index;\n        return true;\n      }\n\n      return false;\n    });\n    return result;\n  }\n\n  return (\n    /** @class */\n    function () {\n      function class_1() {\n        this.__entries__ = [];\n      }\n\n      Object.defineProperty(class_1.prototype, \"size\", {\n        /**\r\n         * @returns {boolean}\r\n         */\n        get: function get() {\n          return this.__entries__.length;\n        },\n        enumerable: true,\n        configurable: true\n      });\n      /**\r\n       * @param {*} key\r\n       * @returns {*}\r\n       */\n\n      class_1.prototype.get = function (key) {\n        var index = getIndex(this.__entries__, key);\n        var entry = this.__entries__[index];\n        return entry && entry[1];\n      };\n      /**\r\n       * @param {*} key\r\n       * @param {*} value\r\n       * @returns {void}\r\n       */\n\n\n      class_1.prototype.set = function (key, value) {\n        var index = getIndex(this.__entries__, key);\n\n        if (~index) {\n          this.__entries__[index][1] = value;\n        } else {\n          this.__entries__.push([key, value]);\n        }\n      };\n      /**\r\n       * @param {*} key\r\n       * @returns {void}\r\n       */\n\n\n      class_1.prototype.delete = function (key) {\n        var entries = this.__entries__;\n        var index = getIndex(entries, key);\n\n        if (~index) {\n          entries.splice(index, 1);\n        }\n      };\n      /**\r\n       * @param {*} key\r\n       * @returns {void}\r\n       */\n\n\n      class_1.prototype.has = function (key) {\n        return !!~getIndex(this.__entries__, key);\n      };\n      /**\r\n       * @returns {void}\r\n       */\n\n\n      class_1.prototype.clear = function () {\n        this.__entries__.splice(0);\n      };\n      /**\r\n       * @param {Function} callback\r\n       * @param {*} [ctx=null]\r\n       * @returns {void}\r\n       */\n\n\n      class_1.prototype.forEach = function (callback, ctx) {\n        if (ctx === void 0) {\n          ctx = null;\n        }\n\n        for (var _i = 0, _a = this.__entries__; _i < _a.length; _i++) {\n          var entry = _a[_i];\n          callback.call(ctx, entry[1], entry[0]);\n        }\n      };\n\n      return class_1;\n    }()\n  );\n}();\n/**\r\n * Detects whether window and document objects are available in current environment.\r\n */\n\n\nvar isBrowser = typeof window !== 'undefined' && typeof document !== 'undefined' && window.document === document; // Returns global object of a current environment.\n\nvar global$1 = function () {\n  if (typeof global !== 'undefined' && global.Math === Math) {\n    return global;\n  }\n\n  if (typeof self !== 'undefined' && self.Math === Math) {\n    return self;\n  }\n\n  if (typeof window !== 'undefined' && window.Math === Math) {\n    return window;\n  } // eslint-disable-next-line no-new-func\n\n\n  return Function('return this')();\n}();\n/**\r\n * A shim for the requestAnimationFrame which falls back to the setTimeout if\r\n * first one is not supported.\r\n *\r\n * @returns {number} Requests' identifier.\r\n */\n\n\nvar requestAnimationFrame$1 = function () {\n  if (typeof requestAnimationFrame === 'function') {\n    // It's required to use a bounded function because IE sometimes throws\n    // an \"Invalid calling object\" error if rAF is invoked without the global\n    // object on the left hand side.\n    return requestAnimationFrame.bind(global$1);\n  }\n\n  return function (callback) {\n    return setTimeout(function () {\n      return callback(Date.now());\n    }, 1000 / 60);\n  };\n}(); // Defines minimum timeout before adding a trailing call.\n\n\nvar trailingTimeout = 2;\n/**\r\n * Creates a wrapper function which ensures that provided callback will be\r\n * invoked only once during the specified delay period.\r\n *\r\n * @param {Function} callback - Function to be invoked after the delay period.\r\n * @param {number} delay - Delay after which to invoke callback.\r\n * @returns {Function}\r\n */\n\nfunction throttle(callback, delay) {\n  var leadingCall = false,\n      trailingCall = false,\n      lastCallTime = 0;\n  /**\r\n   * Invokes the original callback function and schedules new invocation if\r\n   * the \"proxy\" was called during current request.\r\n   *\r\n   * @returns {void}\r\n   */\n\n  function resolvePending() {\n    if (leadingCall) {\n      leadingCall = false;\n      callback();\n    }\n\n    if (trailingCall) {\n      proxy();\n    }\n  }\n  /**\r\n   * Callback invoked after the specified delay. It will further postpone\r\n   * invocation of the original function delegating it to the\r\n   * requestAnimationFrame.\r\n   *\r\n   * @returns {void}\r\n   */\n\n\n  function timeoutCallback() {\n    requestAnimationFrame$1(resolvePending);\n  }\n  /**\r\n   * Schedules invocation of the original function.\r\n   *\r\n   * @returns {void}\r\n   */\n\n\n  function proxy() {\n    var timeStamp = Date.now();\n\n    if (leadingCall) {\n      // Reject immediately following calls.\n      if (timeStamp - lastCallTime < trailingTimeout) {\n        return;\n      } // Schedule new call to be in invoked when the pending one is resolved.\n      // This is important for \"transitions\" which never actually start\n      // immediately so there is a chance that we might miss one if change\n      // happens amids the pending invocation.\n\n\n      trailingCall = true;\n    } else {\n      leadingCall = true;\n      trailingCall = false;\n      setTimeout(timeoutCallback, delay);\n    }\n\n    lastCallTime = timeStamp;\n  }\n\n  return proxy;\n} // Minimum delay before invoking the update of observers.\n\n\nvar REFRESH_DELAY = 20; // A list of substrings of CSS properties used to find transition events that\n// might affect dimensions of observed elements.\n\nvar transitionKeys = ['top', 'right', 'bottom', 'left', 'width', 'height', 'size', 'weight']; // Check if MutationObserver is available.\n\nvar mutationObserverSupported = typeof MutationObserver !== 'undefined';\n/**\r\n * Singleton controller class which handles updates of ResizeObserver instances.\r\n */\n\nvar ResizeObserverController =\n/** @class */\nfunction () {\n  /**\r\n   * Creates a new instance of ResizeObserverController.\r\n   *\r\n   * @private\r\n   */\n  function ResizeObserverController() {\n    /**\r\n     * Indicates whether DOM listeners have been added.\r\n     *\r\n     * @private {boolean}\r\n     */\n    this.connected_ = false;\n    /**\r\n     * Tells that controller has subscribed for Mutation Events.\r\n     *\r\n     * @private {boolean}\r\n     */\n\n    this.mutationEventsAdded_ = false;\n    /**\r\n     * Keeps reference to the instance of MutationObserver.\r\n     *\r\n     * @private {MutationObserver}\r\n     */\n\n    this.mutationsObserver_ = null;\n    /**\r\n     * A list of connected observers.\r\n     *\r\n     * @private {Array<ResizeObserverSPI>}\r\n     */\n\n    this.observers_ = [];\n    this.onTransitionEnd_ = this.onTransitionEnd_.bind(this);\n    this.refresh = throttle(this.refresh.bind(this), REFRESH_DELAY);\n  }\n  /**\r\n   * Adds observer to observers list.\r\n   *\r\n   * @param {ResizeObserverSPI} observer - Observer to be added.\r\n   * @returns {void}\r\n   */\n\n\n  ResizeObserverController.prototype.addObserver = function (observer) {\n    if (!~this.observers_.indexOf(observer)) {\n      this.observers_.push(observer);\n    } // Add listeners if they haven't been added yet.\n\n\n    if (!this.connected_) {\n      this.connect_();\n    }\n  };\n  /**\r\n   * Removes observer from observers list.\r\n   *\r\n   * @param {ResizeObserverSPI} observer - Observer to be removed.\r\n   * @returns {void}\r\n   */\n\n\n  ResizeObserverController.prototype.removeObserver = function (observer) {\n    var observers = this.observers_;\n    var index = observers.indexOf(observer); // Remove observer if it's present in registry.\n\n    if (~index) {\n      observers.splice(index, 1);\n    } // Remove listeners if controller has no connected observers.\n\n\n    if (!observers.length && this.connected_) {\n      this.disconnect_();\n    }\n  };\n  /**\r\n   * Invokes the update of observers. It will continue running updates insofar\r\n   * it detects changes.\r\n   *\r\n   * @returns {void}\r\n   */\n\n\n  ResizeObserverController.prototype.refresh = function () {\n    var changesDetected = this.updateObservers_(); // Continue running updates if changes have been detected as there might\n    // be future ones caused by CSS transitions.\n\n    if (changesDetected) {\n      this.refresh();\n    }\n  };\n  /**\r\n   * Updates every observer from observers list and notifies them of queued\r\n   * entries.\r\n   *\r\n   * @private\r\n   * @returns {boolean} Returns \"true\" if any observer has detected changes in\r\n   *      dimensions of it's elements.\r\n   */\n\n\n  ResizeObserverController.prototype.updateObservers_ = function () {\n    // Collect observers that have active observations.\n    var activeObservers = this.observers_.filter(function (observer) {\n      return observer.gatherActive(), observer.hasActive();\n    }); // Deliver notifications in a separate cycle in order to avoid any\n    // collisions between observers, e.g. when multiple instances of\n    // ResizeObserver are tracking the same element and the callback of one\n    // of them changes content dimensions of the observed target. Sometimes\n    // this may result in notifications being blocked for the rest of observers.\n\n    activeObservers.forEach(function (observer) {\n      return observer.broadcastActive();\n    });\n    return activeObservers.length > 0;\n  };\n  /**\r\n   * Initializes DOM listeners.\r\n   *\r\n   * @private\r\n   * @returns {void}\r\n   */\n\n\n  ResizeObserverController.prototype.connect_ = function () {\n    // Do nothing if running in a non-browser environment or if listeners\n    // have been already added.\n    if (!isBrowser || this.connected_) {\n      return;\n    } // Subscription to the \"Transitionend\" event is used as a workaround for\n    // delayed transitions. This way it's possible to capture at least the\n    // final state of an element.\n\n\n    document.addEventListener('transitionend', this.onTransitionEnd_);\n    window.addEventListener('resize', this.refresh);\n\n    if (mutationObserverSupported) {\n      this.mutationsObserver_ = new MutationObserver(this.refresh);\n      this.mutationsObserver_.observe(document, {\n        attributes: true,\n        childList: true,\n        characterData: true,\n        subtree: true\n      });\n    } else {\n      document.addEventListener('DOMSubtreeModified', this.refresh);\n      this.mutationEventsAdded_ = true;\n    }\n\n    this.connected_ = true;\n  };\n  /**\r\n   * Removes DOM listeners.\r\n   *\r\n   * @private\r\n   * @returns {void}\r\n   */\n\n\n  ResizeObserverController.prototype.disconnect_ = function () {\n    // Do nothing if running in a non-browser environment or if listeners\n    // have been already removed.\n    if (!isBrowser || !this.connected_) {\n      return;\n    }\n\n    document.removeEventListener('transitionend', this.onTransitionEnd_);\n    window.removeEventListener('resize', this.refresh);\n\n    if (this.mutationsObserver_) {\n      this.mutationsObserver_.disconnect();\n    }\n\n    if (this.mutationEventsAdded_) {\n      document.removeEventListener('DOMSubtreeModified', this.refresh);\n    }\n\n    this.mutationsObserver_ = null;\n    this.mutationEventsAdded_ = false;\n    this.connected_ = false;\n  };\n  /**\r\n   * \"Transitionend\" event handler.\r\n   *\r\n   * @private\r\n   * @param {TransitionEvent} event\r\n   * @returns {void}\r\n   */\n\n\n  ResizeObserverController.prototype.onTransitionEnd_ = function (_a) {\n    var _b = _a.propertyName,\n        propertyName = _b === void 0 ? '' : _b; // Detect whether transition may affect dimensions of an element.\n\n    var isReflowProperty = transitionKeys.some(function (key) {\n      return !!~propertyName.indexOf(key);\n    });\n\n    if (isReflowProperty) {\n      this.refresh();\n    }\n  };\n  /**\r\n   * Returns instance of the ResizeObserverController.\r\n   *\r\n   * @returns {ResizeObserverController}\r\n   */\n\n\n  ResizeObserverController.getInstance = function () {\n    if (!this.instance_) {\n      this.instance_ = new ResizeObserverController();\n    }\n\n    return this.instance_;\n  };\n  /**\r\n   * Holds reference to the controller's instance.\r\n   *\r\n   * @private {ResizeObserverController}\r\n   */\n\n\n  ResizeObserverController.instance_ = null;\n  return ResizeObserverController;\n}();\n/**\r\n * Defines non-writable/enumerable properties of the provided target object.\r\n *\r\n * @param {Object} target - Object for which to define properties.\r\n * @param {Object} props - Properties to be defined.\r\n * @returns {Object} Target object.\r\n */\n\n\nvar defineConfigurable = function defineConfigurable(target, props) {\n  for (var _i = 0, _a = Object.keys(props); _i < _a.length; _i++) {\n    var key = _a[_i];\n    Object.defineProperty(target, key, {\n      value: props[key],\n      enumerable: false,\n      writable: false,\n      configurable: true\n    });\n  }\n\n  return target;\n};\n/**\r\n * Returns the global object associated with provided element.\r\n *\r\n * @param {Object} target\r\n * @returns {Object}\r\n */\n\n\nvar getWindowOf = function getWindowOf(target) {\n  // Assume that the element is an instance of Node, which means that it\n  // has the \"ownerDocument\" property from which we can retrieve a\n  // corresponding global object.\n  var ownerGlobal = target && target.ownerDocument && target.ownerDocument.defaultView; // Return the local global object if it's not possible extract one from\n  // provided element.\n\n  return ownerGlobal || global$1;\n}; // Placeholder of an empty content rectangle.\n\n\nvar emptyRect = createRectInit(0, 0, 0, 0);\n/**\r\n * Converts provided string to a number.\r\n *\r\n * @param {number|string} value\r\n * @returns {number}\r\n */\n\nfunction toFloat(value) {\n  return parseFloat(value) || 0;\n}\n/**\r\n * Extracts borders size from provided styles.\r\n *\r\n * @param {CSSStyleDeclaration} styles\r\n * @param {...string} positions - Borders positions (top, right, ...)\r\n * @returns {number}\r\n */\n\n\nfunction getBordersSize(styles) {\n  var positions = [];\n\n  for (var _i = 1; _i < arguments.length; _i++) {\n    positions[_i - 1] = arguments[_i];\n  }\n\n  return positions.reduce(function (size, position) {\n    var value = styles['border-' + position + '-width'];\n    return size + toFloat(value);\n  }, 0);\n}\n/**\r\n * Extracts paddings sizes from provided styles.\r\n *\r\n * @param {CSSStyleDeclaration} styles\r\n * @returns {Object} Paddings box.\r\n */\n\n\nfunction getPaddings(styles) {\n  var positions = ['top', 'right', 'bottom', 'left'];\n  var paddings = {};\n\n  for (var _i = 0, positions_1 = positions; _i < positions_1.length; _i++) {\n    var position = positions_1[_i];\n    var value = styles['padding-' + position];\n    paddings[position] = toFloat(value);\n  }\n\n  return paddings;\n}\n/**\r\n * Calculates content rectangle of provided SVG element.\r\n *\r\n * @param {SVGGraphicsElement} target - Element content rectangle of which needs\r\n *      to be calculated.\r\n * @returns {DOMRectInit}\r\n */\n\n\nfunction getSVGContentRect(target) {\n  var bbox = target.getBBox();\n  return createRectInit(0, 0, bbox.width, bbox.height);\n}\n/**\r\n * Calculates content rectangle of provided HTMLElement.\r\n *\r\n * @param {HTMLElement} target - Element for which to calculate the content rectangle.\r\n * @returns {DOMRectInit}\r\n */\n\n\nfunction getHTMLElementContentRect(target) {\n  // Client width & height properties can't be\n  // used exclusively as they provide rounded values.\n  var clientWidth = target.clientWidth,\n      clientHeight = target.clientHeight; // By this condition we can catch all non-replaced inline, hidden and\n  // detached elements. Though elements with width & height properties less\n  // than 0.5 will be discarded as well.\n  //\n  // Without it we would need to implement separate methods for each of\n  // those cases and it's not possible to perform a precise and performance\n  // effective test for hidden elements. E.g. even jQuery's ':visible' filter\n  // gives wrong results for elements with width & height less than 0.5.\n\n  if (!clientWidth && !clientHeight) {\n    return emptyRect;\n  }\n\n  var styles = getWindowOf(target).getComputedStyle(target);\n  var paddings = getPaddings(styles);\n  var horizPad = paddings.left + paddings.right;\n  var vertPad = paddings.top + paddings.bottom; // Computed styles of width & height are being used because they are the\n  // only dimensions available to JS that contain non-rounded values. It could\n  // be possible to utilize the getBoundingClientRect if only it's data wasn't\n  // affected by CSS transformations let alone paddings, borders and scroll bars.\n\n  var width = toFloat(styles.width),\n      height = toFloat(styles.height); // Width & height include paddings and borders when the 'border-box' box\n  // model is applied (except for IE).\n\n  if (styles.boxSizing === 'border-box') {\n    // Following conditions are required to handle Internet Explorer which\n    // doesn't include paddings and borders to computed CSS dimensions.\n    //\n    // We can say that if CSS dimensions + paddings are equal to the \"client\"\n    // properties then it's either IE, and thus we don't need to subtract\n    // anything, or an element merely doesn't have paddings/borders styles.\n    if (Math.round(width + horizPad) !== clientWidth) {\n      width -= getBordersSize(styles, 'left', 'right') + horizPad;\n    }\n\n    if (Math.round(height + vertPad) !== clientHeight) {\n      height -= getBordersSize(styles, 'top', 'bottom') + vertPad;\n    }\n  } // Following steps can't be applied to the document's root element as its\n  // client[Width/Height] properties represent viewport area of the window.\n  // Besides, it's as well not necessary as the <html> itself neither has\n  // rendered scroll bars nor it can be clipped.\n\n\n  if (!isDocumentElement(target)) {\n    // In some browsers (only in Firefox, actually) CSS width & height\n    // include scroll bars size which can be removed at this step as scroll\n    // bars are the only difference between rounded dimensions + paddings\n    // and \"client\" properties, though that is not always true in Chrome.\n    var vertScrollbar = Math.round(width + horizPad) - clientWidth;\n    var horizScrollbar = Math.round(height + vertPad) - clientHeight; // Chrome has a rather weird rounding of \"client\" properties.\n    // E.g. for an element with content width of 314.2px it sometimes gives\n    // the client width of 315px and for the width of 314.7px it may give\n    // 314px. And it doesn't happen all the time. So just ignore this delta\n    // as a non-relevant.\n\n    if (Math.abs(vertScrollbar) !== 1) {\n      width -= vertScrollbar;\n    }\n\n    if (Math.abs(horizScrollbar) !== 1) {\n      height -= horizScrollbar;\n    }\n  }\n\n  return createRectInit(paddings.left, paddings.top, width, height);\n}\n/**\r\n * Checks whether provided element is an instance of the SVGGraphicsElement.\r\n *\r\n * @param {Element} target - Element to be checked.\r\n * @returns {boolean}\r\n */\n\n\nvar isSVGGraphicsElement = function () {\n  // Some browsers, namely IE and Edge, don't have the SVGGraphicsElement\n  // interface.\n  if (typeof SVGGraphicsElement !== 'undefined') {\n    return function (target) {\n      return target instanceof getWindowOf(target).SVGGraphicsElement;\n    };\n  } // If it's so, then check that element is at least an instance of the\n  // SVGElement and that it has the \"getBBox\" method.\n  // eslint-disable-next-line no-extra-parens\n\n\n  return function (target) {\n    return target instanceof getWindowOf(target).SVGElement && typeof target.getBBox === 'function';\n  };\n}();\n/**\r\n * Checks whether provided element is a document element (<html>).\r\n *\r\n * @param {Element} target - Element to be checked.\r\n * @returns {boolean}\r\n */\n\n\nfunction isDocumentElement(target) {\n  return target === getWindowOf(target).document.documentElement;\n}\n/**\r\n * Calculates an appropriate content rectangle for provided html or svg element.\r\n *\r\n * @param {Element} target - Element content rectangle of which needs to be calculated.\r\n * @returns {DOMRectInit}\r\n */\n\n\nfunction getContentRect(target) {\n  if (!isBrowser) {\n    return emptyRect;\n  }\n\n  if (isSVGGraphicsElement(target)) {\n    return getSVGContentRect(target);\n  }\n\n  return getHTMLElementContentRect(target);\n}\n/**\r\n * Creates rectangle with an interface of the DOMRectReadOnly.\r\n * Spec: https://drafts.fxtf.org/geometry/#domrectreadonly\r\n *\r\n * @param {DOMRectInit} rectInit - Object with rectangle's x/y coordinates and dimensions.\r\n * @returns {DOMRectReadOnly}\r\n */\n\n\nfunction createReadOnlyRect(_a) {\n  var x = _a.x,\n      y = _a.y,\n      width = _a.width,\n      height = _a.height; // If DOMRectReadOnly is available use it as a prototype for the rectangle.\n\n  var Constr = typeof DOMRectReadOnly !== 'undefined' ? DOMRectReadOnly : Object;\n  var rect = Object.create(Constr.prototype); // Rectangle's properties are not writable and non-enumerable.\n\n  defineConfigurable(rect, {\n    x: x,\n    y: y,\n    width: width,\n    height: height,\n    top: y,\n    right: x + width,\n    bottom: height + y,\n    left: x\n  });\n  return rect;\n}\n/**\r\n * Creates DOMRectInit object based on the provided dimensions and the x/y coordinates.\r\n * Spec: https://drafts.fxtf.org/geometry/#dictdef-domrectinit\r\n *\r\n * @param {number} x - X coordinate.\r\n * @param {number} y - Y coordinate.\r\n * @param {number} width - Rectangle's width.\r\n * @param {number} height - Rectangle's height.\r\n * @returns {DOMRectInit}\r\n */\n\n\nfunction createRectInit(x, y, width, height) {\n  return {\n    x: x,\n    y: y,\n    width: width,\n    height: height\n  };\n}\n/**\r\n * Class that is responsible for computations of the content rectangle of\r\n * provided DOM element and for keeping track of it's changes.\r\n */\n\n\nvar ResizeObservation =\n/** @class */\nfunction () {\n  /**\r\n   * Creates an instance of ResizeObservation.\r\n   *\r\n   * @param {Element} target - Element to be observed.\r\n   */\n  function ResizeObservation(target) {\n    /**\r\n     * Broadcasted width of content rectangle.\r\n     *\r\n     * @type {number}\r\n     */\n    this.broadcastWidth = 0;\n    /**\r\n     * Broadcasted height of content rectangle.\r\n     *\r\n     * @type {number}\r\n     */\n\n    this.broadcastHeight = 0;\n    /**\r\n     * Reference to the last observed content rectangle.\r\n     *\r\n     * @private {DOMRectInit}\r\n     */\n\n    this.contentRect_ = createRectInit(0, 0, 0, 0);\n    this.target = target;\n  }\n  /**\r\n   * Updates content rectangle and tells whether it's width or height properties\r\n   * have changed since the last broadcast.\r\n   *\r\n   * @returns {boolean}\r\n   */\n\n\n  ResizeObservation.prototype.isActive = function () {\n    var rect = getContentRect(this.target);\n    this.contentRect_ = rect;\n    return rect.width !== this.broadcastWidth || rect.height !== this.broadcastHeight;\n  };\n  /**\r\n   * Updates 'broadcastWidth' and 'broadcastHeight' properties with a data\r\n   * from the corresponding properties of the last observed content rectangle.\r\n   *\r\n   * @returns {DOMRectInit} Last observed content rectangle.\r\n   */\n\n\n  ResizeObservation.prototype.broadcastRect = function () {\n    var rect = this.contentRect_;\n    this.broadcastWidth = rect.width;\n    this.broadcastHeight = rect.height;\n    return rect;\n  };\n\n  return ResizeObservation;\n}();\n\nvar ResizeObserverEntry =\n/** @class */\nfunction () {\n  /**\r\n   * Creates an instance of ResizeObserverEntry.\r\n   *\r\n   * @param {Element} target - Element that is being observed.\r\n   * @param {DOMRectInit} rectInit - Data of the element's content rectangle.\r\n   */\n  function ResizeObserverEntry(target, rectInit) {\n    var contentRect = createReadOnlyRect(rectInit); // According to the specification following properties are not writable\n    // and are also not enumerable in the native implementation.\n    //\n    // Property accessors are not being used as they'd require to define a\n    // private WeakMap storage which may cause memory leaks in browsers that\n    // don't support this type of collections.\n\n    defineConfigurable(this, {\n      target: target,\n      contentRect: contentRect\n    });\n  }\n\n  return ResizeObserverEntry;\n}();\n\nvar ResizeObserverSPI =\n/** @class */\nfunction () {\n  /**\r\n   * Creates a new instance of ResizeObserver.\r\n   *\r\n   * @param {ResizeObserverCallback} callback - Callback function that is invoked\r\n   *      when one of the observed elements changes it's content dimensions.\r\n   * @param {ResizeObserverController} controller - Controller instance which\r\n   *      is responsible for the updates of observer.\r\n   * @param {ResizeObserver} callbackCtx - Reference to the public\r\n   *      ResizeObserver instance which will be passed to callback function.\r\n   */\n  function ResizeObserverSPI(callback, controller, callbackCtx) {\n    /**\r\n     * Collection of resize observations that have detected changes in dimensions\r\n     * of elements.\r\n     *\r\n     * @private {Array<ResizeObservation>}\r\n     */\n    this.activeObservations_ = [];\n    /**\r\n     * Registry of the ResizeObservation instances.\r\n     *\r\n     * @private {Map<Element, ResizeObservation>}\r\n     */\n\n    this.observations_ = new MapShim();\n\n    if (typeof callback !== 'function') {\n      throw new TypeError('The callback provided as parameter 1 is not a function.');\n    }\n\n    this.callback_ = callback;\n    this.controller_ = controller;\n    this.callbackCtx_ = callbackCtx;\n  }\n  /**\r\n   * Starts observing provided element.\r\n   *\r\n   * @param {Element} target - Element to be observed.\r\n   * @returns {void}\r\n   */\n\n\n  ResizeObserverSPI.prototype.observe = function (target) {\n    if (!arguments.length) {\n      throw new TypeError('1 argument required, but only 0 present.');\n    } // Do nothing if current environment doesn't have the Element interface.\n\n\n    if (typeof Element === 'undefined' || !(Element instanceof Object)) {\n      return;\n    }\n\n    if (!(target instanceof getWindowOf(target).Element)) {\n      throw new TypeError('parameter 1 is not of type \"Element\".');\n    }\n\n    var observations = this.observations_; // Do nothing if element is already being observed.\n\n    if (observations.has(target)) {\n      return;\n    }\n\n    observations.set(target, new ResizeObservation(target));\n    this.controller_.addObserver(this); // Force the update of observations.\n\n    this.controller_.refresh();\n  };\n  /**\r\n   * Stops observing provided element.\r\n   *\r\n   * @param {Element} target - Element to stop observing.\r\n   * @returns {void}\r\n   */\n\n\n  ResizeObserverSPI.prototype.unobserve = function (target) {\n    if (!arguments.length) {\n      throw new TypeError('1 argument required, but only 0 present.');\n    } // Do nothing if current environment doesn't have the Element interface.\n\n\n    if (typeof Element === 'undefined' || !(Element instanceof Object)) {\n      return;\n    }\n\n    if (!(target instanceof getWindowOf(target).Element)) {\n      throw new TypeError('parameter 1 is not of type \"Element\".');\n    }\n\n    var observations = this.observations_; // Do nothing if element is not being observed.\n\n    if (!observations.has(target)) {\n      return;\n    }\n\n    observations.delete(target);\n\n    if (!observations.size) {\n      this.controller_.removeObserver(this);\n    }\n  };\n  /**\r\n   * Stops observing all elements.\r\n   *\r\n   * @returns {void}\r\n   */\n\n\n  ResizeObserverSPI.prototype.disconnect = function () {\n    this.clearActive();\n    this.observations_.clear();\n    this.controller_.removeObserver(this);\n  };\n  /**\r\n   * Collects observation instances the associated element of which has changed\r\n   * it's content rectangle.\r\n   *\r\n   * @returns {void}\r\n   */\n\n\n  ResizeObserverSPI.prototype.gatherActive = function () {\n    var _this = this;\n\n    this.clearActive();\n    this.observations_.forEach(function (observation) {\n      if (observation.isActive()) {\n        _this.activeObservations_.push(observation);\n      }\n    });\n  };\n  /**\r\n   * Invokes initial callback function with a list of ResizeObserverEntry\r\n   * instances collected from active resize observations.\r\n   *\r\n   * @returns {void}\r\n   */\n\n\n  ResizeObserverSPI.prototype.broadcastActive = function () {\n    // Do nothing if observer doesn't have active observations.\n    if (!this.hasActive()) {\n      return;\n    }\n\n    var ctx = this.callbackCtx_; // Create ResizeObserverEntry instance for every active observation.\n\n    var entries = this.activeObservations_.map(function (observation) {\n      return new ResizeObserverEntry(observation.target, observation.broadcastRect());\n    });\n    this.callback_.call(ctx, entries, ctx);\n    this.clearActive();\n  };\n  /**\r\n   * Clears the collection of active observations.\r\n   *\r\n   * @returns {void}\r\n   */\n\n\n  ResizeObserverSPI.prototype.clearActive = function () {\n    this.activeObservations_.splice(0);\n  };\n  /**\r\n   * Tells whether observer has active observations.\r\n   *\r\n   * @returns {boolean}\r\n   */\n\n\n  ResizeObserverSPI.prototype.hasActive = function () {\n    return this.activeObservations_.length > 0;\n  };\n\n  return ResizeObserverSPI;\n}(); // Registry of internal observers. If WeakMap is not available use current shim\n// for the Map collection as it has all required methods and because WeakMap\n// can't be fully polyfilled anyway.\n\n\nvar observers = typeof WeakMap !== 'undefined' ? new WeakMap() : new MapShim();\n/**\r\n * ResizeObserver API. Encapsulates the ResizeObserver SPI implementation\r\n * exposing only those methods and properties that are defined in the spec.\r\n */\n\nvar ResizeObserver =\n/** @class */\nfunction () {\n  /**\r\n   * Creates a new instance of ResizeObserver.\r\n   *\r\n   * @param {ResizeObserverCallback} callback - Callback that is invoked when\r\n   *      dimensions of the observed elements change.\r\n   */\n  function ResizeObserver(callback) {\n    if (!(this instanceof ResizeObserver)) {\n      throw new TypeError('Cannot call a class as a function.');\n    }\n\n    if (!arguments.length) {\n      throw new TypeError('1 argument required, but only 0 present.');\n    }\n\n    var controller = ResizeObserverController.getInstance();\n    var observer = new ResizeObserverSPI(callback, controller, this);\n    observers.set(this, observer);\n  }\n\n  return ResizeObserver;\n}(); // Expose public methods of ResizeObserver.\n\n\n['observe', 'unobserve', 'disconnect'].forEach(function (method) {\n  ResizeObserver.prototype[method] = function () {\n    var _a;\n\n    return (_a = observers.get(this))[method].apply(_a, arguments);\n  };\n});\n\nvar index = function () {\n  // Export existing implementation if available.\n  if (typeof global$1.ResizeObserver !== 'undefined') {\n    return global$1.ResizeObserver;\n  }\n\n  return ResizeObserver;\n}();\n\nexport default index;","var window_ = typeof window !== 'undefined' ? window : global;\nvar global_ = typeof global !== 'undefined' ? global : window;\nvar document_ = typeof document !== 'undefined' ? document : {};\nexport { window_ as window, global_ as global, document_ as document };","import _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    });\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nfunction _objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(Object(source), true).forEach(function (key) {\n        _defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}\n\nfunction _createForOfIteratorHelper(o, allowArrayLike) {\n  var it;\n\n  if (typeof Symbol === \"undefined\" || o[Symbol.iterator] == null) {\n    if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") {\n      if (it) o = it;\n      var i = 0;\n\n      var F = function F() {};\n\n      return {\n        s: F,\n        n: function n() {\n          if (i >= o.length) return {\n            done: true\n          };\n          return {\n            done: false,\n            value: o[i++]\n          };\n        },\n        e: function e(_e) {\n          throw _e;\n        },\n        f: F\n      };\n    }\n\n    throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n  }\n\n  var normalCompletion = true,\n      didErr = false,\n      err;\n  return {\n    s: function s() {\n      it = o[Symbol.iterator]();\n    },\n    n: function n() {\n      var step = it.next();\n      normalCompletion = step.done;\n      return step;\n    },\n    e: function e(_e2) {\n      didErr = true;\n      err = _e2;\n    },\n    f: function f() {\n      try {\n        if (!normalCompletion && it[\"return\"] != null) it[\"return\"]();\n      } finally {\n        if (didErr) throw err;\n      }\n    }\n  };\n}\n\nfunction _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return _arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen);\n}\n\nfunction _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n\n  for (var i = 0, arr2 = new Array(len); i < len; i++) {\n    arr2[i] = arr[i];\n  }\n\n  return arr2;\n}\n\nvar refProps = ['type', 'source', 'source-layer', 'minzoom', 'maxzoom', 'filter', 'layout'];\nexport function normalizeStyle(style) {\n  if (!style) {\n    return null;\n  }\n\n  if (typeof style === 'string') {\n    return style;\n  }\n\n  if (style.toJS) {\n    style = style.toJS();\n  }\n\n  var layerIndex = {};\n\n  var _iterator = _createForOfIteratorHelper(style.layers),\n      _step;\n\n  try {\n    for (_iterator.s(); !(_step = _iterator.n()).done;) {\n      var layer = _step.value;\n      layerIndex[layer.id] = layer;\n    }\n  } catch (err) {\n    _iterator.e(err);\n  } finally {\n    _iterator.f();\n  }\n\n  var layers = style.layers.map(function (layer) {\n    var layerRef = layerIndex[layer.ref];\n    var normalizedLayer = null;\n\n    if ('interactive' in layer) {\n      normalizedLayer = _objectSpread({}, layer);\n      delete normalizedLayer.interactive;\n    }\n\n    if (layerRef) {\n      normalizedLayer = normalizedLayer || _objectSpread({}, layer);\n      delete normalizedLayer.ref;\n\n      var _iterator2 = _createForOfIteratorHelper(refProps),\n          _step2;\n\n      try {\n        for (_iterator2.s(); !(_step2 = _iterator2.n()).done;) {\n          var propName = _step2.value;\n\n          if (propName in layerRef) {\n            normalizedLayer[propName] = layerRef[propName];\n          }\n        }\n      } catch (err) {\n        _iterator2.e(err);\n      } finally {\n        _iterator2.f();\n      }\n    }\n\n    return normalizedLayer || layer;\n  });\n  return _objectSpread(_objectSpread({}, style), {}, {\n    layers: layers\n  });\n}","import _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport * as PropTypes from 'prop-types';\nimport { document } from '../utils/globals';\nimport { normalizeStyle } from '../utils/style-utils';\n\nfunction noop() {}\n\nfunction defaultOnError(event) {\n  if (event) {\n    console.error(event.error);\n  }\n}\n\nvar propTypes = {\n  container: PropTypes.object,\n  gl: PropTypes.object,\n  mapboxApiAccessToken: PropTypes.string,\n  mapboxApiUrl: PropTypes.string,\n  attributionControl: PropTypes.bool,\n  preserveDrawingBuffer: PropTypes.bool,\n  reuseMaps: PropTypes.bool,\n  transformRequest: PropTypes.func,\n  mapOptions: PropTypes.object,\n  mapStyle: PropTypes.oneOfType([PropTypes.string, PropTypes.object]),\n  preventStyleDiffing: PropTypes.bool,\n  visible: PropTypes.bool,\n  asyncRender: PropTypes.bool,\n  onLoad: PropTypes.func,\n  onError: PropTypes.func,\n  width: PropTypes.number,\n  height: PropTypes.number,\n  viewState: PropTypes.object,\n  longitude: PropTypes.number,\n  latitude: PropTypes.number,\n  zoom: PropTypes.number,\n  bearing: PropTypes.number,\n  pitch: PropTypes.number,\n  altitude: PropTypes.number\n};\nvar defaultProps = {\n  container: document.body,\n  mapboxApiAccessToken: getAccessToken(),\n  mapboxApiUrl: 'https://api.mapbox.com',\n  preserveDrawingBuffer: false,\n  attributionControl: true,\n  reuseMaps: false,\n  mapOptions: {},\n  mapStyle: 'mapbox://styles/mapbox/light-v8',\n  preventStyleDiffing: false,\n  visible: true,\n  asyncRender: false,\n  onLoad: noop,\n  onError: defaultOnError,\n  width: 0,\n  height: 0,\n  longitude: 0,\n  latitude: 0,\n  zoom: 0,\n  bearing: 0,\n  pitch: 0,\n  altitude: 1.5\n};\nexport function getAccessToken() {\n  var accessToken = null;\n\n  if (typeof window !== 'undefined' && window.location) {\n    var match = window.location.search.match(/access_token=([^&\\/]*)/);\n    accessToken = match && match[1];\n  }\n\n  if (!accessToken && typeof process !== 'undefined') {\n    accessToken = accessToken || process.env.MapboxAccessToken || process.env.REACT_APP_MAPBOX_ACCESS_TOKEN;\n  }\n\n  return accessToken || 'no-token';\n}\n\nfunction checkPropTypes(props) {\n  var component = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 'component';\n\n  if (props.debug) {\n    PropTypes.checkPropTypes(propTypes, props, 'prop', component);\n  }\n}\n\nvar Mapbox = function () {\n  function Mapbox(props) {\n    var _this = this;\n\n    _classCallCheck(this, Mapbox);\n\n    _defineProperty(this, \"props\", defaultProps);\n\n    _defineProperty(this, \"width\", 0);\n\n    _defineProperty(this, \"height\", 0);\n\n    _defineProperty(this, \"_fireLoadEvent\", function () {\n      _this.props.onLoad({\n        type: 'load',\n        target: _this._map\n      });\n    });\n\n    _defineProperty(this, \"_handleError\", function (event) {\n      _this.props.onError(event);\n    });\n\n    if (!props.mapboxgl) {\n      throw new Error('Mapbox not available');\n    }\n\n    this.mapboxgl = props.mapboxgl;\n\n    if (!Mapbox.initialized) {\n      Mapbox.initialized = true;\n\n      this._checkStyleSheet(this.mapboxgl.version);\n    }\n\n    this._initialize(props);\n  }\n\n  _createClass(Mapbox, [{\n    key: \"finalize\",\n    value: function finalize() {\n      this._destroy();\n\n      return this;\n    }\n  }, {\n    key: \"setProps\",\n    value: function setProps(props) {\n      this._update(this.props, props);\n\n      return this;\n    }\n  }, {\n    key: \"redraw\",\n    value: function redraw() {\n      var map = this._map;\n\n      if (map.style) {\n        if (map._frame) {\n          map._frame.cancel();\n\n          map._frame = null;\n        }\n\n        map._render();\n      }\n    }\n  }, {\n    key: \"getMap\",\n    value: function getMap() {\n      return this._map;\n    }\n  }, {\n    key: \"_reuse\",\n    value: function _reuse(props) {\n      this._map = Mapbox.savedMap;\n\n      var oldContainer = this._map.getContainer();\n\n      var newContainer = props.container;\n      newContainer.classList.add('mapboxgl-map');\n\n      while (oldContainer.childNodes.length > 0) {\n        newContainer.appendChild(oldContainer.childNodes[0]);\n      }\n\n      this._map._container = newContainer;\n      Mapbox.savedMap = null;\n\n      if (props.mapStyle) {\n        this._map.setStyle(normalizeStyle(props.mapStyle), {\n          diff: false\n        });\n      }\n\n      if (this._map.isStyleLoaded()) {\n        this._fireLoadEvent();\n      } else {\n        this._map.once('styledata', this._fireLoadEvent);\n      }\n    }\n  }, {\n    key: \"_create\",\n    value: function _create(props) {\n      if (props.reuseMaps && Mapbox.savedMap) {\n        this._reuse(props);\n      } else {\n        if (props.gl) {\n          var getContext = HTMLCanvasElement.prototype.getContext;\n\n          HTMLCanvasElement.prototype.getContext = function () {\n            HTMLCanvasElement.prototype.getContext = getContext;\n            return props.gl;\n          };\n        }\n\n        var mapOptions = {\n          container: props.container,\n          center: [0, 0],\n          zoom: 8,\n          pitch: 0,\n          bearing: 0,\n          maxZoom: 24,\n          style: normalizeStyle(props.mapStyle),\n          interactive: false,\n          trackResize: false,\n          attributionControl: props.attributionControl,\n          preserveDrawingBuffer: props.preserveDrawingBuffer\n        };\n\n        if (props.transformRequest) {\n          mapOptions.transformRequest = props.transformRequest;\n        }\n\n        this._map = new this.mapboxgl.Map(Object.assign({}, mapOptions, props.mapOptions));\n\n        this._map.once('load', this._fireLoadEvent);\n\n        this._map.on('error', this._handleError);\n      }\n\n      return this;\n    }\n  }, {\n    key: \"_destroy\",\n    value: function _destroy() {\n      if (!this._map) {\n        return;\n      }\n\n      if (this.props.reuseMaps && !Mapbox.savedMap) {\n        Mapbox.savedMap = this._map;\n\n        this._map.off('load', this._fireLoadEvent);\n\n        this._map.off('error', this._handleError);\n\n        this._map.off('styledata', this._fireLoadEvent);\n      } else {\n        this._map.remove();\n      }\n\n      this._map = null;\n    }\n  }, {\n    key: \"_initialize\",\n    value: function _initialize(props) {\n      var _this2 = this;\n\n      props = Object.assign({}, defaultProps, props);\n      checkPropTypes(props, 'Mapbox');\n      this.mapboxgl.accessToken = props.mapboxApiAccessToken || defaultProps.mapboxApiAccessToken;\n      this.mapboxgl.baseApiUrl = props.mapboxApiUrl;\n\n      this._create(props);\n\n      var _props = props,\n          container = _props.container;\n      Object.defineProperty(container, 'offsetWidth', {\n        get: function get() {\n          return _this2.width;\n        }\n      });\n      Object.defineProperty(container, 'clientWidth', {\n        get: function get() {\n          return _this2.width;\n        }\n      });\n      Object.defineProperty(container, 'offsetHeight', {\n        get: function get() {\n          return _this2.height;\n        }\n      });\n      Object.defineProperty(container, 'clientHeight', {\n        get: function get() {\n          return _this2.height;\n        }\n      });\n\n      var canvas = this._map.getCanvas();\n\n      if (canvas) {\n        canvas.style.outline = 'none';\n      }\n\n      this._updateMapViewport({}, props);\n\n      this._updateMapSize({}, props);\n\n      this.props = props;\n    }\n  }, {\n    key: \"_update\",\n    value: function _update(oldProps, newProps) {\n      if (!this._map) {\n        return;\n      }\n\n      newProps = Object.assign({}, this.props, newProps);\n      checkPropTypes(newProps, 'Mapbox');\n\n      var viewportChanged = this._updateMapViewport(oldProps, newProps);\n\n      var sizeChanged = this._updateMapSize(oldProps, newProps);\n\n      this._updateMapStyle(oldProps, newProps);\n\n      if (!newProps.asyncRender && (viewportChanged || sizeChanged)) {\n        this.redraw();\n      }\n\n      this.props = newProps;\n    }\n  }, {\n    key: \"_updateMapStyle\",\n    value: function _updateMapStyle(oldProps, newProps) {\n      var styleChanged = oldProps.mapStyle !== newProps.mapStyle;\n\n      if (styleChanged) {\n        this._map.setStyle(normalizeStyle(newProps.mapStyle), {\n          diff: !newProps.preventStyleDiffing\n        });\n      }\n    }\n  }, {\n    key: \"_updateMapSize\",\n    value: function _updateMapSize(oldProps, newProps) {\n      var sizeChanged = oldProps.width !== newProps.width || oldProps.height !== newProps.height;\n\n      if (sizeChanged) {\n        this.width = newProps.width;\n        this.height = newProps.height;\n\n        this._map.resize();\n      }\n\n      return sizeChanged;\n    }\n  }, {\n    key: \"_updateMapViewport\",\n    value: function _updateMapViewport(oldProps, newProps) {\n      var oldViewState = this._getViewState(oldProps);\n\n      var newViewState = this._getViewState(newProps);\n\n      var viewportChanged = newViewState.latitude !== oldViewState.latitude || newViewState.longitude !== oldViewState.longitude || newViewState.zoom !== oldViewState.zoom || newViewState.pitch !== oldViewState.pitch || newViewState.bearing !== oldViewState.bearing || newViewState.altitude !== oldViewState.altitude;\n\n      if (viewportChanged) {\n        this._map.jumpTo(this._viewStateToMapboxProps(newViewState));\n\n        if (newViewState.altitude !== oldViewState.altitude) {\n          this._map.transform.altitude = newViewState.altitude;\n        }\n      }\n\n      return viewportChanged;\n    }\n  }, {\n    key: \"_getViewState\",\n    value: function _getViewState(props) {\n      var _ref = props.viewState || props,\n          longitude = _ref.longitude,\n          latitude = _ref.latitude,\n          zoom = _ref.zoom,\n          _ref$pitch = _ref.pitch,\n          pitch = _ref$pitch === void 0 ? 0 : _ref$pitch,\n          _ref$bearing = _ref.bearing,\n          bearing = _ref$bearing === void 0 ? 0 : _ref$bearing,\n          _ref$altitude = _ref.altitude,\n          altitude = _ref$altitude === void 0 ? 1.5 : _ref$altitude;\n\n      return {\n        longitude: longitude,\n        latitude: latitude,\n        zoom: zoom,\n        pitch: pitch,\n        bearing: bearing,\n        altitude: altitude\n      };\n    }\n  }, {\n    key: \"_checkStyleSheet\",\n    value: function _checkStyleSheet() {\n      var mapboxVersion = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : '0.47.0';\n\n      if (typeof document === 'undefined') {\n        return;\n      }\n\n      try {\n        var testElement = document.createElement('div');\n        testElement.className = 'mapboxgl-map';\n        testElement.style.display = 'none';\n        document.body.appendChild(testElement);\n        var isCssLoaded = window.getComputedStyle(testElement).position !== 'static';\n\n        if (!isCssLoaded) {\n          var link = document.createElement('link');\n          link.setAttribute('rel', 'stylesheet');\n          link.setAttribute('type', 'text/css');\n          link.setAttribute('href', \"https://api.tiles.mapbox.com/mapbox-gl-js/v\".concat(mapboxVersion, \"/mapbox-gl.css\"));\n          document.head.appendChild(link);\n        }\n      } catch (error) {}\n    }\n  }, {\n    key: \"_viewStateToMapboxProps\",\n    value: function _viewStateToMapboxProps(viewState) {\n      return {\n        center: [viewState.longitude, viewState.latitude],\n        zoom: viewState.zoom,\n        bearing: viewState.bearing,\n        pitch: viewState.pitch\n      };\n    }\n  }]);\n\n  return Mapbox;\n}();\n\n_defineProperty(Mapbox, \"initialized\", false);\n\n_defineProperty(Mapbox, \"propTypes\", propTypes);\n\n_defineProperty(Mapbox, \"defaultProps\", defaultProps);\n\n_defineProperty(Mapbox, \"savedMap\", null);\n\nexport { Mapbox as default };","var EPSILON = 1e-7;\n\nfunction isArray(value) {\n  return Array.isArray(value) || ArrayBuffer.isView(value);\n}\n\nexport function equals(a, b) {\n  if (a === b) {\n    return true;\n  }\n\n  if (isArray(a) && isArray(b)) {\n    if (a.length !== b.length) {\n      return false;\n    }\n\n    for (var i = 0; i < a.length; ++i) {\n      if (!equals(a[i], b[i])) {\n        return false;\n      }\n    }\n\n    return true;\n  }\n\n  return Math.abs(a - b) <= EPSILON;\n}\nexport function clamp(value, min, max) {\n  return Math.max(min, Math.min(max, value));\n}\nexport function lerp(a, b, t) {\n  if (isArray(a)) {\n    return a.map(function (ai, i) {\n      return lerp(ai, b[i], t);\n    });\n  }\n\n  return t * b + (1 - t) * a;\n}","export default function assert(condition, message) {\n  if (!condition) {\n    throw new Error(message || 'react-map-gl: assertion failed.');\n  }\n}","import _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\nimport _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    });\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nfunction _objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(Object(source), true).forEach(function (key) {\n        _defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}\n\nimport WebMercatorViewport, { normalizeViewportProps } from 'viewport-mercator-project';\nimport { clamp } from './math-utils';\nimport assert from './assert';\nexport var MAPBOX_LIMITS = {\n  minZoom: 0,\n  maxZoom: 24,\n  minPitch: 0,\n  maxPitch: 85\n};\nvar DEFAULT_STATE = {\n  pitch: 0,\n  bearing: 0,\n  altitude: 1.5\n};\nvar PITCH_MOUSE_THRESHOLD = 5;\nvar PITCH_ACCEL = 1.2;\n\nvar MapState = function () {\n  function MapState(_ref) {\n    var width = _ref.width,\n        height = _ref.height,\n        latitude = _ref.latitude,\n        longitude = _ref.longitude,\n        zoom = _ref.zoom,\n        _ref$bearing = _ref.bearing,\n        bearing = _ref$bearing === void 0 ? DEFAULT_STATE.bearing : _ref$bearing,\n        _ref$pitch = _ref.pitch,\n        pitch = _ref$pitch === void 0 ? DEFAULT_STATE.pitch : _ref$pitch,\n        _ref$altitude = _ref.altitude,\n        altitude = _ref$altitude === void 0 ? DEFAULT_STATE.altitude : _ref$altitude,\n        _ref$maxZoom = _ref.maxZoom,\n        maxZoom = _ref$maxZoom === void 0 ? MAPBOX_LIMITS.maxZoom : _ref$maxZoom,\n        _ref$minZoom = _ref.minZoom,\n        minZoom = _ref$minZoom === void 0 ? MAPBOX_LIMITS.minZoom : _ref$minZoom,\n        _ref$maxPitch = _ref.maxPitch,\n        maxPitch = _ref$maxPitch === void 0 ? MAPBOX_LIMITS.maxPitch : _ref$maxPitch,\n        _ref$minPitch = _ref.minPitch,\n        minPitch = _ref$minPitch === void 0 ? MAPBOX_LIMITS.minPitch : _ref$minPitch,\n        transitionDuration = _ref.transitionDuration,\n        transitionEasing = _ref.transitionEasing,\n        transitionInterpolator = _ref.transitionInterpolator,\n        transitionInterruption = _ref.transitionInterruption,\n        startPanLngLat = _ref.startPanLngLat,\n        startZoomLngLat = _ref.startZoomLngLat,\n        startRotatePos = _ref.startRotatePos,\n        startBearing = _ref.startBearing,\n        startPitch = _ref.startPitch,\n        startZoom = _ref.startZoom;\n\n    _classCallCheck(this, MapState);\n\n    assert(Number.isFinite(width), '`width` must be supplied');\n    assert(Number.isFinite(height), '`height` must be supplied');\n    assert(Number.isFinite(longitude), '`longitude` must be supplied');\n    assert(Number.isFinite(latitude), '`latitude` must be supplied');\n    assert(Number.isFinite(zoom), '`zoom` must be supplied');\n    this._viewportProps = this._applyConstraints({\n      width: width,\n      height: height,\n      latitude: latitude,\n      longitude: longitude,\n      zoom: zoom,\n      bearing: bearing,\n      pitch: pitch,\n      altitude: altitude,\n      maxZoom: maxZoom,\n      minZoom: minZoom,\n      maxPitch: maxPitch,\n      minPitch: minPitch,\n      transitionDuration: transitionDuration,\n      transitionEasing: transitionEasing,\n      transitionInterpolator: transitionInterpolator,\n      transitionInterruption: transitionInterruption\n    });\n    this._state = {\n      startPanLngLat: startPanLngLat,\n      startZoomLngLat: startZoomLngLat,\n      startRotatePos: startRotatePos,\n      startBearing: startBearing,\n      startPitch: startPitch,\n      startZoom: startZoom\n    };\n  }\n\n  _createClass(MapState, [{\n    key: \"getViewportProps\",\n    value: function getViewportProps() {\n      return this._viewportProps;\n    }\n  }, {\n    key: \"getState\",\n    value: function getState() {\n      return this._state;\n    }\n  }, {\n    key: \"panStart\",\n    value: function panStart(_ref2) {\n      var pos = _ref2.pos;\n      return this._getUpdatedMapState({\n        startPanLngLat: this._unproject(pos)\n      });\n    }\n  }, {\n    key: \"pan\",\n    value: function pan(_ref3) {\n      var pos = _ref3.pos,\n          startPos = _ref3.startPos;\n\n      var startPanLngLat = this._state.startPanLngLat || this._unproject(startPos);\n\n      if (!startPanLngLat) {\n        return this;\n      }\n\n      var _this$_calculateNewLn = this._calculateNewLngLat({\n        startPanLngLat: startPanLngLat,\n        pos: pos\n      }),\n          _this$_calculateNewLn2 = _slicedToArray(_this$_calculateNewLn, 2),\n          longitude = _this$_calculateNewLn2[0],\n          latitude = _this$_calculateNewLn2[1];\n\n      return this._getUpdatedMapState({\n        longitude: longitude,\n        latitude: latitude\n      });\n    }\n  }, {\n    key: \"panEnd\",\n    value: function panEnd() {\n      return this._getUpdatedMapState({\n        startPanLngLat: null\n      });\n    }\n  }, {\n    key: \"rotateStart\",\n    value: function rotateStart(_ref4) {\n      var pos = _ref4.pos;\n      return this._getUpdatedMapState({\n        startRotatePos: pos,\n        startBearing: this._viewportProps.bearing,\n        startPitch: this._viewportProps.pitch\n      });\n    }\n  }, {\n    key: \"rotate\",\n    value: function rotate(_ref5) {\n      var pos = _ref5.pos,\n          _ref5$deltaAngleX = _ref5.deltaAngleX,\n          deltaAngleX = _ref5$deltaAngleX === void 0 ? 0 : _ref5$deltaAngleX,\n          _ref5$deltaAngleY = _ref5.deltaAngleY,\n          deltaAngleY = _ref5$deltaAngleY === void 0 ? 0 : _ref5$deltaAngleY;\n      var _this$_state = this._state,\n          startRotatePos = _this$_state.startRotatePos,\n          startBearing = _this$_state.startBearing,\n          startPitch = _this$_state.startPitch;\n\n      if (!Number.isFinite(startBearing) || !Number.isFinite(startPitch)) {\n        return this;\n      }\n\n      var newRotation;\n\n      if (pos) {\n        newRotation = this._calculateNewPitchAndBearing(_objectSpread(_objectSpread({}, this._getRotationParams(pos, startRotatePos)), {}, {\n          startBearing: startBearing,\n          startPitch: startPitch\n        }));\n      } else {\n        newRotation = {\n          bearing: startBearing + deltaAngleX,\n          pitch: startPitch + deltaAngleY\n        };\n      }\n\n      return this._getUpdatedMapState(newRotation);\n    }\n  }, {\n    key: \"rotateEnd\",\n    value: function rotateEnd() {\n      return this._getUpdatedMapState({\n        startBearing: null,\n        startPitch: null\n      });\n    }\n  }, {\n    key: \"zoomStart\",\n    value: function zoomStart(_ref6) {\n      var pos = _ref6.pos;\n      return this._getUpdatedMapState({\n        startZoomLngLat: this._unproject(pos),\n        startZoom: this._viewportProps.zoom\n      });\n    }\n  }, {\n    key: \"zoom\",\n    value: function zoom(_ref7) {\n      var pos = _ref7.pos,\n          startPos = _ref7.startPos,\n          scale = _ref7.scale;\n      assert(scale > 0, '`scale` must be a positive number');\n      var _this$_state2 = this._state,\n          startZoom = _this$_state2.startZoom,\n          startZoomLngLat = _this$_state2.startZoomLngLat;\n\n      if (!Number.isFinite(startZoom)) {\n        startZoom = this._viewportProps.zoom;\n        startZoomLngLat = this._unproject(startPos) || this._unproject(pos);\n      }\n\n      assert(startZoomLngLat, '`startZoomLngLat` prop is required ' + 'for zoom behavior to calculate where to position the map.');\n\n      var zoom = this._calculateNewZoom({\n        scale: scale,\n        startZoom: startZoom || 0\n      });\n\n      var zoomedViewport = new WebMercatorViewport(Object.assign({}, this._viewportProps, {\n        zoom: zoom\n      }));\n\n      var _zoomedViewport$getMa = zoomedViewport.getMapCenterByLngLatPosition({\n        lngLat: startZoomLngLat,\n        pos: pos\n      }),\n          _zoomedViewport$getMa2 = _slicedToArray(_zoomedViewport$getMa, 2),\n          longitude = _zoomedViewport$getMa2[0],\n          latitude = _zoomedViewport$getMa2[1];\n\n      return this._getUpdatedMapState({\n        zoom: zoom,\n        longitude: longitude,\n        latitude: latitude\n      });\n    }\n  }, {\n    key: \"zoomEnd\",\n    value: function zoomEnd() {\n      return this._getUpdatedMapState({\n        startZoomLngLat: null,\n        startZoom: null\n      });\n    }\n  }, {\n    key: \"_getUpdatedMapState\",\n    value: function _getUpdatedMapState(newProps) {\n      return new MapState(Object.assign({}, this._viewportProps, this._state, newProps));\n    }\n  }, {\n    key: \"_applyConstraints\",\n    value: function _applyConstraints(props) {\n      var maxZoom = props.maxZoom,\n          minZoom = props.minZoom,\n          zoom = props.zoom;\n      props.zoom = clamp(zoom, minZoom, maxZoom);\n      var maxPitch = props.maxPitch,\n          minPitch = props.minPitch,\n          pitch = props.pitch;\n      props.pitch = clamp(pitch, minPitch, maxPitch);\n      Object.assign(props, normalizeViewportProps(props));\n      return props;\n    }\n  }, {\n    key: \"_unproject\",\n    value: function _unproject(pos) {\n      var viewport = new WebMercatorViewport(this._viewportProps);\n      return pos && viewport.unproject(pos);\n    }\n  }, {\n    key: \"_calculateNewLngLat\",\n    value: function _calculateNewLngLat(_ref8) {\n      var startPanLngLat = _ref8.startPanLngLat,\n          pos = _ref8.pos;\n      var viewport = new WebMercatorViewport(this._viewportProps);\n      return viewport.getMapCenterByLngLatPosition({\n        lngLat: startPanLngLat,\n        pos: pos\n      });\n    }\n  }, {\n    key: \"_calculateNewZoom\",\n    value: function _calculateNewZoom(_ref9) {\n      var scale = _ref9.scale,\n          startZoom = _ref9.startZoom;\n      var _this$_viewportProps = this._viewportProps,\n          maxZoom = _this$_viewportProps.maxZoom,\n          minZoom = _this$_viewportProps.minZoom;\n      var zoom = startZoom + Math.log2(scale);\n      return clamp(zoom, minZoom, maxZoom);\n    }\n  }, {\n    key: \"_calculateNewPitchAndBearing\",\n    value: function _calculateNewPitchAndBearing(_ref10) {\n      var deltaScaleX = _ref10.deltaScaleX,\n          deltaScaleY = _ref10.deltaScaleY,\n          startBearing = _ref10.startBearing,\n          startPitch = _ref10.startPitch;\n      deltaScaleY = clamp(deltaScaleY, -1, 1);\n      var _this$_viewportProps2 = this._viewportProps,\n          minPitch = _this$_viewportProps2.minPitch,\n          maxPitch = _this$_viewportProps2.maxPitch;\n      var bearing = startBearing + 180 * deltaScaleX;\n      var pitch = startPitch;\n\n      if (deltaScaleY > 0) {\n        pitch = startPitch + deltaScaleY * (maxPitch - startPitch);\n      } else if (deltaScaleY < 0) {\n        pitch = startPitch - deltaScaleY * (minPitch - startPitch);\n      }\n\n      return {\n        pitch: pitch,\n        bearing: bearing\n      };\n    }\n  }, {\n    key: \"_getRotationParams\",\n    value: function _getRotationParams(pos, startPos) {\n      var deltaX = pos[0] - startPos[0];\n      var deltaY = pos[1] - startPos[1];\n      var centerY = pos[1];\n      var startY = startPos[1];\n      var _this$_viewportProps3 = this._viewportProps,\n          width = _this$_viewportProps3.width,\n          height = _this$_viewportProps3.height;\n      var deltaScaleX = deltaX / width;\n      var deltaScaleY = 0;\n\n      if (deltaY > 0) {\n        if (Math.abs(height - startY) > PITCH_MOUSE_THRESHOLD) {\n          deltaScaleY = deltaY / (startY - height) * PITCH_ACCEL;\n        }\n      } else if (deltaY < 0) {\n        if (startY > PITCH_MOUSE_THRESHOLD) {\n          deltaScaleY = 1 - centerY / startY;\n        }\n      }\n\n      deltaScaleY = Math.min(1, Math.max(-1, deltaScaleY));\n      return {\n        deltaScaleX: deltaScaleX,\n        deltaScaleY: deltaScaleY\n      };\n    }\n  }]);\n\n  return MapState;\n}();\n\nexport { MapState as default };","import { worldToLngLat } from './web-mercator-utils';\nimport { mod, log2 } from './math-utils';\nvar TILE_SIZE = 512;\nexport default function normalizeViewportProps(_ref) {\n  var width = _ref.width,\n      height = _ref.height,\n      longitude = _ref.longitude,\n      latitude = _ref.latitude,\n      zoom = _ref.zoom,\n      _ref$pitch = _ref.pitch,\n      pitch = _ref$pitch === void 0 ? 0 : _ref$pitch,\n      _ref$bearing = _ref.bearing,\n      bearing = _ref$bearing === void 0 ? 0 : _ref$bearing;\n\n  if (longitude < -180 || longitude > 180) {\n    longitude = mod(longitude + 180, 360) - 180;\n  }\n\n  if (bearing < -180 || bearing > 180) {\n    bearing = mod(bearing + 180, 360) - 180;\n  }\n\n  var minZoom = log2(height / TILE_SIZE);\n\n  if (zoom <= minZoom) {\n    zoom = minZoom;\n    latitude = 0;\n  } else {\n    var halfHeightPixels = height / 2 / Math.pow(2, zoom);\n    var minLatitude = worldToLngLat([0, halfHeightPixels])[1];\n\n    if (latitude < minLatitude) {\n      latitude = minLatitude;\n    } else {\n      var maxLatitude = worldToLngLat([0, TILE_SIZE - halfHeightPixels])[1];\n\n      if (latitude > maxLatitude) {\n        latitude = maxLatitude;\n      }\n    }\n  }\n\n  return {\n    width: width,\n    height: height,\n    longitude: longitude,\n    latitude: latitude,\n    zoom: zoom,\n    pitch: pitch,\n    bearing: bearing\n  };\n}","import { MAPBOX_LIMITS } from './map-state';\n\nfunction decapitalize(s) {\n  return s[0].toLowerCase() + s.slice(1);\n}\n\nexport function checkVisibilityConstraints(props) {\n  var constraints = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : MAPBOX_LIMITS;\n\n  for (var constraintName in constraints) {\n    var type = constraintName.slice(0, 3);\n    var propName = decapitalize(constraintName.slice(3));\n\n    if (type === 'min' && props[propName] < constraints[constraintName]) {\n      return false;\n    }\n\n    if (type === 'max' && props[propName] > constraints[constraintName]) {\n      return false;\n    }\n  }\n\n  return true;\n}","import _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    });\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nfunction _objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(Object(source), true).forEach(function (key) {\n        _defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}\n\nimport * as React from 'react';\nimport { createContext, useState, useContext } from 'react';\nvar MapContext = createContext({\n  viewport: null,\n  map: null,\n  container: null,\n  onViewportChange: null,\n  onViewStateChange: null,\n  eventManager: null\n});\nexport var MapContextProvider = MapContext.Provider;\n\nfunction WrappedProvider(_ref) {\n  var value = _ref.value,\n      children = _ref.children;\n\n  var _useState = useState(null),\n      _useState2 = _slicedToArray(_useState, 2),\n      map = _useState2[0],\n      setMap = _useState2[1];\n\n  var context = useContext(MapContext);\n  value = _objectSpread(_objectSpread({\n    setMap: setMap\n  }, context), {}, {\n    map: context && context.map || map\n  }, value);\n  return React.createElement(MapContextProvider, {\n    value: value\n  }, children);\n}\n\nMapContext.Provider = WrappedProvider;\nexport default MapContext;","import { useEffect, useLayoutEffect } from 'react';\nvar useIsomorphicLayoutEffect = typeof window !== 'undefined' ? useLayoutEffect : useEffect;\nexport default useIsomorphicLayoutEffect;","export function getTerrainElevation(map, _ref) {\n  var longitude = _ref.longitude,\n      latitude = _ref.latitude;\n\n  if (map && map.queryTerrainElevation) {\n    return map.queryTerrainElevation([longitude, latitude]) || 0;\n  }\n\n  return 0;\n}","import _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    });\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nfunction _objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(Object(source), true).forEach(function (key) {\n        _defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}\n\nimport * as React from 'react';\nimport { useState, useRef, useCallback, useContext, useImperativeHandle, forwardRef } from 'react';\nimport WebMercatorViewport from 'viewport-mercator-project';\nimport ResizeObserver from 'resize-observer-polyfill';\nimport Mapbox from '../mapbox/mapbox';\nimport mapboxgl from '../utils/mapboxgl';\nimport { checkVisibilityConstraints } from '../utils/map-constraints';\nimport { MAPBOX_LIMITS } from '../utils/map-state';\nimport MapContext, { MapContextProvider } from './map-context';\nimport useIsomorphicLayoutEffect from '../utils/use-isomorphic-layout-effect';\nimport { getTerrainElevation } from '../utils/terrain';\nvar TOKEN_DOC_URL = 'https://visgl.github.io/react-map-gl/docs/get-started/mapbox-tokens';\nvar NO_TOKEN_WARNING = 'A valid API access token is required to use Mapbox data';\n\nfunction noop() {}\n\nexport function getViewport(_ref) {\n  var map = _ref.map,\n      props = _ref.props,\n      width = _ref.width,\n      height = _ref.height;\n\n  var viewportProps = _objectSpread(_objectSpread(_objectSpread({}, props), props.viewState), {}, {\n    width: width,\n    height: height\n  });\n\n  viewportProps.position = [0, 0, getTerrainElevation(map, viewportProps)];\n  return new WebMercatorViewport(viewportProps);\n}\nvar UNAUTHORIZED_ERROR_CODE = 401;\nvar CONTAINER_STYLE = {\n  position: 'absolute',\n  width: '100%',\n  height: '100%',\n  overflow: 'hidden'\n};\nvar defaultProps = Object.assign({}, Mapbox.defaultProps, {\n  disableTokenWarning: false,\n  visible: true,\n  onResize: noop,\n  className: '',\n  style: null,\n  visibilityConstraints: MAPBOX_LIMITS\n});\n\nfunction NoTokenWarning() {\n  var style = {\n    position: 'absolute',\n    left: 0,\n    top: 0\n  };\n  return React.createElement(\"div\", {\n    key: \"warning\",\n    id: \"no-token-warning\",\n    style: style\n  }, React.createElement(\"h3\", {\n    key: \"header\"\n  }, NO_TOKEN_WARNING), React.createElement(\"div\", {\n    key: \"text\"\n  }, \"For information on setting up your basemap, read\"), React.createElement(\"a\", {\n    key: \"link\",\n    href: TOKEN_DOC_URL\n  }, \"Note on Map Tokens\"));\n}\n\nfunction getRefHandles(mapboxRef) {\n  return {\n    getMap: function getMap() {\n      return mapboxRef.current && mapboxRef.current.getMap();\n    },\n    queryRenderedFeatures: function queryRenderedFeatures(geometry) {\n      var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n      var map = mapboxRef.current && mapboxRef.current.getMap();\n      return map && map.queryRenderedFeatures(geometry, options);\n    }\n  };\n}\n\nvar StaticMap = forwardRef(function (props, ref) {\n  var _useState = useState(true),\n      _useState2 = _slicedToArray(_useState, 2),\n      accessTokenValid = _useState2[0],\n      setTokenState = _useState2[1];\n\n  var _useState3 = useState({\n    width: 0,\n    height: 0\n  }),\n      _useState4 = _slicedToArray(_useState3, 2),\n      size = _useState4[0],\n      setSize = _useState4[1];\n\n  var mapboxRef = useRef(null);\n  var mapDivRef = useRef(null);\n  var containerRef = useRef(null);\n  var overlayRef = useRef(null);\n  var context = useContext(MapContext);\n  useIsomorphicLayoutEffect(function () {\n    if (!StaticMap.supported()) {\n      return undefined;\n    }\n\n    var mapbox = new Mapbox(_objectSpread(_objectSpread(_objectSpread({}, props), size), {}, {\n      mapboxgl: mapboxgl,\n      container: mapDivRef.current,\n      onError: function onError(evt) {\n        var statusCode = evt.error && evt.error.status || evt.status;\n\n        if (statusCode === UNAUTHORIZED_ERROR_CODE && accessTokenValid) {\n          console.error(NO_TOKEN_WARNING);\n          setTokenState(false);\n        }\n\n        props.onError(evt);\n      }\n    }));\n    mapboxRef.current = mapbox;\n\n    if (context && context.setMap) {\n      context.setMap(mapbox.getMap());\n    }\n\n    var resizeObserver = new ResizeObserver(function (entries) {\n      if (entries[0].contentRect) {\n        var _entries$0$contentRec = entries[0].contentRect,\n            _width = _entries$0$contentRec.width,\n            _height = _entries$0$contentRec.height;\n        setSize({\n          width: _width,\n          height: _height\n        });\n        props.onResize({\n          width: _width,\n          height: _height\n        });\n      }\n    });\n    resizeObserver.observe(containerRef.current);\n    return function () {\n      mapbox.finalize();\n      mapboxRef.current = null;\n      resizeObserver.disconnect();\n    };\n  }, []);\n  useIsomorphicLayoutEffect(function () {\n    if (mapboxRef.current) {\n      mapboxRef.current.setProps(_objectSpread(_objectSpread({}, props), size));\n    }\n  });\n  var map = mapboxRef.current && mapboxRef.current.getMap();\n  useImperativeHandle(ref, function () {\n    return getRefHandles(mapboxRef);\n  }, []);\n  var preventScroll = useCallback(function (_ref2) {\n    var target = _ref2.target;\n\n    if (target === overlayRef.current) {\n      target.scrollTo(0, 0);\n    }\n  }, []);\n  var overlays = map && React.createElement(MapContextProvider, {\n    value: _objectSpread(_objectSpread({}, context), {}, {\n      viewport: context.viewport || getViewport(_objectSpread({\n        map: map,\n        props: props\n      }, size)),\n      map: map,\n      container: context.container || containerRef.current\n    })\n  }, React.createElement(\"div\", {\n    key: \"map-overlays\",\n    className: \"overlays\",\n    ref: overlayRef,\n    style: CONTAINER_STYLE,\n    onScroll: preventScroll\n  }, props.children));\n  var className = props.className,\n      width = props.width,\n      height = props.height,\n      style = props.style,\n      visibilityConstraints = props.visibilityConstraints;\n  var mapContainerStyle = Object.assign({\n    position: 'relative'\n  }, style, {\n    width: width,\n    height: height\n  });\n  var visible = props.visible && checkVisibilityConstraints(props.viewState || props, visibilityConstraints);\n  var mapStyle = Object.assign({}, CONTAINER_STYLE, {\n    visibility: visible ? 'inherit' : 'hidden'\n  });\n  return React.createElement(\"div\", {\n    key: \"map-container\",\n    ref: containerRef,\n    style: mapContainerStyle\n  }, React.createElement(\"div\", {\n    key: \"map-mapbox\",\n    ref: mapDivRef,\n    style: mapStyle,\n    className: className\n  }), overlays, !accessTokenValid && !props.disableTokenWarning && React.createElement(NoTokenWarning, null));\n});\n\nStaticMap.supported = function () {\n  return mapboxgl && mapboxgl.supported();\n};\n\nStaticMap.defaultProps = defaultProps;\nexport default StaticMap;","import _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\n\nfunction _createForOfIteratorHelper(o, allowArrayLike) {\n  var it;\n\n  if (typeof Symbol === \"undefined\" || o[Symbol.iterator] == null) {\n    if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") {\n      if (it) o = it;\n      var i = 0;\n\n      var F = function F() {};\n\n      return {\n        s: F,\n        n: function n() {\n          if (i >= o.length) return {\n            done: true\n          };\n          return {\n            done: false,\n            value: o[i++]\n          };\n        },\n        e: function e(_e) {\n          throw _e;\n        },\n        f: F\n      };\n    }\n\n    throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n  }\n\n  var normalCompletion = true,\n      didErr = false,\n      err;\n  return {\n    s: function s() {\n      it = o[Symbol.iterator]();\n    },\n    n: function n() {\n      var step = it.next();\n      normalCompletion = step.done;\n      return step;\n    },\n    e: function e(_e2) {\n      didErr = true;\n      err = _e2;\n    },\n    f: function f() {\n      try {\n        if (!normalCompletion && it[\"return\"] != null) it[\"return\"]();\n      } finally {\n        if (didErr) throw err;\n      }\n    }\n  };\n}\n\nfunction _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return _arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen);\n}\n\nfunction _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n\n  for (var i = 0, arr2 = new Array(len); i < len; i++) {\n    arr2[i] = arr[i];\n  }\n\n  return arr2;\n}\n\nimport { equals } from '../math-utils';\nimport assert from '../assert';\n\nvar TransitionInterpolator = function () {\n  function TransitionInterpolator() {\n    _classCallCheck(this, TransitionInterpolator);\n\n    _defineProperty(this, \"propNames\", []);\n  }\n\n  _createClass(TransitionInterpolator, [{\n    key: \"arePropsEqual\",\n    value: function arePropsEqual(currentProps, nextProps) {\n      var _iterator = _createForOfIteratorHelper(this.propNames || []),\n          _step;\n\n      try {\n        for (_iterator.s(); !(_step = _iterator.n()).done;) {\n          var key = _step.value;\n\n          if (!equals(currentProps[key], nextProps[key])) {\n            return false;\n          }\n        }\n      } catch (err) {\n        _iterator.e(err);\n      } finally {\n        _iterator.f();\n      }\n\n      return true;\n    }\n  }, {\n    key: \"initializeProps\",\n    value: function initializeProps(startProps, endProps) {\n      return {\n        start: startProps,\n        end: endProps\n      };\n    }\n  }, {\n    key: \"interpolateProps\",\n    value: function interpolateProps(startProps, endProps, t) {\n      assert(false, 'interpolateProps is not implemented');\n    }\n  }, {\n    key: \"getDuration\",\n    value: function getDuration(startProps, endProps) {\n      return endProps.transitionDuration;\n    }\n  }]);\n\n  return TransitionInterpolator;\n}();\n\nexport { TransitionInterpolator as default };","export default function _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}","import setPrototypeOf from \"./setPrototypeOf.js\";\nexport default function _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  Object.defineProperty(subClass, \"prototype\", {\n    value: Object.create(superClass && superClass.prototype, {\n      constructor: {\n        value: subClass,\n        writable: true,\n        configurable: true\n      }\n    }),\n    writable: false\n  });\n  if (superClass) setPrototypeOf(subClass, superClass);\n}","import _typeof from \"@babel/runtime/helpers/typeof\";\nimport assertThisInitialized from \"./assertThisInitialized.js\";\nexport default function _possibleConstructorReturn(self, call) {\n  if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) {\n    return call;\n  } else if (call !== void 0) {\n    throw new TypeError(\"Derived constructors may only return object or undefined\");\n  }\n\n  return assertThisInitialized(self);\n}","export default function _getPrototypeOf(o) {\n  _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}","var WRAPPED_ANGULAR_PROPS = {\n  longitude: 1,\n  bearing: 1\n};\nexport function mod(value, divisor) {\n  var modulus = value % divisor;\n  return modulus < 0 ? divisor + modulus : modulus;\n}\nexport function isValid(prop) {\n  return Number.isFinite(prop) || Array.isArray(prop);\n}\n\nfunction isWrappedAngularProp(propName) {\n  return propName in WRAPPED_ANGULAR_PROPS;\n}\n\nexport function getEndValueByShortestPath(propName, startValue, endValue) {\n  if (isWrappedAngularProp(propName) && Math.abs(endValue - startValue) > 180) {\n    endValue = endValue < 0 ? endValue + 360 : endValue - 360;\n  }\n\n  return endValue;\n}","import _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _assertThisInitialized from \"@babel/runtime/helpers/esm/assertThisInitialized\";\nimport _inherits from \"@babel/runtime/helpers/esm/inherits\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\n\nfunction _createForOfIteratorHelper(o, allowArrayLike) {\n  var it;\n\n  if (typeof Symbol === \"undefined\" || o[Symbol.iterator] == null) {\n    if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") {\n      if (it) o = it;\n      var i = 0;\n\n      var F = function F() {};\n\n      return {\n        s: F,\n        n: function n() {\n          if (i >= o.length) return {\n            done: true\n          };\n          return {\n            done: false,\n            value: o[i++]\n          };\n        },\n        e: function e(_e) {\n          throw _e;\n        },\n        f: F\n      };\n    }\n\n    throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n  }\n\n  var normalCompletion = true,\n      didErr = false,\n      err;\n  return {\n    s: function s() {\n      it = o[Symbol.iterator]();\n    },\n    n: function n() {\n      var step = it.next();\n      normalCompletion = step.done;\n      return step;\n    },\n    e: function e(_e2) {\n      didErr = true;\n      err = _e2;\n    },\n    f: function f() {\n      try {\n        if (!normalCompletion && it[\"return\"] != null) it[\"return\"]();\n      } finally {\n        if (didErr) throw err;\n      }\n    }\n  };\n}\n\nfunction _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return _arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen);\n}\n\nfunction _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n\n  for (var i = 0, arr2 = new Array(len); i < len; i++) {\n    arr2[i] = arr[i];\n  }\n\n  return arr2;\n}\n\nfunction _createSuper(Derived) {\n  var hasNativeReflectConstruct = _isNativeReflectConstruct();\n\n  return function _createSuperInternal() {\n    var Super = _getPrototypeOf(Derived),\n        result;\n\n    if (hasNativeReflectConstruct) {\n      var NewTarget = _getPrototypeOf(this).constructor;\n\n      result = Reflect.construct(Super, arguments, NewTarget);\n    } else {\n      result = Super.apply(this, arguments);\n    }\n\n    return _possibleConstructorReturn(this, result);\n  };\n}\n\nfunction _isNativeReflectConstruct() {\n  if (typeof Reflect === \"undefined\" || !Reflect.construct) return false;\n  if (Reflect.construct.sham) return false;\n  if (typeof Proxy === \"function\") return true;\n\n  try {\n    Date.prototype.toString.call(Reflect.construct(Date, [], function () {}));\n    return true;\n  } catch (e) {\n    return false;\n  }\n}\n\nimport assert from '../assert';\nimport TransitionInterpolator from './transition-interpolator';\nimport { flyToViewport, getFlyToDuration } from 'viewport-mercator-project';\nimport { isValid, getEndValueByShortestPath } from './transition-utils';\nimport { lerp } from '../math-utils';\nvar VIEWPORT_TRANSITION_PROPS = ['longitude', 'latitude', 'zoom', 'bearing', 'pitch'];\nvar REQUIRED_PROPS = ['latitude', 'longitude', 'zoom', 'width', 'height'];\nvar LINEARLY_INTERPOLATED_PROPS = ['bearing', 'pitch'];\nvar DEFAULT_OPTS = {\n  speed: 1.2,\n  curve: 1.414\n};\n\nvar ViewportFlyToInterpolator = function (_TransitionInterpolat) {\n  _inherits(ViewportFlyToInterpolator, _TransitionInterpolat);\n\n  var _super = _createSuper(ViewportFlyToInterpolator);\n\n  function ViewportFlyToInterpolator() {\n    var _this;\n\n    var props = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n    _classCallCheck(this, ViewportFlyToInterpolator);\n\n    _this = _super.call(this);\n\n    _defineProperty(_assertThisInitialized(_this), \"propNames\", VIEWPORT_TRANSITION_PROPS);\n\n    _this.props = Object.assign({}, DEFAULT_OPTS, props);\n    return _this;\n  }\n\n  _createClass(ViewportFlyToInterpolator, [{\n    key: \"initializeProps\",\n    value: function initializeProps(startProps, endProps) {\n      var startViewportProps = {};\n      var endViewportProps = {};\n\n      var _iterator = _createForOfIteratorHelper(REQUIRED_PROPS),\n          _step;\n\n      try {\n        for (_iterator.s(); !(_step = _iterator.n()).done;) {\n          var key = _step.value;\n          var startValue = startProps[key];\n          var endValue = endProps[key];\n          assert(isValid(startValue) && isValid(endValue), \"\".concat(key, \" must be supplied for transition\"));\n          startViewportProps[key] = startValue;\n          endViewportProps[key] = getEndValueByShortestPath(key, startValue, endValue);\n        }\n      } catch (err) {\n        _iterator.e(err);\n      } finally {\n        _iterator.f();\n      }\n\n      var _iterator2 = _createForOfIteratorHelper(LINEARLY_INTERPOLATED_PROPS),\n          _step2;\n\n      try {\n        for (_iterator2.s(); !(_step2 = _iterator2.n()).done;) {\n          var _key = _step2.value;\n\n          var _startValue = startProps[_key] || 0;\n\n          var _endValue = endProps[_key] || 0;\n\n          startViewportProps[_key] = _startValue;\n          endViewportProps[_key] = getEndValueByShortestPath(_key, _startValue, _endValue);\n        }\n      } catch (err) {\n        _iterator2.e(err);\n      } finally {\n        _iterator2.f();\n      }\n\n      return {\n        start: startViewportProps,\n        end: endViewportProps\n      };\n    }\n  }, {\n    key: \"interpolateProps\",\n    value: function interpolateProps(startProps, endProps, t) {\n      var viewport = flyToViewport(startProps, endProps, t, this.props);\n\n      var _iterator3 = _createForOfIteratorHelper(LINEARLY_INTERPOLATED_PROPS),\n          _step3;\n\n      try {\n        for (_iterator3.s(); !(_step3 = _iterator3.n()).done;) {\n          var key = _step3.value;\n          viewport[key] = lerp(startProps[key], endProps[key], t);\n        }\n      } catch (err) {\n        _iterator3.e(err);\n      } finally {\n        _iterator3.f();\n      }\n\n      return viewport;\n    }\n  }, {\n    key: \"getDuration\",\n    value: function getDuration(startProps, endProps) {\n      var transitionDuration = endProps.transitionDuration;\n\n      if (transitionDuration === 'auto') {\n        transitionDuration = getFlyToDuration(startProps, endProps, this.props);\n      }\n\n      return transitionDuration;\n    }\n  }]);\n\n  return ViewportFlyToInterpolator;\n}(TransitionInterpolator);\n\nexport { ViewportFlyToInterpolator as default };","import _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\nimport _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _inherits from \"@babel/runtime/helpers/esm/inherits\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/esm/getPrototypeOf\";\n\nfunction _createForOfIteratorHelper(o, allowArrayLike) {\n  var it;\n\n  if (typeof Symbol === \"undefined\" || o[Symbol.iterator] == null) {\n    if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") {\n      if (it) o = it;\n      var i = 0;\n\n      var F = function F() {};\n\n      return {\n        s: F,\n        n: function n() {\n          if (i >= o.length) return {\n            done: true\n          };\n          return {\n            done: false,\n            value: o[i++]\n          };\n        },\n        e: function e(_e) {\n          throw _e;\n        },\n        f: F\n      };\n    }\n\n    throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n  }\n\n  var normalCompletion = true,\n      didErr = false,\n      err;\n  return {\n    s: function s() {\n      it = o[Symbol.iterator]();\n    },\n    n: function n() {\n      var step = it.next();\n      normalCompletion = step.done;\n      return step;\n    },\n    e: function e(_e2) {\n      didErr = true;\n      err = _e2;\n    },\n    f: function f() {\n      try {\n        if (!normalCompletion && it[\"return\"] != null) it[\"return\"]();\n      } finally {\n        if (didErr) throw err;\n      }\n    }\n  };\n}\n\nfunction _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return _arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen);\n}\n\nfunction _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n\n  for (var i = 0, arr2 = new Array(len); i < len; i++) {\n    arr2[i] = arr[i];\n  }\n\n  return arr2;\n}\n\nfunction _createSuper(Derived) {\n  var hasNativeReflectConstruct = _isNativeReflectConstruct();\n\n  return function _createSuperInternal() {\n    var Super = _getPrototypeOf(Derived),\n        result;\n\n    if (hasNativeReflectConstruct) {\n      var NewTarget = _getPrototypeOf(this).constructor;\n\n      result = Reflect.construct(Super, arguments, NewTarget);\n    } else {\n      result = Super.apply(this, arguments);\n    }\n\n    return _possibleConstructorReturn(this, result);\n  };\n}\n\nfunction _isNativeReflectConstruct() {\n  if (typeof Reflect === \"undefined\" || !Reflect.construct) return false;\n  if (Reflect.construct.sham) return false;\n  if (typeof Proxy === \"function\") return true;\n\n  try {\n    Date.prototype.toString.call(Reflect.construct(Date, [], function () {}));\n    return true;\n  } catch (e) {\n    return false;\n  }\n}\n\nimport WebMercatorViewport from 'viewport-mercator-project';\nimport assert from '../assert';\nimport TransitionInterpolator from './transition-interpolator';\nimport { isValid, getEndValueByShortestPath } from './transition-utils';\nimport { lerp } from '../math-utils';\nvar VIEWPORT_TRANSITION_PROPS = ['longitude', 'latitude', 'zoom', 'bearing', 'pitch'];\n\nvar LinearInterpolator = function (_TransitionInterpolat) {\n  _inherits(LinearInterpolator, _TransitionInterpolat);\n\n  var _super = _createSuper(LinearInterpolator);\n\n  function LinearInterpolator() {\n    var _this;\n\n    var opts = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n    _classCallCheck(this, LinearInterpolator);\n\n    _this = _super.call(this);\n\n    if (Array.isArray(opts)) {\n      opts = {\n        transitionProps: opts\n      };\n    }\n\n    _this.propNames = opts.transitionProps || VIEWPORT_TRANSITION_PROPS;\n\n    if (opts.around) {\n      _this.around = opts.around;\n    }\n\n    return _this;\n  }\n\n  _createClass(LinearInterpolator, [{\n    key: \"initializeProps\",\n    value: function initializeProps(startProps, endProps) {\n      var startViewportProps = {};\n      var endViewportProps = {};\n\n      if (this.around) {\n        startViewportProps.around = this.around;\n        var aroundLngLat = new WebMercatorViewport(startProps).unproject(this.around);\n        Object.assign(endViewportProps, endProps, {\n          around: new WebMercatorViewport(endProps).project(aroundLngLat),\n          aroundLngLat: aroundLngLat\n        });\n      }\n\n      var _iterator = _createForOfIteratorHelper(this.propNames),\n          _step;\n\n      try {\n        for (_iterator.s(); !(_step = _iterator.n()).done;) {\n          var key = _step.value;\n          var startValue = startProps[key];\n          var endValue = endProps[key];\n          assert(isValid(startValue) && isValid(endValue), \"\".concat(key, \" must be supplied for transition\"));\n          startViewportProps[key] = startValue;\n          endViewportProps[key] = getEndValueByShortestPath(key, startValue, endValue);\n        }\n      } catch (err) {\n        _iterator.e(err);\n      } finally {\n        _iterator.f();\n      }\n\n      return {\n        start: startViewportProps,\n        end: endViewportProps\n      };\n    }\n  }, {\n    key: \"interpolateProps\",\n    value: function interpolateProps(startProps, endProps, t) {\n      var viewport = {};\n\n      var _iterator2 = _createForOfIteratorHelper(this.propNames),\n          _step2;\n\n      try {\n        for (_iterator2.s(); !(_step2 = _iterator2.n()).done;) {\n          var key = _step2.value;\n          viewport[key] = lerp(startProps[key], endProps[key], t);\n        }\n      } catch (err) {\n        _iterator2.e(err);\n      } finally {\n        _iterator2.f();\n      }\n\n      if (endProps.around) {\n        var _WebMercatorViewport$ = new WebMercatorViewport(Object.assign({}, endProps, viewport)).getMapCenterByLngLatPosition({\n          lngLat: endProps.aroundLngLat,\n          pos: lerp(startProps.around, endProps.around, t)\n        }),\n            _WebMercatorViewport$2 = _slicedToArray(_WebMercatorViewport$, 2),\n            longitude = _WebMercatorViewport$2[0],\n            latitude = _WebMercatorViewport$2[1];\n\n        viewport.longitude = longitude;\n        viewport.latitude = latitude;\n      }\n\n      return viewport;\n    }\n  }]);\n\n  return LinearInterpolator;\n}(TransitionInterpolator);\n\nexport { LinearInterpolator as default };","import _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport assert from './assert';\nimport { LinearInterpolator } from './transition';\nimport MapState from './map-state';\n\nvar noop = function noop() {};\n\nexport function cropEasingFunction(easing, x0) {\n  var y0 = easing(x0);\n  return function (t) {\n    return 1 / (1 - y0) * (easing(t * (1 - x0) + x0) - y0);\n  };\n}\nexport var TRANSITION_EVENTS = {\n  BREAK: 1,\n  SNAP_TO_END: 2,\n  IGNORE: 3,\n  UPDATE: 4\n};\nvar DEFAULT_PROPS = {\n  transitionDuration: 0,\n  transitionEasing: function transitionEasing(t) {\n    return t;\n  },\n  transitionInterpolator: new LinearInterpolator(),\n  transitionInterruption: TRANSITION_EVENTS.BREAK,\n  onTransitionStart: noop,\n  onTransitionInterrupt: noop,\n  onTransitionEnd: noop\n};\n\nvar TransitionManager = function () {\n  function TransitionManager() {\n    var _this = this;\n\n    var opts = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n    _classCallCheck(this, TransitionManager);\n\n    _defineProperty(this, \"_animationFrame\", null);\n\n    _defineProperty(this, \"_onTransitionFrame\", function () {\n      _this._animationFrame = requestAnimationFrame(_this._onTransitionFrame);\n\n      _this._updateViewport();\n    });\n\n    this.props = null;\n    this.onViewportChange = opts.onViewportChange || noop;\n    this.onStateChange = opts.onStateChange || noop;\n    this.time = opts.getTime || Date.now;\n  }\n\n  _createClass(TransitionManager, [{\n    key: \"getViewportInTransition\",\n    value: function getViewportInTransition() {\n      return this._animationFrame ? this.state.propsInTransition : null;\n    }\n  }, {\n    key: \"processViewportChange\",\n    value: function processViewportChange(nextProps) {\n      var currentProps = this.props;\n      this.props = nextProps;\n\n      if (!currentProps || this._shouldIgnoreViewportChange(currentProps, nextProps)) {\n        return false;\n      }\n\n      if (this._isTransitionEnabled(nextProps)) {\n        var startProps = Object.assign({}, currentProps);\n        var endProps = Object.assign({}, nextProps);\n\n        if (this._isTransitionInProgress()) {\n          currentProps.onTransitionInterrupt();\n\n          if (this.state.interruption === TRANSITION_EVENTS.SNAP_TO_END) {\n            Object.assign(startProps, this.state.endProps);\n          } else {\n            Object.assign(startProps, this.state.propsInTransition);\n          }\n\n          if (this.state.interruption === TRANSITION_EVENTS.UPDATE) {\n            var currentTime = this.time();\n            var x0 = (currentTime - this.state.startTime) / this.state.duration;\n            endProps.transitionDuration = this.state.duration - (currentTime - this.state.startTime);\n            endProps.transitionEasing = cropEasingFunction(this.state.easing, x0);\n            endProps.transitionInterpolator = startProps.transitionInterpolator;\n          }\n        }\n\n        endProps.onTransitionStart();\n\n        this._triggerTransition(startProps, endProps);\n\n        return true;\n      }\n\n      if (this._isTransitionInProgress()) {\n        currentProps.onTransitionInterrupt();\n\n        this._endTransition();\n      }\n\n      return false;\n    }\n  }, {\n    key: \"_isTransitionInProgress\",\n    value: function _isTransitionInProgress() {\n      return Boolean(this._animationFrame);\n    }\n  }, {\n    key: \"_isTransitionEnabled\",\n    value: function _isTransitionEnabled(props) {\n      var transitionDuration = props.transitionDuration,\n          transitionInterpolator = props.transitionInterpolator;\n      return (transitionDuration > 0 || transitionDuration === 'auto') && Boolean(transitionInterpolator);\n    }\n  }, {\n    key: \"_isUpdateDueToCurrentTransition\",\n    value: function _isUpdateDueToCurrentTransition(props) {\n      if (this.state.propsInTransition) {\n        return this.state.interpolator.arePropsEqual(props, this.state.propsInTransition);\n      }\n\n      return false;\n    }\n  }, {\n    key: \"_shouldIgnoreViewportChange\",\n    value: function _shouldIgnoreViewportChange(currentProps, nextProps) {\n      if (!currentProps) {\n        return true;\n      }\n\n      if (this._isTransitionInProgress()) {\n        return this.state.interruption === TRANSITION_EVENTS.IGNORE || this._isUpdateDueToCurrentTransition(nextProps);\n      }\n\n      if (this._isTransitionEnabled(nextProps)) {\n        return nextProps.transitionInterpolator.arePropsEqual(currentProps, nextProps);\n      }\n\n      return true;\n    }\n  }, {\n    key: \"_triggerTransition\",\n    value: function _triggerTransition(startProps, endProps) {\n      assert(this._isTransitionEnabled(endProps));\n\n      if (this._animationFrame) {\n        cancelAnimationFrame(this._animationFrame);\n      }\n\n      var transitionInterpolator = endProps.transitionInterpolator;\n      var duration = transitionInterpolator.getDuration ? transitionInterpolator.getDuration(startProps, endProps) : endProps.transitionDuration;\n\n      if (duration === 0) {\n        return;\n      }\n\n      var initialProps = endProps.transitionInterpolator.initializeProps(startProps, endProps);\n      var interactionState = {\n        inTransition: true,\n        isZooming: startProps.zoom !== endProps.zoom,\n        isPanning: startProps.longitude !== endProps.longitude || startProps.latitude !== endProps.latitude,\n        isRotating: startProps.bearing !== endProps.bearing || startProps.pitch !== endProps.pitch\n      };\n      this.state = {\n        duration: duration,\n        easing: endProps.transitionEasing,\n        interpolator: endProps.transitionInterpolator,\n        interruption: endProps.transitionInterruption,\n        startTime: this.time(),\n        startProps: initialProps.start,\n        endProps: initialProps.end,\n        animation: null,\n        propsInTransition: {}\n      };\n\n      this._onTransitionFrame();\n\n      this.onStateChange(interactionState);\n    }\n  }, {\n    key: \"_endTransition\",\n    value: function _endTransition() {\n      if (this._animationFrame) {\n        cancelAnimationFrame(this._animationFrame);\n        this._animationFrame = null;\n      }\n\n      this.onStateChange({\n        inTransition: false,\n        isZooming: false,\n        isPanning: false,\n        isRotating: false\n      });\n    }\n  }, {\n    key: \"_updateViewport\",\n    value: function _updateViewport() {\n      var currentTime = this.time();\n      var _this$state = this.state,\n          startTime = _this$state.startTime,\n          duration = _this$state.duration,\n          easing = _this$state.easing,\n          interpolator = _this$state.interpolator,\n          startProps = _this$state.startProps,\n          endProps = _this$state.endProps;\n      var shouldEnd = false;\n      var t = (currentTime - startTime) / duration;\n\n      if (t >= 1) {\n        t = 1;\n        shouldEnd = true;\n      }\n\n      t = easing(t);\n      var viewport = interpolator.interpolateProps(startProps, endProps, t);\n      var mapState = new MapState(Object.assign({}, this.props, viewport));\n      this.state.propsInTransition = mapState.getViewportProps();\n      this.onViewportChange(this.state.propsInTransition, this.props);\n\n      if (shouldEnd) {\n        this._endTransition();\n\n        this.props.onTransitionEnd();\n      }\n    }\n  }]);\n\n  return TransitionManager;\n}();\n\n_defineProperty(TransitionManager, \"defaultProps\", DEFAULT_PROPS);\n\nexport { TransitionManager as default };","var INPUT_START = 1;\nvar INPUT_MOVE = 2;\nvar INPUT_END = 4;\nvar MOUSE_INPUT_MAP = {\n  mousedown: INPUT_START,\n  mousemove: INPUT_MOVE,\n  mouseup: INPUT_END\n};\n\nfunction some(array, predict) {\n  for (var i = 0; i < array.length; i++) {\n    if (predict(array[i])) {\n      return true;\n    }\n  }\n\n  return false;\n}\n\nexport function enhancePointerEventInput(PointerEventInput) {\n  var oldHandler = PointerEventInput.prototype.handler;\n\n  PointerEventInput.prototype.handler = function handler(ev) {\n    var store = this.store;\n\n    if (ev.button > 0 && ev.type === 'pointerdown') {\n      if (!some(store, function (e) {\n        return e.pointerId === ev.pointerId;\n      })) {\n        store.push(ev);\n      }\n    }\n\n    oldHandler.call(this, ev);\n  };\n}\nexport function enhanceMouseInput(MouseInput) {\n  MouseInput.prototype.handler = function handler(ev) {\n    var eventType = MOUSE_INPUT_MAP[ev.type];\n\n    if (eventType & INPUT_START && ev.button >= 0) {\n      this.pressed = true;\n    }\n\n    if (eventType & INPUT_MOVE && ev.which === 0) {\n      eventType = INPUT_END;\n    }\n\n    if (!this.pressed) {\n      return;\n    }\n\n    if (eventType & INPUT_END) {\n      this.pressed = false;\n    }\n\n    this.callback(this.manager, eventType, {\n      pointers: [ev],\n      changedPointers: [ev],\n      pointerType: 'mouse',\n      srcEvent: ev\n    });\n  };\n}","import hammerjs from 'hammerjs';\nimport { enhancePointerEventInput, enhanceMouseInput } from './hammer-overrides';\nenhancePointerEventInput(hammerjs.PointerEventInput);\nenhanceMouseInput(hammerjs.MouseInput);\nexport var Manager = hammerjs.Manager;\nexport default hammerjs;","import Hammer from './utils/hammer';\nexport var RECOGNIZERS = Hammer ? [[Hammer.Pan, {\n  event: 'tripan',\n  pointers: 3,\n  threshold: 0,\n  enable: false\n}], [Hammer.Rotate, {\n  enable: false\n}], [Hammer.Pinch, {\n  enable: false\n}], [Hammer.Swipe, {\n  enable: false\n}], [Hammer.Pan, {\n  threshold: 0,\n  enable: false\n}], [Hammer.Press, {\n  enable: false\n}], [Hammer.Tap, {\n  event: 'doubletap',\n  taps: 2,\n  enable: false\n}], [Hammer.Tap, {\n  event: 'anytap',\n  enable: false\n}], [Hammer.Tap, {\n  enable: false\n}]] : null;\nexport var RECOGNIZER_COMPATIBLE_MAP = {\n  tripan: ['rotate', 'pinch', 'pan'],\n  rotate: ['pinch'],\n  pinch: ['pan'],\n  pan: ['press', 'doubletap', 'anytap', 'tap'],\n  doubletap: ['anytap'],\n  anytap: ['tap']\n};\nexport var RECOGNIZER_FALLBACK_MAP = {\n  doubletap: ['tap']\n};\nexport var BASIC_EVENT_ALIASES = {\n  pointerdown: 'pointerdown',\n  pointermove: 'pointermove',\n  pointerup: 'pointerup',\n  touchstart: 'pointerdown',\n  touchmove: 'pointermove',\n  touchend: 'pointerup',\n  mousedown: 'pointerdown',\n  mousemove: 'pointermove',\n  mouseup: 'pointerup'\n};\nexport var INPUT_EVENT_TYPES = {\n  KEY_EVENTS: ['keydown', 'keyup'],\n  MOUSE_EVENTS: ['mousedown', 'mousemove', 'mouseup', 'mouseover', 'mouseout', 'mouseleave'],\n  WHEEL_EVENTS: ['wheel', 'mousewheel']\n};\nexport var EVENT_RECOGNIZER_MAP = {\n  tap: 'tap',\n  anytap: 'anytap',\n  doubletap: 'doubletap',\n  press: 'press',\n  pinch: 'pinch',\n  pinchin: 'pinch',\n  pinchout: 'pinch',\n  pinchstart: 'pinch',\n  pinchmove: 'pinch',\n  pinchend: 'pinch',\n  pinchcancel: 'pinch',\n  rotate: 'rotate',\n  rotatestart: 'rotate',\n  rotatemove: 'rotate',\n  rotateend: 'rotate',\n  rotatecancel: 'rotate',\n  tripan: 'tripan',\n  tripanstart: 'tripan',\n  tripanmove: 'tripan',\n  tripanup: 'tripan',\n  tripandown: 'tripan',\n  tripanleft: 'tripan',\n  tripanright: 'tripan',\n  tripanend: 'tripan',\n  tripancancel: 'tripan',\n  pan: 'pan',\n  panstart: 'pan',\n  panmove: 'pan',\n  panup: 'pan',\n  pandown: 'pan',\n  panleft: 'pan',\n  panright: 'pan',\n  panend: 'pan',\n  pancancel: 'pan',\n  swipe: 'swipe',\n  swipeleft: 'swipe',\n  swiperight: 'swipe',\n  swipeup: 'swipe',\n  swipedown: 'swipe'\n};\nexport var GESTURE_EVENT_ALIASES = {\n  click: 'tap',\n  anyclick: 'anytap',\n  dblclick: 'doubletap',\n  mousedown: 'pointerdown',\n  mousemove: 'pointermove',\n  mouseup: 'pointerup',\n  mouseover: 'pointerover',\n  mouseout: 'pointerout',\n  mouseleave: 'pointerleave'\n};","export var userAgent = typeof navigator !== 'undefined' && navigator.userAgent ? navigator.userAgent.toLowerCase() : '';\nvar window_ = typeof window !== 'undefined' ? window : global;\nvar global_ = typeof global !== 'undefined' ? global : window;\nvar document_ = typeof document !== 'undefined' ? document : {};\nexport { window_ as window, global_ as global, document_ as document };\nvar passiveSupported = false;\n\ntry {\n  var options = {\n    get passive() {\n      passiveSupported = true;\n      return true;\n    }\n\n  };\n  window_.addEventListener('test', options, options);\n  window_.removeEventListener('test', options, options);\n} catch (err) {}\n\nexport { passiveSupported };","import _classCallCheck from \"/Users/rustomichhaporia/GitHub/hofstede/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";\nimport _createClass from \"/Users/rustomichhaporia/GitHub/hofstede/node_modules/@babel/runtime/helpers/esm/createClass.js\";\nimport { INPUT_EVENT_TYPES } from '../constants';\nimport { window, userAgent, passiveSupported } from '../utils/globals';\nvar firefox = userAgent.indexOf('firefox') !== -1;\nvar WHEEL_EVENTS = INPUT_EVENT_TYPES.WHEEL_EVENTS;\nvar EVENT_TYPE = 'wheel';\nvar WHEEL_DELTA_MAGIC_SCALER = 4.000244140625;\nvar WHEEL_DELTA_PER_LINE = 40;\nvar SHIFT_MULTIPLIER = 0.25;\n\nvar WheelInput = /*#__PURE__*/function () {\n  function WheelInput(element, callback) {\n    var _this = this;\n\n    var options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n\n    _classCallCheck(this, WheelInput);\n\n    this.element = element;\n    this.callback = callback;\n    this.options = Object.assign({\n      enable: true\n    }, options);\n    this.events = WHEEL_EVENTS.concat(options.events || []);\n    this.handleEvent = this.handleEvent.bind(this);\n    this.events.forEach(function (event) {\n      return element.addEventListener(event, _this.handleEvent, passiveSupported ? {\n        passive: false\n      } : false);\n    });\n  }\n\n  _createClass(WheelInput, [{\n    key: \"destroy\",\n    value: function destroy() {\n      var _this2 = this;\n\n      this.events.forEach(function (event) {\n        return _this2.element.removeEventListener(event, _this2.handleEvent);\n      });\n    }\n  }, {\n    key: \"enableEventType\",\n    value: function enableEventType(eventType, enabled) {\n      if (eventType === EVENT_TYPE) {\n        this.options.enable = enabled;\n      }\n    }\n  }, {\n    key: \"handleEvent\",\n    value: function handleEvent(event) {\n      if (!this.options.enable) {\n        return;\n      }\n\n      var value = event.deltaY;\n\n      if (window.WheelEvent) {\n        if (firefox && event.deltaMode === window.WheelEvent.DOM_DELTA_PIXEL) {\n          value /= window.devicePixelRatio;\n        }\n\n        if (event.deltaMode === window.WheelEvent.DOM_DELTA_LINE) {\n          value *= WHEEL_DELTA_PER_LINE;\n        }\n      }\n\n      var wheelPosition = {\n        x: event.clientX,\n        y: event.clientY\n      };\n\n      if (value !== 0 && value % WHEEL_DELTA_MAGIC_SCALER === 0) {\n        value = Math.floor(value / WHEEL_DELTA_MAGIC_SCALER);\n      }\n\n      if (event.shiftKey && value) {\n        value = value * SHIFT_MULTIPLIER;\n      }\n\n      this._onWheel(event, -value, wheelPosition);\n    }\n  }, {\n    key: \"_onWheel\",\n    value: function _onWheel(srcEvent, delta, position) {\n      this.callback({\n        type: EVENT_TYPE,\n        center: position,\n        delta: delta,\n        srcEvent: srcEvent,\n        pointerType: 'mouse',\n        target: srcEvent.target\n      });\n    }\n  }]);\n\n  return WheelInput;\n}();\n\nexport { WheelInput as default };","import _classCallCheck from \"/Users/rustomichhaporia/GitHub/hofstede/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";\nimport _createClass from \"/Users/rustomichhaporia/GitHub/hofstede/node_modules/@babel/runtime/helpers/esm/createClass.js\";\nimport { INPUT_EVENT_TYPES } from '../constants';\nvar MOUSE_EVENTS = INPUT_EVENT_TYPES.MOUSE_EVENTS;\nvar MOVE_EVENT_TYPE = 'pointermove';\nvar OVER_EVENT_TYPE = 'pointerover';\nvar OUT_EVENT_TYPE = 'pointerout';\nvar LEAVE_EVENT_TYPE = 'pointerleave';\n\nvar MoveInput = /*#__PURE__*/function () {\n  function MoveInput(element, callback) {\n    var _this = this;\n\n    var options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n\n    _classCallCheck(this, MoveInput);\n\n    this.element = element;\n    this.callback = callback;\n    this.pressed = false;\n    this.options = Object.assign({\n      enable: true\n    }, options);\n    this.enableMoveEvent = this.options.enable;\n    this.enableLeaveEvent = this.options.enable;\n    this.enableOutEvent = this.options.enable;\n    this.enableOverEvent = this.options.enable;\n    this.events = MOUSE_EVENTS.concat(options.events || []);\n    this.handleEvent = this.handleEvent.bind(this);\n    this.events.forEach(function (event) {\n      return element.addEventListener(event, _this.handleEvent);\n    });\n  }\n\n  _createClass(MoveInput, [{\n    key: \"destroy\",\n    value: function destroy() {\n      var _this2 = this;\n\n      this.events.forEach(function (event) {\n        return _this2.element.removeEventListener(event, _this2.handleEvent);\n      });\n    }\n  }, {\n    key: \"enableEventType\",\n    value: function enableEventType(eventType, enabled) {\n      if (eventType === MOVE_EVENT_TYPE) {\n        this.enableMoveEvent = enabled;\n      }\n\n      if (eventType === OVER_EVENT_TYPE) {\n        this.enableOverEvent = enabled;\n      }\n\n      if (eventType === OUT_EVENT_TYPE) {\n        this.enableOutEvent = enabled;\n      }\n\n      if (eventType === LEAVE_EVENT_TYPE) {\n        this.enableLeaveEvent = enabled;\n      }\n    }\n  }, {\n    key: \"handleEvent\",\n    value: function handleEvent(event) {\n      this.handleOverEvent(event);\n      this.handleOutEvent(event);\n      this.handleLeaveEvent(event);\n      this.handleMoveEvent(event);\n    }\n  }, {\n    key: \"handleOverEvent\",\n    value: function handleOverEvent(event) {\n      if (this.enableOverEvent) {\n        if (event.type === 'mouseover') {\n          this.callback({\n            type: OVER_EVENT_TYPE,\n            srcEvent: event,\n            pointerType: 'mouse',\n            target: event.target\n          });\n        }\n      }\n    }\n  }, {\n    key: \"handleOutEvent\",\n    value: function handleOutEvent(event) {\n      if (this.enableOutEvent) {\n        if (event.type === 'mouseout') {\n          this.callback({\n            type: OUT_EVENT_TYPE,\n            srcEvent: event,\n            pointerType: 'mouse',\n            target: event.target\n          });\n        }\n      }\n    }\n  }, {\n    key: \"handleLeaveEvent\",\n    value: function handleLeaveEvent(event) {\n      if (this.enableLeaveEvent) {\n        if (event.type === 'mouseleave') {\n          this.callback({\n            type: LEAVE_EVENT_TYPE,\n            srcEvent: event,\n            pointerType: 'mouse',\n            target: event.target\n          });\n        }\n      }\n    }\n  }, {\n    key: \"handleMoveEvent\",\n    value: function handleMoveEvent(event) {\n      if (this.enableMoveEvent) {\n        switch (event.type) {\n          case 'mousedown':\n            if (event.button >= 0) {\n              this.pressed = true;\n            }\n\n            break;\n\n          case 'mousemove':\n            if (event.which === 0) {\n              this.pressed = false;\n            }\n\n            if (!this.pressed) {\n              this.callback({\n                type: MOVE_EVENT_TYPE,\n                srcEvent: event,\n                pointerType: 'mouse',\n                target: event.target\n              });\n            }\n\n            break;\n\n          case 'mouseup':\n            this.pressed = false;\n            break;\n\n          default:\n        }\n      }\n    }\n  }]);\n\n  return MoveInput;\n}();\n\nexport { MoveInput as default };","import _classCallCheck from \"/Users/rustomichhaporia/GitHub/hofstede/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";\nimport _createClass from \"/Users/rustomichhaporia/GitHub/hofstede/node_modules/@babel/runtime/helpers/esm/createClass.js\";\nimport { INPUT_EVENT_TYPES } from '../constants';\nvar KEY_EVENTS = INPUT_EVENT_TYPES.KEY_EVENTS;\nvar DOWN_EVENT_TYPE = 'keydown';\nvar UP_EVENT_TYPE = 'keyup';\n\nvar KeyInput = /*#__PURE__*/function () {\n  function KeyInput(element, callback) {\n    var _this = this;\n\n    var options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n\n    _classCallCheck(this, KeyInput);\n\n    this.element = element;\n    this.callback = callback;\n    this.options = Object.assign({\n      enable: true\n    }, options);\n    this.enableDownEvent = this.options.enable;\n    this.enableUpEvent = this.options.enable;\n    this.events = KEY_EVENTS.concat(options.events || []);\n    this.handleEvent = this.handleEvent.bind(this);\n    element.tabIndex = options.tabIndex || 0;\n    element.style.outline = 'none';\n    this.events.forEach(function (event) {\n      return element.addEventListener(event, _this.handleEvent);\n    });\n  }\n\n  _createClass(KeyInput, [{\n    key: \"destroy\",\n    value: function destroy() {\n      var _this2 = this;\n\n      this.events.forEach(function (event) {\n        return _this2.element.removeEventListener(event, _this2.handleEvent);\n      });\n    }\n  }, {\n    key: \"enableEventType\",\n    value: function enableEventType(eventType, enabled) {\n      if (eventType === DOWN_EVENT_TYPE) {\n        this.enableDownEvent = enabled;\n      }\n\n      if (eventType === UP_EVENT_TYPE) {\n        this.enableUpEvent = enabled;\n      }\n    }\n  }, {\n    key: \"handleEvent\",\n    value: function handleEvent(event) {\n      var targetElement = event.target || event.srcElement;\n\n      if (targetElement.tagName === 'INPUT' && targetElement.type === 'text' || targetElement.tagName === 'TEXTAREA') {\n        return;\n      }\n\n      if (this.enableDownEvent && event.type === 'keydown') {\n        this.callback({\n          type: DOWN_EVENT_TYPE,\n          srcEvent: event,\n          key: event.key,\n          target: event.target\n        });\n      }\n\n      if (this.enableUpEvent && event.type === 'keyup') {\n        this.callback({\n          type: UP_EVENT_TYPE,\n          srcEvent: event,\n          key: event.key,\n          target: event.target\n        });\n      }\n    }\n  }]);\n\n  return KeyInput;\n}();\n\nexport { KeyInput as default };","import _classCallCheck from \"/Users/rustomichhaporia/GitHub/hofstede/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";\nimport _createClass from \"/Users/rustomichhaporia/GitHub/hofstede/node_modules/@babel/runtime/helpers/esm/createClass.js\";\nvar EVENT_TYPE = 'contextmenu';\n\nvar ContextmenuInput = /*#__PURE__*/function () {\n  function ContextmenuInput(element, callback) {\n    var options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n\n    _classCallCheck(this, ContextmenuInput);\n\n    this.element = element;\n    this.callback = callback;\n    this.options = Object.assign({\n      enable: true\n    }, options);\n    this.handleEvent = this.handleEvent.bind(this);\n    element.addEventListener('contextmenu', this.handleEvent);\n  }\n\n  _createClass(ContextmenuInput, [{\n    key: \"destroy\",\n    value: function destroy() {\n      this.element.removeEventListener('contextmenu', this.handleEvent);\n    }\n  }, {\n    key: \"enableEventType\",\n    value: function enableEventType(eventType, enabled) {\n      if (eventType === EVENT_TYPE) {\n        this.options.enable = enabled;\n      }\n    }\n  }, {\n    key: \"handleEvent\",\n    value: function handleEvent(event) {\n      if (!this.options.enable) {\n        return;\n      }\n\n      this.callback({\n        type: EVENT_TYPE,\n        center: {\n          x: event.clientX,\n          y: event.clientY\n        },\n        srcEvent: event,\n        pointerType: 'mouse',\n        target: event.target\n      });\n    }\n  }]);\n\n  return ContextmenuInput;\n}();\n\nexport { ContextmenuInput as default };","var DOWN_EVENT = 1;\nvar MOVE_EVENT = 2;\nvar UP_EVENT = 4;\nvar MOUSE_EVENTS = {\n  pointerdown: DOWN_EVENT,\n  pointermove: MOVE_EVENT,\n  pointerup: UP_EVENT,\n  mousedown: DOWN_EVENT,\n  mousemove: MOVE_EVENT,\n  mouseup: UP_EVENT\n};\nvar MOUSE_EVENT_WHICH_LEFT = 1;\nvar MOUSE_EVENT_WHICH_MIDDLE = 2;\nvar MOUSE_EVENT_WHICH_RIGHT = 3;\nvar MOUSE_EVENT_BUTTON_LEFT = 0;\nvar MOUSE_EVENT_BUTTON_MIDDLE = 1;\nvar MOUSE_EVENT_BUTTON_RIGHT = 2;\nvar MOUSE_EVENT_BUTTONS_LEFT_MASK = 1;\nvar MOUSE_EVENT_BUTTONS_RIGHT_MASK = 2;\nvar MOUSE_EVENT_BUTTONS_MIDDLE_MASK = 4;\nexport function whichButtons(event) {\n  var eventType = MOUSE_EVENTS[event.srcEvent.type];\n\n  if (!eventType) {\n    return null;\n  }\n\n  var _event$srcEvent = event.srcEvent,\n      buttons = _event$srcEvent.buttons,\n      button = _event$srcEvent.button,\n      which = _event$srcEvent.which;\n  var leftButton = false;\n  var middleButton = false;\n  var rightButton = false;\n\n  if (eventType === UP_EVENT || eventType === MOVE_EVENT && !Number.isFinite(buttons)) {\n    leftButton = which === MOUSE_EVENT_WHICH_LEFT;\n    middleButton = which === MOUSE_EVENT_WHICH_MIDDLE;\n    rightButton = which === MOUSE_EVENT_WHICH_RIGHT;\n  } else if (eventType === MOVE_EVENT) {\n    leftButton = Boolean(buttons & MOUSE_EVENT_BUTTONS_LEFT_MASK);\n    middleButton = Boolean(buttons & MOUSE_EVENT_BUTTONS_MIDDLE_MASK);\n    rightButton = Boolean(buttons & MOUSE_EVENT_BUTTONS_RIGHT_MASK);\n  } else if (eventType === DOWN_EVENT) {\n    leftButton = button === MOUSE_EVENT_BUTTON_LEFT;\n    middleButton = button === MOUSE_EVENT_BUTTON_MIDDLE;\n    rightButton = button === MOUSE_EVENT_BUTTON_RIGHT;\n  }\n\n  return {\n    leftButton: leftButton,\n    middleButton: middleButton,\n    rightButton: rightButton\n  };\n}\nexport function getOffsetPosition(event, rootElement) {\n  var srcEvent = event.srcEvent;\n\n  if (!event.center && !Number.isFinite(srcEvent.clientX)) {\n    return null;\n  }\n\n  var center = event.center || {\n    x: srcEvent.clientX,\n    y: srcEvent.clientY\n  };\n  var rect = rootElement.getBoundingClientRect();\n  var scaleX = rect.width / rootElement.offsetWidth || 1;\n  var scaleY = rect.height / rootElement.offsetHeight || 1;\n  var offsetCenter = {\n    x: (center.x - rect.left - rootElement.clientLeft) / scaleX,\n    y: (center.y - rect.top - rootElement.clientTop) / scaleY\n  };\n  return {\n    center: center,\n    offsetCenter: offsetCenter\n  };\n}","import _classCallCheck from \"/Users/rustomichhaporia/GitHub/hofstede/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";\nimport _createClass from \"/Users/rustomichhaporia/GitHub/hofstede/node_modules/@babel/runtime/helpers/esm/createClass.js\";\nimport { whichButtons, getOffsetPosition } from './event-utils';\nvar DEFAULT_OPTIONS = {\n  srcElement: 'root',\n  priority: 0\n};\n\nvar EventRegistrar = /*#__PURE__*/function () {\n  function EventRegistrar(eventManager) {\n    _classCallCheck(this, EventRegistrar);\n\n    this.eventManager = eventManager;\n    this.handlers = [];\n    this.handlersByElement = new Map();\n    this.handleEvent = this.handleEvent.bind(this);\n    this._active = false;\n  }\n\n  _createClass(EventRegistrar, [{\n    key: \"isEmpty\",\n    value: function isEmpty() {\n      return !this._active;\n    }\n  }, {\n    key: \"add\",\n    value: function add(type, handler, opts) {\n      var once = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : false;\n      var passive = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : false;\n      var handlers = this.handlers,\n          handlersByElement = this.handlersByElement;\n\n      if (opts && (typeof opts !== 'object' || opts.addEventListener)) {\n        opts = {\n          srcElement: opts\n        };\n      }\n\n      opts = opts ? Object.assign({}, DEFAULT_OPTIONS, opts) : DEFAULT_OPTIONS;\n      var entries = handlersByElement.get(opts.srcElement);\n\n      if (!entries) {\n        entries = [];\n        handlersByElement.set(opts.srcElement, entries);\n      }\n\n      var entry = {\n        type: type,\n        handler: handler,\n        srcElement: opts.srcElement,\n        priority: opts.priority\n      };\n\n      if (once) {\n        entry.once = true;\n      }\n\n      if (passive) {\n        entry.passive = true;\n      }\n\n      handlers.push(entry);\n      this._active = this._active || !entry.passive;\n      var insertPosition = entries.length - 1;\n\n      while (insertPosition >= 0) {\n        if (entries[insertPosition].priority >= entry.priority) {\n          break;\n        }\n\n        insertPosition--;\n      }\n\n      entries.splice(insertPosition + 1, 0, entry);\n    }\n  }, {\n    key: \"remove\",\n    value: function remove(type, handler) {\n      var handlers = this.handlers,\n          handlersByElement = this.handlersByElement;\n\n      for (var i = handlers.length - 1; i >= 0; i--) {\n        var entry = handlers[i];\n\n        if (entry.type === type && entry.handler === handler) {\n          handlers.splice(i, 1);\n          var entries = handlersByElement.get(entry.srcElement);\n          entries.splice(entries.indexOf(entry), 1);\n\n          if (entries.length === 0) {\n            handlersByElement.delete(entry.srcElement);\n          }\n        }\n      }\n\n      this._active = handlers.some(function (entry) {\n        return !entry.passive;\n      });\n    }\n  }, {\n    key: \"handleEvent\",\n    value: function handleEvent(event) {\n      if (this.isEmpty()) {\n        return;\n      }\n\n      var mjolnirEvent = this._normalizeEvent(event);\n\n      var target = event.srcEvent.target;\n\n      while (target && target !== mjolnirEvent.rootElement) {\n        this._emit(mjolnirEvent, target);\n\n        if (mjolnirEvent.handled) {\n          return;\n        }\n\n        target = target.parentNode;\n      }\n\n      this._emit(mjolnirEvent, 'root');\n    }\n  }, {\n    key: \"_emit\",\n    value: function _emit(event, srcElement) {\n      var entries = this.handlersByElement.get(srcElement);\n\n      if (entries) {\n        var immediatePropagationStopped = false;\n\n        var stopPropagation = function stopPropagation() {\n          event.handled = true;\n        };\n\n        var stopImmediatePropagation = function stopImmediatePropagation() {\n          event.handled = true;\n          immediatePropagationStopped = true;\n        };\n\n        var entriesToRemove = [];\n\n        for (var i = 0; i < entries.length; i++) {\n          var _entries$i = entries[i],\n              type = _entries$i.type,\n              handler = _entries$i.handler,\n              once = _entries$i.once;\n          handler(Object.assign({}, event, {\n            type: type,\n            stopPropagation: stopPropagation,\n            stopImmediatePropagation: stopImmediatePropagation\n          }));\n\n          if (once) {\n            entriesToRemove.push(entries[i]);\n          }\n\n          if (immediatePropagationStopped) {\n            break;\n          }\n        }\n\n        for (var _i = 0; _i < entriesToRemove.length; _i++) {\n          var _entriesToRemove$_i = entriesToRemove[_i],\n              _type = _entriesToRemove$_i.type,\n              _handler = _entriesToRemove$_i.handler;\n          this.remove(_type, _handler);\n        }\n      }\n    }\n  }, {\n    key: \"_normalizeEvent\",\n    value: function _normalizeEvent(event) {\n      var rootElement = this.eventManager.element;\n      return Object.assign({}, event, whichButtons(event), getOffsetPosition(event, rootElement), {\n        handled: false,\n        rootElement: rootElement\n      });\n    }\n  }]);\n\n  return EventRegistrar;\n}();\n\nexport { EventRegistrar as default };","import _slicedToArray from \"/Users/rustomichhaporia/GitHub/hofstede/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";\nimport _classCallCheck from \"/Users/rustomichhaporia/GitHub/hofstede/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";\nimport _createClass from \"/Users/rustomichhaporia/GitHub/hofstede/node_modules/@babel/runtime/helpers/esm/createClass.js\";\n\nfunction _createForOfIteratorHelper(o, allowArrayLike) { var it = typeof Symbol !== \"undefined\" && o[Symbol.iterator] || o[\"@@iterator\"]; if (!it) { if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") { if (it) o = it; var i = 0; var F = function F() {}; return { s: F, n: function n() { if (i >= o.length) return { done: true }; return { done: false, value: o[i++] }; }, e: function e(_e) { throw _e; }, f: F }; } throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); } var normalCompletion = true, didErr = false, err; return { s: function s() { it = it.call(o); }, n: function n() { var step = it.next(); normalCompletion = step.done; return step; }, e: function e(_e2) { didErr = true; err = _e2; }, f: function f() { try { if (!normalCompletion && it.return != null) it.return(); } finally { if (didErr) throw err; } } }; }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nimport { Manager } from './utils/hammer';\nimport WheelInput from './inputs/wheel-input';\nimport MoveInput from './inputs/move-input';\nimport KeyInput from './inputs/key-input';\nimport ContextmenuInput from './inputs/contextmenu-input';\nimport EventRegistrar from './utils/event-registrar';\nimport { BASIC_EVENT_ALIASES, EVENT_RECOGNIZER_MAP, GESTURE_EVENT_ALIASES, RECOGNIZERS, RECOGNIZER_COMPATIBLE_MAP, RECOGNIZER_FALLBACK_MAP } from './constants';\nvar DEFAULT_OPTIONS = {\n  events: null,\n  recognizers: null,\n  recognizerOptions: {},\n  Manager: Manager,\n  touchAction: 'none',\n  tabIndex: 0\n};\n\nvar EventManager = /*#__PURE__*/function () {\n  function EventManager() {\n    var element = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : null;\n    var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n    _classCallCheck(this, EventManager);\n\n    this.options = Object.assign({}, DEFAULT_OPTIONS, options);\n    this.events = new Map();\n    this._onBasicInput = this._onBasicInput.bind(this);\n    this._onOtherEvent = this._onOtherEvent.bind(this);\n    this.setElement(element);\n    var events = options.events;\n\n    if (events) {\n      this.on(events);\n    }\n  }\n\n  _createClass(EventManager, [{\n    key: \"setElement\",\n    value: function setElement(element) {\n      var _this = this;\n\n      if (this.element) {\n        this.destroy();\n      }\n\n      this.element = element;\n\n      if (!element) {\n        return;\n      }\n\n      var options = this.options;\n      var ManagerClass = options.Manager;\n      this.manager = new ManagerClass(element, {\n        touchAction: options.touchAction,\n        recognizers: options.recognizers || RECOGNIZERS\n      }).on('hammer.input', this._onBasicInput);\n\n      if (!options.recognizers) {\n        Object.keys(RECOGNIZER_COMPATIBLE_MAP).forEach(function (name) {\n          var recognizer = _this.manager.get(name);\n\n          if (recognizer) {\n            RECOGNIZER_COMPATIBLE_MAP[name].forEach(function (otherName) {\n              recognizer.recognizeWith(otherName);\n            });\n          }\n        });\n      }\n\n      for (var recognizerName in options.recognizerOptions) {\n        var recognizer = this.manager.get(recognizerName);\n\n        if (recognizer) {\n          var recognizerOption = options.recognizerOptions[recognizerName];\n          delete recognizerOption.enable;\n          recognizer.set(recognizerOption);\n        }\n      }\n\n      this.wheelInput = new WheelInput(element, this._onOtherEvent, {\n        enable: false\n      });\n      this.moveInput = new MoveInput(element, this._onOtherEvent, {\n        enable: false\n      });\n      this.keyInput = new KeyInput(element, this._onOtherEvent, {\n        enable: false,\n        tabIndex: options.tabIndex\n      });\n      this.contextmenuInput = new ContextmenuInput(element, this._onOtherEvent, {\n        enable: false\n      });\n\n      var _iterator = _createForOfIteratorHelper(this.events),\n          _step;\n\n      try {\n        for (_iterator.s(); !(_step = _iterator.n()).done;) {\n          var _step$value = _slicedToArray(_step.value, 2),\n              eventAlias = _step$value[0],\n              eventRegistrar = _step$value[1];\n\n          if (!eventRegistrar.isEmpty()) {\n            this._toggleRecognizer(eventRegistrar.recognizerName, true);\n\n            this.manager.on(eventAlias, eventRegistrar.handleEvent);\n          }\n        }\n      } catch (err) {\n        _iterator.e(err);\n      } finally {\n        _iterator.f();\n      }\n    }\n  }, {\n    key: \"destroy\",\n    value: function destroy() {\n      if (this.element) {\n        this.wheelInput.destroy();\n        this.moveInput.destroy();\n        this.keyInput.destroy();\n        this.contextmenuInput.destroy();\n        this.manager.destroy();\n        this.wheelInput = null;\n        this.moveInput = null;\n        this.keyInput = null;\n        this.contextmenuInput = null;\n        this.manager = null;\n        this.element = null;\n      }\n    }\n  }, {\n    key: \"on\",\n    value: function on(event, handler, opts) {\n      this._addEventHandler(event, handler, opts, false);\n    }\n  }, {\n    key: \"once\",\n    value: function once(event, handler, opts) {\n      this._addEventHandler(event, handler, opts, true);\n    }\n  }, {\n    key: \"watch\",\n    value: function watch(event, handler, opts) {\n      this._addEventHandler(event, handler, opts, false, true);\n    }\n  }, {\n    key: \"off\",\n    value: function off(event, handler) {\n      this._removeEventHandler(event, handler);\n    }\n  }, {\n    key: \"_toggleRecognizer\",\n    value: function _toggleRecognizer(name, enabled) {\n      var manager = this.manager;\n\n      if (!manager) {\n        return;\n      }\n\n      var recognizer = manager.get(name);\n\n      if (recognizer && recognizer.options.enable !== enabled) {\n        recognizer.set({\n          enable: enabled\n        });\n        var fallbackRecognizers = RECOGNIZER_FALLBACK_MAP[name];\n\n        if (fallbackRecognizers && !this.options.recognizers) {\n          fallbackRecognizers.forEach(function (otherName) {\n            var otherRecognizer = manager.get(otherName);\n\n            if (enabled) {\n              otherRecognizer.requireFailure(name);\n              recognizer.dropRequireFailure(otherName);\n            } else {\n              otherRecognizer.dropRequireFailure(name);\n            }\n          });\n        }\n      }\n\n      this.wheelInput.enableEventType(name, enabled);\n      this.moveInput.enableEventType(name, enabled);\n      this.keyInput.enableEventType(name, enabled);\n      this.contextmenuInput.enableEventType(name, enabled);\n    }\n  }, {\n    key: \"_addEventHandler\",\n    value: function _addEventHandler(event, handler, opts, once, passive) {\n      if (typeof event !== 'string') {\n        opts = handler;\n\n        for (var eventName in event) {\n          this._addEventHandler(eventName, event[eventName], opts, once, passive);\n        }\n\n        return;\n      }\n\n      var manager = this.manager,\n          events = this.events;\n      var eventAlias = GESTURE_EVENT_ALIASES[event] || event;\n      var eventRegistrar = events.get(eventAlias);\n\n      if (!eventRegistrar) {\n        eventRegistrar = new EventRegistrar(this);\n        events.set(eventAlias, eventRegistrar);\n        eventRegistrar.recognizerName = EVENT_RECOGNIZER_MAP[eventAlias] || eventAlias;\n\n        if (manager) {\n          manager.on(eventAlias, eventRegistrar.handleEvent);\n        }\n      }\n\n      eventRegistrar.add(event, handler, opts, once, passive);\n\n      if (!eventRegistrar.isEmpty()) {\n        this._toggleRecognizer(eventRegistrar.recognizerName, true);\n      }\n    }\n  }, {\n    key: \"_removeEventHandler\",\n    value: function _removeEventHandler(event, handler) {\n      if (typeof event !== 'string') {\n        for (var eventName in event) {\n          this._removeEventHandler(eventName, event[eventName]);\n        }\n\n        return;\n      }\n\n      var events = this.events;\n      var eventAlias = GESTURE_EVENT_ALIASES[event] || event;\n      var eventRegistrar = events.get(eventAlias);\n\n      if (!eventRegistrar) {\n        return;\n      }\n\n      eventRegistrar.remove(event, handler);\n\n      if (eventRegistrar.isEmpty()) {\n        var recognizerName = eventRegistrar.recognizerName;\n        var isRecognizerUsed = false;\n\n        var _iterator2 = _createForOfIteratorHelper(events.values()),\n            _step2;\n\n        try {\n          for (_iterator2.s(); !(_step2 = _iterator2.n()).done;) {\n            var eh = _step2.value;\n\n            if (eh.recognizerName === recognizerName && !eh.isEmpty()) {\n              isRecognizerUsed = true;\n              break;\n            }\n          }\n        } catch (err) {\n          _iterator2.e(err);\n        } finally {\n          _iterator2.f();\n        }\n\n        if (!isRecognizerUsed) {\n          this._toggleRecognizer(recognizerName, false);\n        }\n      }\n    }\n  }, {\n    key: \"_onBasicInput\",\n    value: function _onBasicInput(event) {\n      var srcEvent = event.srcEvent;\n      var alias = BASIC_EVENT_ALIASES[srcEvent.type];\n\n      if (alias) {\n        this.manager.emit(alias, event);\n      }\n    }\n  }, {\n    key: \"_onOtherEvent\",\n    value: function _onOtherEvent(event) {\n      this.manager.emit(event.type, event);\n    }\n  }]);\n\n  return EventManager;\n}();\n\nexport { EventManager as default };","import _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    });\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nfunction _objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(Object(source), true).forEach(function (key) {\n        _defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}\n\nimport MapState from './map-state';\nimport { LinearInterpolator } from './transition';\nimport TransitionManager, { TRANSITION_EVENTS } from './transition-manager';\nvar NO_TRANSITION_PROPS = {\n  transitionDuration: 0\n};\nexport var LINEAR_TRANSITION_PROPS = {\n  transitionDuration: 300,\n  transitionEasing: function transitionEasing(t) {\n    return t;\n  },\n  transitionInterpolator: new LinearInterpolator(),\n  transitionInterruption: TRANSITION_EVENTS.BREAK\n};\nvar DEFAULT_INERTIA = 300;\n\nvar INERTIA_EASING = function INERTIA_EASING(t) {\n  return 1 - (1 - t) * (1 - t);\n};\n\nvar EVENT_TYPES = {\n  WHEEL: ['wheel'],\n  PAN: ['panstart', 'panmove', 'panend'],\n  PINCH: ['pinchstart', 'pinchmove', 'pinchend'],\n  TRIPLE_PAN: ['tripanstart', 'tripanmove', 'tripanend'],\n  DOUBLE_TAP: ['doubletap'],\n  KEYBOARD: ['keydown']\n};\n\nvar MapController = function () {\n  function MapController() {\n    var _this = this;\n\n    _classCallCheck(this, MapController);\n\n    _defineProperty(this, \"events\", []);\n\n    _defineProperty(this, \"scrollZoom\", true);\n\n    _defineProperty(this, \"dragPan\", true);\n\n    _defineProperty(this, \"dragRotate\", true);\n\n    _defineProperty(this, \"doubleClickZoom\", true);\n\n    _defineProperty(this, \"touchZoom\", true);\n\n    _defineProperty(this, \"touchRotate\", false);\n\n    _defineProperty(this, \"keyboard\", true);\n\n    _defineProperty(this, \"_interactionState\", {\n      isDragging: false\n    });\n\n    _defineProperty(this, \"_events\", {});\n\n    _defineProperty(this, \"_setInteractionState\", function (newState) {\n      Object.assign(_this._interactionState, newState);\n\n      if (_this.onStateChange) {\n        _this.onStateChange(_this._interactionState);\n      }\n    });\n\n    _defineProperty(this, \"_onTransition\", function (newViewport, oldViewport) {\n      _this.onViewportChange(newViewport, _this._interactionState, oldViewport);\n    });\n\n    this.handleEvent = this.handleEvent.bind(this);\n    this._transitionManager = new TransitionManager({\n      onViewportChange: this._onTransition,\n      onStateChange: this._setInteractionState\n    });\n  }\n\n  _createClass(MapController, [{\n    key: \"handleEvent\",\n    value: function handleEvent(event) {\n      this.mapState = this.getMapState();\n      var eventStartBlocked = this._eventStartBlocked;\n\n      switch (event.type) {\n        case 'panstart':\n          return eventStartBlocked ? false : this._onPanStart(event);\n\n        case 'panmove':\n          return this._onPan(event);\n\n        case 'panend':\n          return this._onPanEnd(event);\n\n        case 'pinchstart':\n          return eventStartBlocked ? false : this._onPinchStart(event);\n\n        case 'pinchmove':\n          return this._onPinch(event);\n\n        case 'pinchend':\n          return this._onPinchEnd(event);\n\n        case 'tripanstart':\n          return eventStartBlocked ? false : this._onTriplePanStart(event);\n\n        case 'tripanmove':\n          return this._onTriplePan(event);\n\n        case 'tripanend':\n          return this._onTriplePanEnd(event);\n\n        case 'doubletap':\n          return this._onDoubleTap(event);\n\n        case 'wheel':\n          return this._onWheel(event);\n\n        case 'keydown':\n          return this._onKeyDown(event);\n\n        default:\n          return false;\n      }\n    }\n  }, {\n    key: \"getCenter\",\n    value: function getCenter(event) {\n      var _event$offsetCenter = event.offsetCenter,\n          x = _event$offsetCenter.x,\n          y = _event$offsetCenter.y;\n      return [x, y];\n    }\n  }, {\n    key: \"isFunctionKeyPressed\",\n    value: function isFunctionKeyPressed(event) {\n      var srcEvent = event.srcEvent;\n      return Boolean(srcEvent.metaKey || srcEvent.altKey || srcEvent.ctrlKey || srcEvent.shiftKey);\n    }\n  }, {\n    key: \"blockEvents\",\n    value: function blockEvents(timeout) {\n      var _this2 = this;\n\n      var timer = setTimeout(function () {\n        if (_this2._eventStartBlocked === timer) {\n          _this2._eventStartBlocked = null;\n        }\n      }, timeout);\n      this._eventStartBlocked = timer;\n    }\n  }, {\n    key: \"updateViewport\",\n    value: function updateViewport(newMapState, extraProps, interactionState) {\n      var oldViewport = this.mapState instanceof MapState ? this.mapState.getViewportProps() : this.mapState;\n\n      var newViewport = _objectSpread(_objectSpread({}, newMapState.getViewportProps()), extraProps);\n\n      var viewStateChanged = Object.keys(newViewport).some(function (key) {\n        return oldViewport[key] !== newViewport[key];\n      });\n      this._state = newMapState.getState();\n\n      this._setInteractionState(interactionState);\n\n      if (viewStateChanged) {\n        this.onViewportChange(newViewport, this._interactionState, oldViewport);\n      }\n    }\n  }, {\n    key: \"getMapState\",\n    value: function getMapState(overrides) {\n      return new MapState(_objectSpread(_objectSpread(_objectSpread({}, this.mapStateProps), this._state), overrides));\n    }\n  }, {\n    key: \"isDragging\",\n    value: function isDragging() {\n      return this._interactionState.isDragging;\n    }\n  }, {\n    key: \"setOptions\",\n    value: function setOptions(options) {\n      var onViewportChange = options.onViewportChange,\n          onStateChange = options.onStateChange,\n          _options$eventManager = options.eventManager,\n          eventManager = _options$eventManager === void 0 ? this.eventManager : _options$eventManager,\n          _options$isInteractiv = options.isInteractive,\n          isInteractive = _options$isInteractiv === void 0 ? true : _options$isInteractiv,\n          _options$scrollZoom = options.scrollZoom,\n          scrollZoom = _options$scrollZoom === void 0 ? this.scrollZoom : _options$scrollZoom,\n          _options$dragPan = options.dragPan,\n          dragPan = _options$dragPan === void 0 ? this.dragPan : _options$dragPan,\n          _options$dragRotate = options.dragRotate,\n          dragRotate = _options$dragRotate === void 0 ? this.dragRotate : _options$dragRotate,\n          _options$doubleClickZ = options.doubleClickZoom,\n          doubleClickZoom = _options$doubleClickZ === void 0 ? this.doubleClickZoom : _options$doubleClickZ,\n          _options$touchZoom = options.touchZoom,\n          touchZoom = _options$touchZoom === void 0 ? this.touchZoom : _options$touchZoom,\n          _options$touchRotate = options.touchRotate,\n          touchRotate = _options$touchRotate === void 0 ? this.touchRotate : _options$touchRotate,\n          _options$keyboard = options.keyboard,\n          keyboard = _options$keyboard === void 0 ? this.keyboard : _options$keyboard;\n      this.onViewportChange = onViewportChange;\n      this.onStateChange = onStateChange;\n      var prevOptions = this.mapStateProps || {};\n      var dimensionChanged = prevOptions.height !== options.height || prevOptions.width !== options.width;\n      this.mapStateProps = options;\n\n      if (dimensionChanged) {\n        this.mapState = prevOptions;\n        this.updateViewport(new MapState(options));\n      }\n\n      this._transitionManager.processViewportChange(options);\n\n      if (this.eventManager !== eventManager) {\n        this.eventManager = eventManager;\n        this._events = {};\n        this.toggleEvents(this.events, true);\n      }\n\n      this.toggleEvents(EVENT_TYPES.WHEEL, isInteractive && Boolean(scrollZoom));\n      this.toggleEvents(EVENT_TYPES.PAN, isInteractive && Boolean(dragPan || dragRotate));\n      this.toggleEvents(EVENT_TYPES.PINCH, isInteractive && Boolean(touchZoom || touchRotate));\n      this.toggleEvents(EVENT_TYPES.TRIPLE_PAN, isInteractive && Boolean(touchRotate));\n      this.toggleEvents(EVENT_TYPES.DOUBLE_TAP, isInteractive && Boolean(doubleClickZoom));\n      this.toggleEvents(EVENT_TYPES.KEYBOARD, isInteractive && Boolean(keyboard));\n      this.scrollZoom = scrollZoom;\n      this.dragPan = dragPan;\n      this.dragRotate = dragRotate;\n      this.doubleClickZoom = doubleClickZoom;\n      this.touchZoom = touchZoom;\n      this.touchRotate = touchRotate;\n      this.keyboard = keyboard;\n    }\n  }, {\n    key: \"toggleEvents\",\n    value: function toggleEvents(eventNames, enabled) {\n      var _this3 = this;\n\n      if (this.eventManager) {\n        eventNames.forEach(function (eventName) {\n          if (_this3._events[eventName] !== enabled) {\n            _this3._events[eventName] = enabled;\n\n            if (enabled) {\n              _this3.eventManager.on(eventName, _this3.handleEvent);\n            } else {\n              _this3.eventManager.off(eventName, _this3.handleEvent);\n            }\n          }\n        });\n      }\n    }\n  }, {\n    key: \"_onPanStart\",\n    value: function _onPanStart(event) {\n      var pos = this.getCenter(event);\n      this._panRotate = this.isFunctionKeyPressed(event) || event.rightButton;\n      var newMapState = this._panRotate ? this.mapState.rotateStart({\n        pos: pos\n      }) : this.mapState.panStart({\n        pos: pos\n      });\n      this.updateViewport(newMapState, NO_TRANSITION_PROPS, {\n        isDragging: true\n      });\n      return true;\n    }\n  }, {\n    key: \"_onPan\",\n    value: function _onPan(event) {\n      if (!this.isDragging()) {\n        return false;\n      }\n\n      return this._panRotate ? this._onPanRotate(event) : this._onPanMove(event);\n    }\n  }, {\n    key: \"_onPanEnd\",\n    value: function _onPanEnd(event) {\n      if (!this.isDragging()) {\n        return false;\n      }\n\n      return this._panRotate ? this._onPanRotateEnd(event) : this._onPanMoveEnd(event);\n    }\n  }, {\n    key: \"_onPanMove\",\n    value: function _onPanMove(event) {\n      if (!this.dragPan) {\n        return false;\n      }\n\n      var pos = this.getCenter(event);\n      var newMapState = this.mapState.pan({\n        pos: pos\n      });\n      this.updateViewport(newMapState, NO_TRANSITION_PROPS, {\n        isPanning: true\n      });\n      return true;\n    }\n  }, {\n    key: \"_onPanMoveEnd\",\n    value: function _onPanMoveEnd(event) {\n      if (this.dragPan) {\n        var _this$dragPan$inertia = this.dragPan.inertia,\n            inertia = _this$dragPan$inertia === void 0 ? DEFAULT_INERTIA : _this$dragPan$inertia;\n\n        if (inertia && event.velocity) {\n          var pos = this.getCenter(event);\n          var endPos = [pos[0] + event.velocityX * inertia / 2, pos[1] + event.velocityY * inertia / 2];\n          var newControllerState = this.mapState.pan({\n            pos: endPos\n          }).panEnd();\n          this.updateViewport(newControllerState, _objectSpread(_objectSpread({}, LINEAR_TRANSITION_PROPS), {}, {\n            transitionDuration: inertia,\n            transitionEasing: INERTIA_EASING\n          }), {\n            isDragging: false,\n            isPanning: true\n          });\n          return true;\n        }\n      }\n\n      var newMapState = this.mapState.panEnd();\n      this.updateViewport(newMapState, null, {\n        isDragging: false,\n        isPanning: false\n      });\n      return true;\n    }\n  }, {\n    key: \"_onPanRotate\",\n    value: function _onPanRotate(event) {\n      if (!this.dragRotate) {\n        return false;\n      }\n\n      var pos = this.getCenter(event);\n      var newMapState = this.mapState.rotate({\n        pos: pos\n      });\n      this.updateViewport(newMapState, NO_TRANSITION_PROPS, {\n        isRotating: true\n      });\n      return true;\n    }\n  }, {\n    key: \"_onPanRotateEnd\",\n    value: function _onPanRotateEnd(event) {\n      if (this.dragRotate) {\n        var _this$dragRotate$iner = this.dragRotate.inertia,\n            inertia = _this$dragRotate$iner === void 0 ? DEFAULT_INERTIA : _this$dragRotate$iner;\n\n        if (inertia && event.velocity) {\n          var pos = this.getCenter(event);\n          var endPos = [pos[0] + event.velocityX * inertia / 2, pos[1] + event.velocityY * inertia / 2];\n          var newControllerState = this.mapState.rotate({\n            pos: endPos\n          }).rotateEnd();\n          this.updateViewport(newControllerState, _objectSpread(_objectSpread({}, LINEAR_TRANSITION_PROPS), {}, {\n            transitionDuration: inertia,\n            transitionEasing: INERTIA_EASING\n          }), {\n            isDragging: false,\n            isRotating: true\n          });\n          return true;\n        }\n      }\n\n      var newMapState = this.mapState.panEnd();\n      this.updateViewport(newMapState, null, {\n        isDragging: false,\n        isRotating: false\n      });\n      return true;\n    }\n  }, {\n    key: \"_onWheel\",\n    value: function _onWheel(event) {\n      if (!this.scrollZoom) {\n        return false;\n      }\n\n      var _this$scrollZoom = this.scrollZoom,\n          _this$scrollZoom$spee = _this$scrollZoom.speed,\n          speed = _this$scrollZoom$spee === void 0 ? 0.01 : _this$scrollZoom$spee,\n          _this$scrollZoom$smoo = _this$scrollZoom.smooth,\n          smooth = _this$scrollZoom$smoo === void 0 ? false : _this$scrollZoom$smoo;\n      event.preventDefault();\n      var pos = this.getCenter(event);\n      var delta = event.delta;\n      var scale = 2 / (1 + Math.exp(-Math.abs(delta * speed)));\n\n      if (delta < 0 && scale !== 0) {\n        scale = 1 / scale;\n      }\n\n      var newMapState = this.mapState.zoom({\n        pos: pos,\n        scale: scale\n      });\n\n      if (newMapState.getViewportProps().zoom === this.mapStateProps.zoom) {\n        return false;\n      }\n\n      this.updateViewport(newMapState, _objectSpread(_objectSpread({}, LINEAR_TRANSITION_PROPS), {}, {\n        transitionInterpolator: new LinearInterpolator({\n          around: pos\n        }),\n        transitionDuration: smooth ? 250 : 1\n      }), {\n        isPanning: true,\n        isZooming: true\n      });\n      return true;\n    }\n  }, {\n    key: \"_onPinchStart\",\n    value: function _onPinchStart(event) {\n      var pos = this.getCenter(event);\n      var newMapState = this.mapState.zoomStart({\n        pos: pos\n      }).rotateStart({\n        pos: pos\n      });\n      this._startPinchRotation = event.rotation;\n      this._lastPinchEvent = event;\n      this.updateViewport(newMapState, NO_TRANSITION_PROPS, {\n        isDragging: true\n      });\n      return true;\n    }\n  }, {\n    key: \"_onPinch\",\n    value: function _onPinch(event) {\n      if (!this.isDragging()) {\n        return false;\n      }\n\n      if (!this.touchZoom && !this.touchRotate) {\n        return false;\n      }\n\n      var newMapState = this.mapState;\n\n      if (this.touchZoom) {\n        var scale = event.scale;\n        var pos = this.getCenter(event);\n        newMapState = newMapState.zoom({\n          pos: pos,\n          scale: scale\n        });\n      }\n\n      if (this.touchRotate) {\n        var rotation = event.rotation;\n        newMapState = newMapState.rotate({\n          deltaAngleX: this._startPinchRotation - rotation\n        });\n      }\n\n      this.updateViewport(newMapState, NO_TRANSITION_PROPS, {\n        isDragging: true,\n        isPanning: Boolean(this.touchZoom),\n        isZooming: Boolean(this.touchZoom),\n        isRotating: Boolean(this.touchRotate)\n      });\n      this._lastPinchEvent = event;\n      return true;\n    }\n  }, {\n    key: \"_onPinchEnd\",\n    value: function _onPinchEnd(event) {\n      if (!this.isDragging()) {\n        return false;\n      }\n\n      if (this.touchZoom) {\n        var _this$touchZoom$inert = this.touchZoom.inertia,\n            inertia = _this$touchZoom$inert === void 0 ? DEFAULT_INERTIA : _this$touchZoom$inert;\n        var _lastPinchEvent = this._lastPinchEvent;\n\n        if (inertia && _lastPinchEvent && event.scale !== _lastPinchEvent.scale) {\n          var pos = this.getCenter(event);\n\n          var _newMapState = this.mapState.rotateEnd();\n\n          var z = Math.log2(event.scale);\n\n          var velocityZ = (z - Math.log2(_lastPinchEvent.scale)) / (event.deltaTime - _lastPinchEvent.deltaTime);\n\n          var endScale = Math.pow(2, z + velocityZ * inertia / 2);\n          _newMapState = _newMapState.zoom({\n            pos: pos,\n            scale: endScale\n          }).zoomEnd();\n          this.updateViewport(_newMapState, _objectSpread(_objectSpread({}, LINEAR_TRANSITION_PROPS), {}, {\n            transitionInterpolator: new LinearInterpolator({\n              around: pos\n            }),\n            transitionDuration: inertia,\n            transitionEasing: INERTIA_EASING\n          }), {\n            isDragging: false,\n            isPanning: Boolean(this.touchZoom),\n            isZooming: Boolean(this.touchZoom),\n            isRotating: false\n          });\n          this.blockEvents(inertia);\n          return true;\n        }\n      }\n\n      var newMapState = this.mapState.zoomEnd().rotateEnd();\n      this._state.startPinchRotation = 0;\n      this.updateViewport(newMapState, null, {\n        isDragging: false,\n        isPanning: false,\n        isZooming: false,\n        isRotating: false\n      });\n      this._startPinchRotation = null;\n      this._lastPinchEvent = null;\n      return true;\n    }\n  }, {\n    key: \"_onTriplePanStart\",\n    value: function _onTriplePanStart(event) {\n      var pos = this.getCenter(event);\n      var newMapState = this.mapState.rotateStart({\n        pos: pos\n      });\n      this.updateViewport(newMapState, NO_TRANSITION_PROPS, {\n        isDragging: true\n      });\n      return true;\n    }\n  }, {\n    key: \"_onTriplePan\",\n    value: function _onTriplePan(event) {\n      if (!this.isDragging()) {\n        return false;\n      }\n\n      if (!this.touchRotate) {\n        return false;\n      }\n\n      var pos = this.getCenter(event);\n      pos[0] -= event.deltaX;\n      var newMapState = this.mapState.rotate({\n        pos: pos\n      });\n      this.updateViewport(newMapState, NO_TRANSITION_PROPS, {\n        isRotating: true\n      });\n      return true;\n    }\n  }, {\n    key: \"_onTriplePanEnd\",\n    value: function _onTriplePanEnd(event) {\n      if (!this.isDragging()) {\n        return false;\n      }\n\n      if (this.touchRotate) {\n        var _this$touchRotate$ine = this.touchRotate.inertia,\n            inertia = _this$touchRotate$ine === void 0 ? DEFAULT_INERTIA : _this$touchRotate$ine;\n\n        if (inertia && event.velocityY) {\n          var pos = this.getCenter(event);\n          var endPos = [pos[0], pos[1] += event.velocityY * inertia / 2];\n\n          var _newMapState2 = this.mapState.rotate({\n            pos: endPos\n          });\n\n          this.updateViewport(_newMapState2, _objectSpread(_objectSpread({}, LINEAR_TRANSITION_PROPS), {}, {\n            transitionDuration: inertia,\n            transitionEasing: INERTIA_EASING\n          }), {\n            isDragging: false,\n            isRotating: true\n          });\n          this.blockEvents(inertia);\n          return false;\n        }\n      }\n\n      var newMapState = this.mapState.rotateEnd();\n      this.updateViewport(newMapState, null, {\n        isDragging: false,\n        isRotating: false\n      });\n      return true;\n    }\n  }, {\n    key: \"_onDoubleTap\",\n    value: function _onDoubleTap(event) {\n      if (!this.doubleClickZoom) {\n        return false;\n      }\n\n      var pos = this.getCenter(event);\n      var isZoomOut = this.isFunctionKeyPressed(event);\n      var newMapState = this.mapState.zoom({\n        pos: pos,\n        scale: isZoomOut ? 0.5 : 2\n      });\n      this.updateViewport(newMapState, Object.assign({}, LINEAR_TRANSITION_PROPS, {\n        transitionInterpolator: new LinearInterpolator({\n          around: pos\n        })\n      }), {\n        isZooming: true\n      });\n      return true;\n    }\n  }, {\n    key: \"_onKeyDown\",\n    value: function _onKeyDown(event) {\n      if (!this.keyboard) {\n        return false;\n      }\n\n      var funcKey = this.isFunctionKeyPressed(event);\n      var _this$keyboard = this.keyboard,\n          _this$keyboard$zoomSp = _this$keyboard.zoomSpeed,\n          zoomSpeed = _this$keyboard$zoomSp === void 0 ? 2 : _this$keyboard$zoomSp,\n          _this$keyboard$moveSp = _this$keyboard.moveSpeed,\n          moveSpeed = _this$keyboard$moveSp === void 0 ? 100 : _this$keyboard$moveSp,\n          _this$keyboard$rotate = _this$keyboard.rotateSpeedX,\n          rotateSpeedX = _this$keyboard$rotate === void 0 ? 15 : _this$keyboard$rotate,\n          _this$keyboard$rotate2 = _this$keyboard.rotateSpeedY,\n          rotateSpeedY = _this$keyboard$rotate2 === void 0 ? 10 : _this$keyboard$rotate2;\n      var mapStateProps = this.mapStateProps;\n      var newMapState;\n\n      switch (event.srcEvent.keyCode) {\n        case 189:\n          if (funcKey) {\n            newMapState = this.getMapState({\n              zoom: mapStateProps.zoom - Math.log2(zoomSpeed) - 1\n            });\n          } else {\n            newMapState = this.getMapState({\n              zoom: mapStateProps.zoom - Math.log2(zoomSpeed)\n            });\n          }\n\n          break;\n\n        case 187:\n          if (funcKey) {\n            newMapState = this.getMapState({\n              zoom: mapStateProps.zoom + Math.log2(zoomSpeed) + 1\n            });\n          } else {\n            newMapState = this.getMapState({\n              zoom: mapStateProps.zoom + Math.log2(zoomSpeed)\n            });\n          }\n\n          break;\n\n        case 37:\n          if (funcKey) {\n            newMapState = this.getMapState({\n              bearing: mapStateProps.bearing - rotateSpeedX\n            });\n          } else {\n            newMapState = this.mapState.pan({\n              pos: [moveSpeed, 0],\n              startPos: [0, 0]\n            });\n          }\n\n          break;\n\n        case 39:\n          if (funcKey) {\n            newMapState = this.getMapState({\n              bearing: mapStateProps.bearing + rotateSpeedX\n            });\n          } else {\n            newMapState = this.mapState.pan({\n              pos: [-moveSpeed, 0],\n              startPos: [0, 0]\n            });\n          }\n\n          break;\n\n        case 38:\n          if (funcKey) {\n            newMapState = this.getMapState({\n              pitch: mapStateProps.pitch + rotateSpeedY\n            });\n          } else {\n            newMapState = this.mapState.pan({\n              pos: [0, moveSpeed],\n              startPos: [0, 0]\n            });\n          }\n\n          break;\n\n        case 40:\n          if (funcKey) {\n            newMapState = this.getMapState({\n              pitch: mapStateProps.pitch - rotateSpeedY\n            });\n          } else {\n            newMapState = this.mapState.pan({\n              pos: [0, -moveSpeed],\n              startPos: [0, 0]\n            });\n          }\n\n          break;\n\n        default:\n          return false;\n      }\n\n      return this.updateViewport(newMapState, LINEAR_TRANSITION_PROPS);\n    }\n  }]);\n\n  return MapController;\n}();\n\nexport { MapController as default };","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _toConsumableArray from \"@babel/runtime/helpers/esm/toConsumableArray\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    });\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nfunction _objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(Object(source), true).forEach(function (key) {\n        _defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}\n\nimport * as React from 'react';\nimport { useContext, useRef, useMemo, useEffect, useImperativeHandle, forwardRef } from 'react';\nimport * as PropTypes from 'prop-types';\nimport StaticMap, { getViewport } from './static-map';\nimport { MAPBOX_LIMITS } from '../utils/map-state';\nimport TransitionManager from '../utils/transition-manager';\nimport MapContext, { MapContextProvider } from './map-context';\nimport { EventManager } from 'mjolnir.js';\nimport MapController from '../utils/map-controller';\nimport useIsomorphicLayoutEffect from '../utils/use-isomorphic-layout-effect';\nimport { getTerrainElevation } from '../utils/terrain';\nvar propTypes = Object.assign({}, StaticMap.propTypes, {\n  maxZoom: PropTypes.number,\n  minZoom: PropTypes.number,\n  maxPitch: PropTypes.number,\n  minPitch: PropTypes.number,\n  onViewStateChange: PropTypes.func,\n  onViewportChange: PropTypes.func,\n  onInteractionStateChange: PropTypes.func,\n  transitionDuration: PropTypes.oneOfType([PropTypes.number, PropTypes.string]),\n  transitionInterpolator: PropTypes.object,\n  transitionInterruption: PropTypes.number,\n  transitionEasing: PropTypes.func,\n  onTransitionStart: PropTypes.func,\n  onTransitionInterrupt: PropTypes.func,\n  onTransitionEnd: PropTypes.func,\n  scrollZoom: PropTypes.oneOfType([PropTypes.bool, PropTypes.object]),\n  dragPan: PropTypes.oneOfType([PropTypes.bool, PropTypes.object]),\n  dragRotate: PropTypes.oneOfType([PropTypes.bool, PropTypes.object]),\n  doubleClickZoom: PropTypes.bool,\n  touchZoom: PropTypes.oneOfType([PropTypes.bool, PropTypes.object]),\n  touchRotate: PropTypes.oneOfType([PropTypes.bool, PropTypes.object]),\n  keyboard: PropTypes.oneOfType([PropTypes.bool, PropTypes.object]),\n  onHover: PropTypes.func,\n  onClick: PropTypes.func,\n  onDblClick: PropTypes.func,\n  onContextMenu: PropTypes.func,\n  onMouseDown: PropTypes.func,\n  onMouseMove: PropTypes.func,\n  onMouseUp: PropTypes.func,\n  onTouchStart: PropTypes.func,\n  onTouchMove: PropTypes.func,\n  onTouchEnd: PropTypes.func,\n  onMouseEnter: PropTypes.func,\n  onMouseLeave: PropTypes.func,\n  onMouseOut: PropTypes.func,\n  onWheel: PropTypes.func,\n  touchAction: PropTypes.string,\n  eventRecognizerOptions: PropTypes.object,\n  clickRadius: PropTypes.number,\n  interactiveLayerIds: PropTypes.array,\n  getCursor: PropTypes.func,\n  controller: PropTypes.instanceOf(MapController)\n});\n\nvar getDefaultCursor = function getDefaultCursor(_ref) {\n  var isDragging = _ref.isDragging,\n      isHovering = _ref.isHovering;\n  return isDragging ? 'grabbing' : isHovering ? 'pointer' : 'grab';\n};\n\nvar defaultProps = Object.assign({}, StaticMap.defaultProps, MAPBOX_LIMITS, TransitionManager.defaultProps, {\n  onViewStateChange: null,\n  onViewportChange: null,\n  onClick: null,\n  onNativeClick: null,\n  onHover: null,\n  onContextMenu: function onContextMenu(event) {\n    return event.preventDefault();\n  },\n  scrollZoom: true,\n  dragPan: true,\n  dragRotate: true,\n  doubleClickZoom: true,\n  touchZoom: true,\n  touchRotate: false,\n  keyboard: true,\n  touchAction: 'none',\n  eventRecognizerOptions: {},\n  clickRadius: 0,\n  getCursor: getDefaultCursor\n});\n\nfunction normalizeEvent(event) {\n  if (event.lngLat || !event.offsetCenter) {\n    return event;\n  }\n\n  var _event$offsetCenter = event.offsetCenter,\n      x = _event$offsetCenter.x,\n      y = _event$offsetCenter.y;\n\n  if (!Number.isFinite(x) || !Number.isFinite(y)) {\n    return event;\n  }\n\n  var pos = [x, y];\n  event.point = pos;\n\n  if (this.map) {\n    var location = this.map.unproject(pos);\n    event.lngLat = [location.lng, location.lat];\n  }\n\n  return event;\n}\n\nfunction getFeatures(pos) {\n  var map = this.map;\n\n  if (!map || !pos) {\n    return null;\n  }\n\n  var queryParams = {};\n  var size = this.props.clickRadius;\n\n  if (this.props.interactiveLayerIds) {\n    queryParams.layers = this.props.interactiveLayerIds;\n  }\n\n  try {\n    return map.queryRenderedFeatures(size ? [[pos[0] - size, pos[1] + size], [pos[0] + size, pos[1] - size]] : pos, queryParams);\n  } catch (_unused) {\n    return null;\n  }\n}\n\nfunction onEvent(callbackName, event) {\n  var func = this.props[callbackName];\n\n  if (func) {\n    func(normalizeEvent.call(this, event));\n  }\n}\n\nfunction onPointerDown(event) {\n  onEvent.call(this, event.pointerType === 'touch' ? 'onTouchStart' : 'onMouseDown', event);\n}\n\nfunction onPointerUp(event) {\n  onEvent.call(this, event.pointerType === 'touch' ? 'onTouchEnd' : 'onMouseUp', event);\n}\n\nfunction onPointerMove(event) {\n  onEvent.call(this, event.pointerType === 'touch' ? 'onTouchMove' : 'onMouseMove', event);\n\n  if (!this.state.isDragging) {\n    var _this$props = this.props,\n        onHover = _this$props.onHover,\n        interactiveLayerIds = _this$props.interactiveLayerIds;\n    var features;\n    event = normalizeEvent.call(this, event);\n\n    if (interactiveLayerIds || onHover) {\n      features = getFeatures.call(this, event.point);\n    }\n\n    var isHovering = Boolean(interactiveLayerIds && features && features.length > 0);\n    var isEntering = isHovering && !this.state.isHovering;\n    var isExiting = !isHovering && this.state.isHovering;\n\n    if (onHover || isEntering) {\n      event.features = features;\n\n      if (onHover) {\n        onHover(event);\n      }\n    }\n\n    if (isEntering) {\n      onEvent.call(this, 'onMouseEnter', event);\n    }\n\n    if (isExiting) {\n      onEvent.call(this, 'onMouseLeave', event);\n    }\n\n    if (isEntering || isExiting) {\n      this.setState({\n        isHovering: isHovering\n      });\n    }\n  }\n}\n\nfunction onPointerClick(event) {\n  var _this$props2 = this.props,\n      onClick = _this$props2.onClick,\n      onNativeClick = _this$props2.onNativeClick,\n      onDblClick = _this$props2.onDblClick,\n      doubleClickZoom = _this$props2.doubleClickZoom;\n  var callbacks = [];\n  var isDoubleClickEnabled = onDblClick || doubleClickZoom;\n\n  switch (event.type) {\n    case 'anyclick':\n      callbacks.push(onNativeClick);\n\n      if (!isDoubleClickEnabled) {\n        callbacks.push(onClick);\n      }\n\n      break;\n\n    case 'click':\n      if (isDoubleClickEnabled) {\n        callbacks.push(onClick);\n      }\n\n      break;\n\n    default:\n  }\n\n  callbacks = callbacks.filter(Boolean);\n\n  if (callbacks.length) {\n    event = normalizeEvent.call(this, event);\n    event.features = getFeatures.call(this, event.point);\n    callbacks.forEach(function (cb) {\n      return cb(event);\n    });\n  }\n}\n\nfunction getRefHandles(staticMapRef) {\n  return {\n    getMap: staticMapRef.current && staticMapRef.current.getMap,\n    queryRenderedFeatures: staticMapRef.current && staticMapRef.current.queryRenderedFeatures\n  };\n}\n\nvar InteractiveMap = forwardRef(function (props, ref) {\n  var parentContext = useContext(MapContext);\n  var controller = useMemo(function () {\n    return props.controller || new MapController();\n  }, []);\n  var eventManager = useMemo(function () {\n    return new EventManager(null, {\n      touchAction: props.touchAction,\n      recognizerOptions: props.eventRecognizerOptions\n    });\n  }, []);\n  var eventCanvasRef = useRef(null);\n  var staticMapRef = useRef(null);\n\n  var _thisRef = useRef({\n    width: 0,\n    height: 0,\n    state: {\n      isHovering: false,\n      isDragging: false\n    }\n  });\n\n  var thisRef = _thisRef.current;\n  thisRef.props = props;\n  thisRef.map = staticMapRef.current && staticMapRef.current.getMap();\n\n  thisRef.setState = function (newState) {\n    thisRef.state = _objectSpread(_objectSpread({}, thisRef.state), newState);\n    eventCanvasRef.current.style.cursor = props.getCursor(thisRef.state);\n  };\n\n  var inRender = true;\n  var viewportUpdateRequested;\n  var stateUpdateRequested;\n\n  var handleViewportChange = function handleViewportChange(viewState, interactionState, oldViewState) {\n    if (inRender) {\n      viewportUpdateRequested = [viewState, interactionState, oldViewState];\n      return;\n    }\n\n    var _thisRef$props = thisRef.props,\n        onViewStateChange = _thisRef$props.onViewStateChange,\n        onViewportChange = _thisRef$props.onViewportChange;\n    Object.defineProperty(viewState, 'position', {\n      get: function get() {\n        return [0, 0, getTerrainElevation(thisRef.map, viewState)];\n      }\n    });\n\n    if (onViewStateChange) {\n      onViewStateChange({\n        viewState: viewState,\n        interactionState: interactionState,\n        oldViewState: oldViewState\n      });\n    }\n\n    if (onViewportChange) {\n      onViewportChange(viewState, interactionState, oldViewState);\n    }\n  };\n\n  useImperativeHandle(ref, function () {\n    return getRefHandles(staticMapRef);\n  }, []);\n  var context = useMemo(function () {\n    return _objectSpread(_objectSpread({}, parentContext), {}, {\n      eventManager: eventManager,\n      container: parentContext.container || eventCanvasRef.current\n    });\n  }, [parentContext, eventCanvasRef.current]);\n  context.onViewportChange = handleViewportChange;\n  context.viewport = parentContext.viewport || getViewport(thisRef);\n  thisRef.viewport = context.viewport;\n\n  var handleInteractionStateChange = function handleInteractionStateChange(interactionState) {\n    var _interactionState$isD = interactionState.isDragging,\n        isDragging = _interactionState$isD === void 0 ? false : _interactionState$isD;\n\n    if (isDragging !== thisRef.state.isDragging) {\n      thisRef.setState({\n        isDragging: isDragging\n      });\n    }\n\n    if (inRender) {\n      stateUpdateRequested = interactionState;\n      return;\n    }\n\n    var onInteractionStateChange = thisRef.props.onInteractionStateChange;\n\n    if (onInteractionStateChange) {\n      onInteractionStateChange(interactionState);\n    }\n  };\n\n  var updateControllerOpts = function updateControllerOpts() {\n    if (thisRef.width && thisRef.height) {\n      controller.setOptions(_objectSpread(_objectSpread(_objectSpread({}, thisRef.props), thisRef.props.viewState), {}, {\n        isInteractive: Boolean(thisRef.props.onViewStateChange || thisRef.props.onViewportChange),\n        onViewportChange: handleViewportChange,\n        onStateChange: handleInteractionStateChange,\n        eventManager: eventManager,\n        width: thisRef.width,\n        height: thisRef.height\n      }));\n    }\n  };\n\n  var onResize = function onResize(_ref2) {\n    var width = _ref2.width,\n        height = _ref2.height;\n    thisRef.width = width;\n    thisRef.height = height;\n    updateControllerOpts();\n    thisRef.props.onResize({\n      width: width,\n      height: height\n    });\n  };\n\n  useEffect(function () {\n    eventManager.setElement(eventCanvasRef.current);\n    eventManager.on({\n      pointerdown: onPointerDown.bind(thisRef),\n      pointermove: onPointerMove.bind(thisRef),\n      pointerup: onPointerUp.bind(thisRef),\n      pointerleave: onEvent.bind(thisRef, 'onMouseOut'),\n      click: onPointerClick.bind(thisRef),\n      anyclick: onPointerClick.bind(thisRef),\n      dblclick: onEvent.bind(thisRef, 'onDblClick'),\n      wheel: onEvent.bind(thisRef, 'onWheel'),\n      contextmenu: onEvent.bind(thisRef, 'onContextMenu')\n    });\n    return function () {\n      eventManager.destroy();\n    };\n  }, []);\n  useIsomorphicLayoutEffect(function () {\n    if (viewportUpdateRequested) {\n      handleViewportChange.apply(void 0, _toConsumableArray(viewportUpdateRequested));\n    }\n\n    if (stateUpdateRequested) {\n      handleInteractionStateChange(stateUpdateRequested);\n    }\n  });\n  updateControllerOpts();\n  var width = props.width,\n      height = props.height,\n      style = props.style,\n      getCursor = props.getCursor;\n  var eventCanvasStyle = useMemo(function () {\n    return _objectSpread(_objectSpread({\n      position: 'relative'\n    }, style), {}, {\n      width: width,\n      height: height,\n      cursor: getCursor(thisRef.state)\n    });\n  }, [style, width, height, getCursor, thisRef.state]);\n\n  if (!viewportUpdateRequested || !thisRef._child) {\n    thisRef._child = React.createElement(MapContextProvider, {\n      value: context\n    }, React.createElement(\"div\", {\n      key: \"event-canvas\",\n      ref: eventCanvasRef,\n      style: eventCanvasStyle\n    }, React.createElement(StaticMap, _extends({}, props, {\n      width: \"100%\",\n      height: \"100%\",\n      style: null,\n      onResize: onResize,\n      ref: staticMapRef\n    }))));\n  }\n\n  inRender = false;\n  return thisRef._child;\n});\nInteractiveMap.supported = StaticMap.supported;\nInteractiveMap.propTypes = propTypes;\nInteractiveMap.defaultProps = defaultProps;\nexport default InteractiveMap;","export default function _typeof(obj) {\n  \"@babel/helpers - typeof\";\n\n  return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) {\n    return typeof obj;\n  } : function (obj) {\n    return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n  }, _typeof(obj);\n}","import _typeof from \"@babel/runtime/helpers/esm/typeof\";\nexport default function deepEqual(a, b) {\n  if (a === b) {\n    return true;\n  }\n\n  if (!a || !b) {\n    return false;\n  }\n\n  if (Array.isArray(a)) {\n    if (!Array.isArray(b) || a.length !== b.length) {\n      return false;\n    }\n\n    for (var i = 0; i < a.length; i++) {\n      if (!deepEqual(a[i], b[i])) {\n        return false;\n      }\n    }\n\n    return true;\n  } else if (Array.isArray(b)) {\n    return false;\n  }\n\n  if (_typeof(a) === 'object' && _typeof(b) === 'object') {\n    var aKeys = Object.keys(a);\n    var bKeys = Object.keys(b);\n\n    if (aKeys.length !== bKeys.length) {\n      return false;\n    }\n\n    for (var _i = 0, _aKeys = aKeys; _i < _aKeys.length; _i++) {\n      var key = _aKeys[_i];\n\n      if (!b.hasOwnProperty(key)) {\n        return false;\n      }\n\n      if (!deepEqual(a[key], b[key])) {\n        return false;\n      }\n    }\n\n    return true;\n  }\n\n  return false;\n}","import _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    });\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nfunction _objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(Object(source), true).forEach(function (key) {\n        _defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}\n\nimport * as React from 'react';\nimport { useContext, useEffect, useMemo, useState, useRef } from 'react';\nimport { cloneElement } from 'react';\nimport MapContext from './map-context';\nimport assert from '../utils/assert';\nimport deepEqual from '../utils/deep-equal';\nvar sourceCounter = 0;\n\nfunction createSource(map, id, props) {\n  if (map.style && map.style._loaded) {\n    var options = _objectSpread({}, props);\n\n    delete options.id;\n    delete options.children;\n    map.addSource(id, options);\n    return map.getSource(id);\n  }\n\n  return null;\n}\n\nfunction updateSource(source, props, prevProps) {\n  assert(props.id === prevProps.id, 'source id changed');\n  assert(props.type === prevProps.type, 'source type changed');\n  var changedKey = '';\n  var changedKeyCount = 0;\n\n  for (var key in props) {\n    if (key !== 'children' && key !== 'id' && !deepEqual(prevProps[key], props[key])) {\n      changedKey = key;\n      changedKeyCount++;\n    }\n  }\n\n  if (!changedKeyCount) {\n    return;\n  }\n\n  var type = props.type;\n\n  if (type === 'geojson') {\n    source.setData(props.data);\n  } else if (type === 'image') {\n    source.updateImage({\n      url: props.url,\n      coordinates: props.coordinates\n    });\n  } else if ((type === 'canvas' || type === 'video') && changedKeyCount === 1 && changedKey === 'coordinates') {\n    source.setCoordinates(props.coordinates);\n  } else if (type === 'vector' && source.setUrl) {\n    switch (changedKey) {\n      case 'url':\n        source.setUrl(props.url);\n        break;\n\n      case 'tiles':\n        source.setTiles(props.tiles);\n        break;\n\n      default:\n    }\n  } else {\n    console.warn(\"Unable to update <Source> prop: \".concat(changedKey));\n  }\n}\n\nfunction Source(props) {\n  var context = useContext(MapContext);\n  var propsRef = useRef({\n    id: props.id,\n    type: props.type\n  });\n\n  var _useState = useState(0),\n      _useState2 = _slicedToArray(_useState, 2),\n      setStyleLoaded = _useState2[1];\n\n  var id = useMemo(function () {\n    return props.id || \"jsx-source-\".concat(sourceCounter++);\n  }, []);\n  var map = context.map;\n  useEffect(function () {\n    if (map) {\n      var forceUpdate = function forceUpdate() {\n        return setStyleLoaded(function (version) {\n          return version + 1;\n        });\n      };\n\n      map.on('styledata', forceUpdate);\n      return function () {\n        map.off('styledata', forceUpdate);\n        requestAnimationFrame(function () {\n          if (map.style && map.style._loaded && map.getSource(id)) {\n            map.removeSource(id);\n          }\n        });\n      };\n    }\n\n    return undefined;\n  }, [map, id]);\n  var source = map && map.style && map.getSource(id);\n\n  if (source) {\n    updateSource(source, props, propsRef.current);\n  } else {\n    source = createSource(map, id, props);\n  }\n\n  propsRef.current = props;\n  return source && React.Children.map(props.children, function (child) {\n    return child && cloneElement(child, {\n      source: id\n    });\n  }) || null;\n}\n\nexport default Source;","import objectWithoutPropertiesLoose from \"./objectWithoutPropertiesLoose.js\";\nexport default function _objectWithoutProperties(source, excluded) {\n  if (source == null) return {};\n  var target = objectWithoutPropertiesLoose(source, excluded);\n  var key, i;\n\n  if (Object.getOwnPropertySymbols) {\n    var sourceSymbolKeys = Object.getOwnPropertySymbols(source);\n\n    for (i = 0; i < sourceSymbolKeys.length; i++) {\n      key = sourceSymbolKeys[i];\n      if (excluded.indexOf(key) >= 0) continue;\n      if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue;\n      target[key] = source[key];\n    }\n  }\n\n  return target;\n}","export default function _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  return target;\n}","import _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    });\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nfunction _objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(Object(source), true).forEach(function (key) {\n        _defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}\n\nimport { useContext, useEffect, useMemo, useState, useRef } from 'react';\nimport * as PropTypes from 'prop-types';\nimport MapContext from './map-context';\nimport assert from '../utils/assert';\nimport deepEqual from '../utils/deep-equal';\nvar LAYER_TYPES = ['fill', 'line', 'symbol', 'circle', 'fill-extrusion', 'raster', 'background', 'heatmap', 'hillshade', 'sky'];\nvar propTypes = {\n  type: PropTypes.oneOf(LAYER_TYPES).isRequired,\n  id: PropTypes.string,\n  source: PropTypes.string,\n  beforeId: PropTypes.string\n};\n\nfunction diffLayerStyles(map, id, props, prevProps) {\n  var _props$layout = props.layout,\n      layout = _props$layout === void 0 ? {} : _props$layout,\n      _props$paint = props.paint,\n      paint = _props$paint === void 0 ? {} : _props$paint,\n      filter = props.filter,\n      minzoom = props.minzoom,\n      maxzoom = props.maxzoom,\n      beforeId = props.beforeId,\n      otherProps = _objectWithoutProperties(props, [\"layout\", \"paint\", \"filter\", \"minzoom\", \"maxzoom\", \"beforeId\"]);\n\n  if (beforeId !== prevProps.beforeId) {\n    map.moveLayer(id, beforeId);\n  }\n\n  if (layout !== prevProps.layout) {\n    var prevLayout = prevProps.layout || {};\n\n    for (var key in layout) {\n      if (!deepEqual(layout[key], prevLayout[key])) {\n        map.setLayoutProperty(id, key, layout[key]);\n      }\n    }\n\n    for (var _key in prevLayout) {\n      if (!layout.hasOwnProperty(_key)) {\n        map.setLayoutProperty(id, _key, undefined);\n      }\n    }\n  }\n\n  if (paint !== prevProps.paint) {\n    var prevPaint = prevProps.paint || {};\n\n    for (var _key2 in paint) {\n      if (!deepEqual(paint[_key2], prevPaint[_key2])) {\n        map.setPaintProperty(id, _key2, paint[_key2]);\n      }\n    }\n\n    for (var _key3 in prevPaint) {\n      if (!paint.hasOwnProperty(_key3)) {\n        map.setPaintProperty(id, _key3, undefined);\n      }\n    }\n  }\n\n  if (!deepEqual(filter, prevProps.filter)) {\n    map.setFilter(id, filter);\n  }\n\n  if (minzoom !== prevProps.minzoom || maxzoom !== prevProps.maxzoom) {\n    map.setLayerZoomRange(id, minzoom, maxzoom);\n  }\n\n  for (var _key4 in otherProps) {\n    if (!deepEqual(otherProps[_key4], prevProps[_key4])) {\n      map.setLayerProperty(id, _key4, otherProps[_key4]);\n    }\n  }\n}\n\nfunction createLayer(map, id, props) {\n  if (map.style && map.style._loaded) {\n    var options = _objectSpread(_objectSpread({}, props), {}, {\n      id: id\n    });\n\n    delete options.beforeId;\n    map.addLayer(options, props.beforeId);\n  }\n}\n\nfunction updateLayer(map, id, props, prevProps) {\n  assert(props.id === prevProps.id, 'layer id changed');\n  assert(props.type === prevProps.type, 'layer type changed');\n\n  try {\n    diffLayerStyles(map, id, props, prevProps);\n  } catch (error) {\n    console.warn(error);\n  }\n}\n\nvar layerCounter = 0;\n\nfunction Layer(props) {\n  var context = useContext(MapContext);\n  var propsRef = useRef({\n    id: props.id,\n    type: props.type\n  });\n\n  var _useState = useState(0),\n      _useState2 = _slicedToArray(_useState, 2),\n      setStyleLoaded = _useState2[1];\n\n  var id = useMemo(function () {\n    return props.id || \"jsx-layer-\".concat(layerCounter++);\n  }, []);\n  var map = context.map;\n  useEffect(function () {\n    if (map) {\n      var forceUpdate = function forceUpdate() {\n        return setStyleLoaded(function (version) {\n          return version + 1;\n        });\n      };\n\n      map.on('styledata', forceUpdate);\n      return function () {\n        map.off('styledata', forceUpdate);\n\n        if (map.style && map.style._loaded) {\n          map.removeLayer(id);\n        }\n      };\n    }\n\n    return undefined;\n  }, [map]);\n  var layer = map && map.style && map.getLayer(id);\n\n  if (layer) {\n    updateLayer(map, id, props, propsRef.current);\n  } else {\n    createLayer(map, id, props);\n  }\n\n  propsRef.current = props;\n  return null;\n}\n\nLayer.propTypes = propTypes;\nexport default Layer;","import { useContext, useRef, useEffect } from 'react';\nimport * as PropTypes from 'prop-types';\nimport MapContext from './map-context';\nexport var mapControlDefaultProps = {\n  captureScroll: false,\n  captureDrag: true,\n  captureClick: true,\n  captureDoubleClick: true,\n  capturePointerMove: false\n};\nexport var mapControlPropTypes = {\n  captureScroll: PropTypes.bool,\n  captureDrag: PropTypes.bool,\n  captureClick: PropTypes.bool,\n  captureDoubleClick: PropTypes.bool,\n  capturePointerMove: PropTypes.bool\n};\n\nfunction onMount(thisRef) {\n  var ref = thisRef.containerRef.current;\n  var eventManager = thisRef.context.eventManager;\n\n  if (!ref || !eventManager) {\n    return undefined;\n  }\n\n  var events = {\n    wheel: function wheel(evt) {\n      var props = thisRef.props;\n\n      if (props.captureScroll) {\n        evt.stopPropagation();\n      }\n\n      if (props.onScroll) {\n        props.onScroll(evt, thisRef);\n      }\n    },\n    panstart: function panstart(evt) {\n      var props = thisRef.props;\n\n      if (props.captureDrag) {\n        evt.stopPropagation();\n      }\n\n      if (props.onDragStart) {\n        props.onDragStart(evt, thisRef);\n      }\n    },\n    anyclick: function anyclick(evt) {\n      var props = thisRef.props;\n\n      if (props.captureClick) {\n        evt.stopPropagation();\n      }\n\n      if (props.onNativeClick) {\n        props.onNativeClick(evt, thisRef);\n      }\n    },\n    click: function click(evt) {\n      var props = thisRef.props;\n\n      if (props.captureClick) {\n        evt.stopPropagation();\n      }\n\n      if (props.onClick) {\n        props.onClick(evt, thisRef);\n      }\n    },\n    dblclick: function dblclick(evt) {\n      var props = thisRef.props;\n\n      if (props.captureDoubleClick) {\n        evt.stopPropagation();\n      }\n\n      if (props.onDoubleClick) {\n        props.onDoubleClick(evt, thisRef);\n      }\n    },\n    pointermove: function pointermove(evt) {\n      var props = thisRef.props;\n\n      if (props.capturePointerMove) {\n        evt.stopPropagation();\n      }\n\n      if (props.onPointerMove) {\n        props.onPointerMove(evt, thisRef);\n      }\n    }\n  };\n  eventManager.watch(events, ref);\n  return function () {\n    eventManager.off(events);\n  };\n}\n\nexport default function useMapControl() {\n  var props = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  var context = useContext(MapContext);\n  var containerRef = useRef(null);\n\n  var _thisRef = useRef({\n    props: props,\n    state: {},\n    context: context,\n    containerRef: containerRef\n  });\n\n  var thisRef = _thisRef.current;\n  thisRef.props = props;\n  thisRef.context = context;\n  useEffect(function () {\n    return onMount(thisRef);\n  }, [context.eventManager]);\n  return thisRef;\n}","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _assertThisInitialized from \"@babel/runtime/helpers/esm/assertThisInitialized\";\nimport _inherits from \"@babel/runtime/helpers/esm/inherits\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\n\nfunction _createSuper(Derived) {\n  var hasNativeReflectConstruct = _isNativeReflectConstruct();\n\n  return function _createSuperInternal() {\n    var Super = _getPrototypeOf(Derived),\n        result;\n\n    if (hasNativeReflectConstruct) {\n      var NewTarget = _getPrototypeOf(this).constructor;\n\n      result = Reflect.construct(Super, arguments, NewTarget);\n    } else {\n      result = Super.apply(this, arguments);\n    }\n\n    return _possibleConstructorReturn(this, result);\n  };\n}\n\nfunction _isNativeReflectConstruct() {\n  if (typeof Reflect === \"undefined\" || !Reflect.construct) return false;\n  if (Reflect.construct.sham) return false;\n  if (typeof Proxy === \"function\") return true;\n\n  try {\n    Date.prototype.toString.call(Reflect.construct(Date, [], function () {}));\n    return true;\n  } catch (e) {\n    return false;\n  }\n}\n\nimport * as React from 'react';\nimport { PureComponent, createRef } from 'react';\nimport useMapControl, { mapControlDefaultProps, mapControlPropTypes } from './use-map-control';\n\nfunction Control(props) {\n  var instance = props.instance;\n\n  var _useMapControl = useMapControl(props),\n      context = _useMapControl.context,\n      containerRef = _useMapControl.containerRef;\n\n  instance._context = context;\n  instance._containerRef = containerRef;\n  return instance._render();\n}\n\nvar BaseControl = function (_PureComponent) {\n  _inherits(BaseControl, _PureComponent);\n\n  var _super = _createSuper(BaseControl);\n\n  function BaseControl() {\n    var _this;\n\n    _classCallCheck(this, BaseControl);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _super.call.apply(_super, [this].concat(args));\n\n    _defineProperty(_assertThisInitialized(_this), \"_context\", {});\n\n    _defineProperty(_assertThisInitialized(_this), \"_containerRef\", createRef());\n\n    _defineProperty(_assertThisInitialized(_this), \"_onScroll\", function (evt) {});\n\n    _defineProperty(_assertThisInitialized(_this), \"_onDragStart\", function (evt) {});\n\n    _defineProperty(_assertThisInitialized(_this), \"_onDblClick\", function (evt) {});\n\n    _defineProperty(_assertThisInitialized(_this), \"_onClick\", function (evt) {});\n\n    _defineProperty(_assertThisInitialized(_this), \"_onPointerMove\", function (evt) {});\n\n    return _this;\n  }\n\n  _createClass(BaseControl, [{\n    key: \"_render\",\n    value: function _render() {\n      throw new Error('_render() not implemented');\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return React.createElement(Control, _extends({\n        instance: this\n      }, this.props, {\n        onScroll: this._onScroll,\n        onDragStart: this._onDragStart,\n        onDblClick: this._onDblClick,\n        onClick: this._onClick,\n        onPointerMove: this._onPointerMove\n      }));\n    }\n  }]);\n\n  return BaseControl;\n}(PureComponent);\n\n_defineProperty(BaseControl, \"propTypes\", mapControlPropTypes);\n\n_defineProperty(BaseControl, \"defaultProps\", mapControlDefaultProps);\n\nexport { BaseControl as default };","import _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    });\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nfunction _objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(Object(source), true).forEach(function (key) {\n        _defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}\n\nimport * as PropTypes from 'prop-types';\nimport { useState, useEffect } from 'react';\nimport useMapControl, { mapControlDefaultProps, mapControlPropTypes } from './use-map-control';\nexport var draggableControlPropTypes = Object.assign({}, mapControlPropTypes, {\n  draggable: PropTypes.bool,\n  onDrag: PropTypes.func,\n  onDragEnd: PropTypes.func,\n  onDragStart: PropTypes.func,\n  offsetLeft: PropTypes.number,\n  offsetTop: PropTypes.number\n});\nexport var draggableControlDefaultProps = Object.assign({}, mapControlDefaultProps, {\n  draggable: false,\n  offsetLeft: 0,\n  offsetTop: 0\n});\n\nfunction getDragEventPosition(event) {\n  var _event$offsetCenter = event.offsetCenter,\n      x = _event$offsetCenter.x,\n      y = _event$offsetCenter.y;\n  return [x, y];\n}\n\nfunction getDragEventOffset(event, container) {\n  var _event$center = event.center,\n      x = _event$center.x,\n      y = _event$center.y;\n\n  if (container) {\n    var rect = container.getBoundingClientRect();\n    return [rect.left - x, rect.top - y];\n  }\n\n  return null;\n}\n\nfunction getDragLngLat(dragPos, dragOffset, props, context) {\n  var x = dragPos[0] + dragOffset[0] - props.offsetLeft;\n  var y = dragPos[1] + dragOffset[1] - props.offsetTop;\n  return context.viewport.unproject([x, y]);\n}\n\nfunction onDragStart(event, _ref) {\n  var props = _ref.props,\n      callbacks = _ref.callbacks,\n      state = _ref.state,\n      context = _ref.context,\n      containerRef = _ref.containerRef;\n  var draggable = props.draggable;\n\n  if (!draggable) {\n    return;\n  }\n\n  event.stopPropagation();\n  var dragPos = getDragEventPosition(event);\n  var dragOffset = getDragEventOffset(event, containerRef.current);\n  state.setDragPos(dragPos);\n  state.setDragOffset(dragOffset);\n\n  if (callbacks.onDragStart && dragOffset) {\n    var callbackEvent = Object.assign({}, event);\n    callbackEvent.lngLat = getDragLngLat(dragPos, dragOffset, props, context);\n    callbacks.onDragStart(callbackEvent);\n  }\n}\n\nfunction onDrag(event, _ref2) {\n  var props = _ref2.props,\n      callbacks = _ref2.callbacks,\n      state = _ref2.state,\n      context = _ref2.context;\n  event.stopPropagation();\n  var dragPos = getDragEventPosition(event);\n  state.setDragPos(dragPos);\n  var dragOffset = state.dragOffset;\n\n  if (callbacks.onDrag && dragOffset) {\n    var callbackEvent = Object.assign({}, event);\n    callbackEvent.lngLat = getDragLngLat(dragPos, dragOffset, props, context);\n    callbacks.onDrag(callbackEvent);\n  }\n}\n\nfunction onDragEnd(event, _ref3) {\n  var props = _ref3.props,\n      callbacks = _ref3.callbacks,\n      state = _ref3.state,\n      context = _ref3.context;\n  event.stopPropagation();\n  var dragPos = state.dragPos,\n      dragOffset = state.dragOffset;\n  state.setDragPos(null);\n  state.setDragOffset(null);\n\n  if (callbacks.onDragEnd && dragPos && dragOffset) {\n    var callbackEvent = Object.assign({}, event);\n    callbackEvent.lngLat = getDragLngLat(dragPos, dragOffset, props, context);\n    callbacks.onDragEnd(callbackEvent);\n  }\n}\n\nfunction onDragCancel(event, _ref4) {\n  var state = _ref4.state;\n  event.stopPropagation();\n  state.setDragPos(null);\n  state.setDragOffset(null);\n}\n\nfunction registerEvents(thisRef) {\n  var eventManager = thisRef.context.eventManager;\n\n  if (!eventManager || !thisRef.state.dragPos) {\n    return undefined;\n  }\n\n  var events = {\n    panmove: function panmove(evt) {\n      return onDrag(evt, thisRef);\n    },\n    panend: function panend(evt) {\n      return onDragEnd(evt, thisRef);\n    },\n    pancancel: function pancancel(evt) {\n      return onDragCancel(evt, thisRef);\n    }\n  };\n  eventManager.watch(events);\n  return function () {\n    eventManager.off(events);\n  };\n}\n\nexport default function useDraggableControl(props) {\n  var _useState = useState(null),\n      _useState2 = _slicedToArray(_useState, 2),\n      dragPos = _useState2[0],\n      setDragPos = _useState2[1];\n\n  var _useState3 = useState(null),\n      _useState4 = _slicedToArray(_useState3, 2),\n      dragOffset = _useState4[0],\n      setDragOffset = _useState4[1];\n\n  var thisRef = useMapControl(_objectSpread(_objectSpread({}, props), {}, {\n    onDragStart: onDragStart\n  }));\n  thisRef.callbacks = props;\n  thisRef.state.dragPos = dragPos;\n  thisRef.state.setDragPos = setDragPos;\n  thisRef.state.dragOffset = dragOffset;\n  thisRef.state.setDragOffset = setDragOffset;\n  useEffect(function () {\n    return registerEvents(thisRef);\n  }, [thisRef.context.eventManager, Boolean(dragPos)]);\n  return thisRef;\n}","var pixelRatio = typeof window !== 'undefined' && window.devicePixelRatio || 1;\nexport var crispPixel = function crispPixel(size) {\n  return Math.round(size * pixelRatio) / pixelRatio;\n};\nexport var crispPercentage = function crispPercentage(el, percentage) {\n  var dimension = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 'x';\n\n  if (el === null) {\n    return percentage;\n  }\n\n  var origSize = dimension === 'x' ? el.offsetWidth : el.offsetHeight;\n  return crispPixel(percentage / 100 * origSize) / origSize * 100;\n};","import _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\nimport * as React from 'react';\nimport { useMemo } from 'react';\nimport useDraggableControl, { draggableControlDefaultProps, draggableControlPropTypes } from './draggable-control';\nimport { crispPixel } from '../utils/crisp-pixel';\nimport { getTerrainElevation } from '../utils/terrain';\nvar defaultProps = Object.assign({}, draggableControlDefaultProps, {\n  className: ''\n});\n\nfunction getPosition(_ref) {\n  var props = _ref.props,\n      state = _ref.state,\n      context = _ref.context;\n  var longitude = props.longitude,\n      latitude = props.latitude,\n      offsetLeft = props.offsetLeft,\n      offsetTop = props.offsetTop;\n  var dragPos = state.dragPos,\n      dragOffset = state.dragOffset;\n  var viewport = context.viewport,\n      map = context.map;\n\n  if (dragPos && dragOffset) {\n    return [dragPos[0] + dragOffset[0], dragPos[1] + dragOffset[1]];\n  }\n\n  var altitude = getTerrainElevation(map, {\n    longitude: longitude,\n    latitude: latitude\n  });\n\n  var _viewport$project = viewport.project([longitude, latitude, altitude]),\n      _viewport$project2 = _slicedToArray(_viewport$project, 2),\n      x = _viewport$project2[0],\n      y = _viewport$project2[1];\n\n  x += offsetLeft;\n  y += offsetTop;\n  return [x, y];\n}\n\nfunction Marker(props) {\n  var thisRef = useDraggableControl(props);\n  var state = thisRef.state,\n      containerRef = thisRef.containerRef;\n  var children = props.children,\n      className = props.className,\n      draggable = props.draggable;\n  var dragPos = state.dragPos;\n\n  var _getPosition = getPosition(thisRef),\n      _getPosition2 = _slicedToArray(_getPosition, 2),\n      x = _getPosition2[0],\n      y = _getPosition2[1];\n\n  var transform = \"translate(\".concat(crispPixel(x), \"px, \").concat(crispPixel(y), \"px)\");\n  var cursor = draggable ? dragPos ? 'grabbing' : 'grab' : 'auto';\n  var control = useMemo(function () {\n    var containerStyle = {\n      position: 'absolute',\n      left: 0,\n      top: 0,\n      transform: transform,\n      cursor: cursor\n    };\n    return React.createElement(\"div\", {\n      className: \"mapboxgl-marker \".concat(className),\n      ref: thisRef.containerRef,\n      style: containerStyle\n    }, children);\n  }, [children, className]);\n  var container = containerRef.current;\n\n  if (container) {\n    container.style.transform = transform;\n    container.style.cursor = cursor;\n  }\n\n  return control;\n}\n\nMarker.defaultProps = defaultProps;\nexport default React.memo(Marker);","export var ANCHOR_POSITION = {\n  top: {\n    x: 0.5,\n    y: 0\n  },\n  'top-left': {\n    x: 0,\n    y: 0\n  },\n  'top-right': {\n    x: 1,\n    y: 0\n  },\n  bottom: {\n    x: 0.5,\n    y: 1\n  },\n  'bottom-left': {\n    x: 0,\n    y: 1\n  },\n  'bottom-right': {\n    x: 1,\n    y: 1\n  },\n  left: {\n    x: 0,\n    y: 0.5\n  },\n  right: {\n    x: 1,\n    y: 0.5\n  }\n};\nvar ANCHOR_TYPES = Object.keys(ANCHOR_POSITION);\nexport function getDynamicPosition(_ref) {\n  var x = _ref.x,\n      y = _ref.y,\n      width = _ref.width,\n      height = _ref.height,\n      selfWidth = _ref.selfWidth,\n      selfHeight = _ref.selfHeight,\n      anchor = _ref.anchor,\n      _ref$padding = _ref.padding,\n      padding = _ref$padding === void 0 ? 0 : _ref$padding;\n  var _ANCHOR_POSITION$anch = ANCHOR_POSITION[anchor],\n      anchorX = _ANCHOR_POSITION$anch.x,\n      anchorY = _ANCHOR_POSITION$anch.y;\n  var top = y - anchorY * selfHeight;\n  var bottom = top + selfHeight;\n  var cutoffY = Math.max(0, padding - top) + Math.max(0, bottom - height + padding);\n\n  if (cutoffY > 0) {\n    var bestAnchorY = anchorY;\n    var minCutoff = cutoffY;\n\n    for (anchorY = 0; anchorY <= 1; anchorY += 0.5) {\n      top = y - anchorY * selfHeight;\n      bottom = top + selfHeight;\n      cutoffY = Math.max(0, padding - top) + Math.max(0, bottom - height + padding);\n\n      if (cutoffY < minCutoff) {\n        minCutoff = cutoffY;\n        bestAnchorY = anchorY;\n      }\n    }\n\n    anchorY = bestAnchorY;\n  }\n\n  var xStep = 0.5;\n\n  if (anchorY === 0.5) {\n    anchorX = Math.floor(anchorX);\n    xStep = 1;\n  }\n\n  var left = x - anchorX * selfWidth;\n  var right = left + selfWidth;\n  var cutoffX = Math.max(0, padding - left) + Math.max(0, right - width + padding);\n\n  if (cutoffX > 0) {\n    var bestAnchorX = anchorX;\n    var _minCutoff = cutoffX;\n\n    for (anchorX = 0; anchorX <= 1; anchorX += xStep) {\n      left = x - anchorX * selfWidth;\n      right = left + selfWidth;\n      cutoffX = Math.max(0, padding - left) + Math.max(0, right - width + padding);\n\n      if (cutoffX < _minCutoff) {\n        _minCutoff = cutoffX;\n        bestAnchorX = anchorX;\n      }\n    }\n\n    anchorX = bestAnchorX;\n  }\n\n  return ANCHOR_TYPES.find(function (positionType) {\n    var anchorPosition = ANCHOR_POSITION[positionType];\n    return anchorPosition.x === anchorX && anchorPosition.y === anchorY;\n  }) || anchor;\n}","import _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\nimport * as React from 'react';\nimport { useRef, useState, useEffect, useCallback } from 'react';\nimport useMapControl, { mapControlDefaultProps, mapControlPropTypes } from './use-map-control';\nimport { getDynamicPosition, ANCHOR_POSITION } from '../utils/dynamic-position';\nimport { getTerrainElevation } from '../utils/terrain';\nimport { crispPercentage, crispPixel } from '../utils/crisp-pixel';\nvar defaultProps = Object.assign({}, mapControlDefaultProps, {\n  className: '',\n  offsetLeft: 0,\n  offsetTop: 0,\n  tipSize: 10,\n  anchor: 'bottom',\n  dynamicPosition: true,\n  sortByDepth: false,\n  closeButton: true,\n  closeOnClick: true,\n  onClose: function onClose() {}\n});\n\nfunction getPosition(props, viewport, el, _ref) {\n  var _ref2 = _slicedToArray(_ref, 2),\n      x = _ref2[0],\n      y = _ref2[1];\n\n  var anchor = props.anchor,\n      dynamicPosition = props.dynamicPosition,\n      tipSize = props.tipSize;\n\n  if (el) {\n    return dynamicPosition ? getDynamicPosition({\n      x: x,\n      y: y,\n      anchor: anchor,\n      padding: tipSize,\n      width: viewport.width,\n      height: viewport.height,\n      selfWidth: el.clientWidth,\n      selfHeight: el.clientHeight\n    }) : anchor;\n  }\n\n  return anchor;\n}\n\nfunction getContainerStyle(props, viewport, el, _ref3, positionType) {\n  var _ref4 = _slicedToArray(_ref3, 3),\n      x = _ref4[0],\n      y = _ref4[1],\n      z = _ref4[2];\n\n  var offsetLeft = props.offsetLeft,\n      offsetTop = props.offsetTop,\n      sortByDepth = props.sortByDepth;\n  var anchorPosition = ANCHOR_POSITION[positionType];\n  var left = x + offsetLeft;\n  var top = y + offsetTop;\n  var xPercentage = crispPercentage(el, -anchorPosition.x * 100);\n  var yPercentage = crispPercentage(el, -anchorPosition.y * 100, 'y');\n  var style = {\n    position: 'absolute',\n    transform: \"\\n      translate(\".concat(xPercentage, \"%, \").concat(yPercentage, \"%)\\n      translate(\").concat(crispPixel(left), \"px, \").concat(crispPixel(top), \"px)\\n    \"),\n    display: undefined,\n    zIndex: undefined\n  };\n\n  if (!sortByDepth) {\n    return style;\n  }\n\n  if (z > 1 || z < -1 || x < 0 || x > viewport.width || y < 0 || y > viewport.height) {\n    style.display = 'none';\n  } else {\n    style.zIndex = Math.floor((1 - z) / 2 * 100000);\n  }\n\n  return style;\n}\n\nfunction Popup(props) {\n  var contentRef = useRef(null);\n  var thisRef = useMapControl(props);\n  var context = thisRef.context,\n      containerRef = thisRef.containerRef;\n\n  var _useState = useState(false),\n      _useState2 = _slicedToArray(_useState, 2),\n      setLoaded = _useState2[1];\n\n  useEffect(function () {\n    setLoaded(true);\n  }, [contentRef.current]);\n  useEffect(function () {\n    if (context.eventManager && props.closeOnClick) {\n      var clickCallback = function clickCallback() {\n        return thisRef.props.onClose();\n      };\n\n      context.eventManager.on('anyclick', clickCallback);\n      return function () {\n        context.eventManager.off('anyclick', clickCallback);\n      };\n    }\n\n    return undefined;\n  }, [context.eventManager, props.closeOnClick]);\n  var viewport = context.viewport,\n      map = context.map;\n  var className = props.className,\n      longitude = props.longitude,\n      latitude = props.latitude,\n      tipSize = props.tipSize,\n      closeButton = props.closeButton,\n      children = props.children;\n  var altitude = props.altitude;\n\n  if (altitude === undefined) {\n    altitude = getTerrainElevation(map, {\n      longitude: longitude,\n      latitude: latitude\n    });\n  }\n\n  var position = viewport.project([longitude, latitude, altitude]);\n  var positionType = getPosition(props, viewport, contentRef.current, position);\n  var containerStyle = getContainerStyle(props, viewport, containerRef.current, position, positionType);\n  var onClickCloseButton = useCallback(function (evt) {\n    thisRef.props.onClose();\n    var eventManager = thisRef.context.eventManager;\n\n    if (eventManager) {\n      eventManager.once('click', function (e) {\n        return e.stopPropagation();\n      }, evt.target);\n    }\n  }, []);\n  return React.createElement(\"div\", {\n    className: \"mapboxgl-popup mapboxgl-popup-anchor-\".concat(positionType, \" \").concat(className),\n    style: containerStyle,\n    ref: containerRef\n  }, React.createElement(\"div\", {\n    key: \"tip\",\n    className: \"mapboxgl-popup-tip\",\n    style: {\n      borderWidth: tipSize\n    }\n  }), React.createElement(\"div\", {\n    key: \"content\",\n    ref: contentRef,\n    className: \"mapboxgl-popup-content\"\n  }, closeButton && React.createElement(\"button\", {\n    key: \"close-button\",\n    className: \"mapboxgl-popup-close-button\",\n    type: \"button\",\n    onClick: onClickCloseButton\n  }, \"\\xD7\"), children));\n}\n\nPopup.defaultProps = defaultProps;\nexport default React.memo(Popup);","import _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    });\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nfunction _objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(Object(source), true).forEach(function (key) {\n        _defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}\n\nimport * as React from 'react';\nimport { useEffect, useCallback, useState, useRef, useMemo } from 'react';\nimport mapboxgl from '../utils/mapboxgl';\nimport useMapControl, { mapControlDefaultProps, mapControlPropTypes } from './use-map-control';\nvar defaultProps = Object.assign({}, mapControlDefaultProps, {\n  className: '',\n  toggleLabel: 'Toggle Attribution'\n});\n\nfunction setupAttributioncontrol(opts, map, container, attributionContainer) {\n  var control = new mapboxgl.AttributionControl(opts);\n  control._map = map;\n  control._container = container;\n  control._innerContainer = attributionContainer;\n\n  control._updateAttributions();\n\n  control._updateEditLink();\n\n  map.on('styledata', control._updateData);\n  map.on('sourcedata', control._updateData);\n  return control;\n}\n\nfunction removeAttributionControl(control) {\n  control._map.off('styledata', control._updateData);\n\n  control._map.off('sourcedata', control._updateData);\n}\n\nfunction AttributionControl(props) {\n  var _useMapControl = useMapControl(props),\n      context = _useMapControl.context,\n      containerRef = _useMapControl.containerRef;\n\n  var innerContainerRef = useRef(null);\n\n  var _useState = useState(false),\n      _useState2 = _slicedToArray(_useState, 2),\n      showCompact = _useState2[0],\n      setShowCompact = _useState2[1];\n\n  useEffect(function () {\n    var control;\n\n    if (context.map) {\n      control = setupAttributioncontrol({\n        customAttribution: props.customAttribution\n      }, context.map, containerRef.current, innerContainerRef.current);\n    }\n\n    return function () {\n      return control && removeAttributionControl(control);\n    };\n  }, [context.map]);\n  var compact = props.compact === undefined ? context.viewport.width <= 640 : props.compact;\n  useEffect(function () {\n    if (!compact && showCompact) {\n      setShowCompact(false);\n    }\n  }, [compact]);\n  var toggleAttribution = useCallback(function () {\n    return setShowCompact(function (value) {\n      return !value;\n    });\n  }, []);\n  var style = useMemo(function () {\n    return _objectSpread({\n      position: 'absolute'\n    }, props.style);\n  }, [props.style]);\n  return React.createElement(\"div\", {\n    style: style,\n    className: props.className\n  }, React.createElement(\"div\", {\n    ref: containerRef,\n    \"aria-pressed\": showCompact,\n    className: \"mapboxgl-ctrl mapboxgl-ctrl-attrib \".concat(compact ? 'mapboxgl-compact' : '', \" \").concat(showCompact ? 'mapboxgl-compact-show' : '')\n  }, React.createElement(\"button\", {\n    type: \"button\",\n    className: \"mapboxgl-ctrl-attrib-button\",\n    title: props.toggleLabel,\n    onClick: toggleAttribution\n  }), React.createElement(\"div\", {\n    ref: innerContainerRef,\n    className: \"mapboxgl-ctrl-attrib-inner\",\n    role: \"list\"\n  })));\n}\n\nAttributionControl.defaultProps = defaultProps;\nexport default React.memo(AttributionControl);","import _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    });\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nfunction _objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(Object(source), true).forEach(function (key) {\n        _defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}\n\nimport { document } from '../utils/globals';\nimport * as React from 'react';\nimport { useEffect, useState, useMemo } from 'react';\nimport mapboxgl from '../utils/mapboxgl';\nimport useMapControl, { mapControlDefaultProps, mapControlPropTypes } from './use-map-control';\nvar defaultProps = Object.assign({}, mapControlDefaultProps, {\n  className: '',\n  container: null,\n  label: 'Toggle fullscreen'\n});\n\nfunction FullscreenControl(props) {\n  var _useMapControl = useMapControl(props),\n      context = _useMapControl.context,\n      containerRef = _useMapControl.containerRef;\n\n  var _useState = useState(false),\n      _useState2 = _slicedToArray(_useState, 2),\n      isFullscreen = _useState2[0],\n      setIsFullscreen = _useState2[1];\n\n  var _useState3 = useState(false),\n      _useState4 = _slicedToArray(_useState3, 2),\n      showButton = _useState4[0],\n      setShowButton = _useState4[1];\n\n  var _useState5 = useState(null),\n      _useState6 = _slicedToArray(_useState5, 2),\n      mapboxFullscreenControl = _useState6[0],\n      createMapboxFullscreenControl = _useState6[1];\n\n  useEffect(function () {\n    var control = new mapboxgl.FullscreenControl();\n    createMapboxFullscreenControl(control);\n    setShowButton(control._checkFullscreenSupport());\n\n    var onFullscreenChange = function onFullscreenChange() {\n      var nextState = !control._fullscreen;\n      control._fullscreen = nextState;\n      setIsFullscreen(nextState);\n    };\n\n    document.addEventListener(control._fullscreenchange, onFullscreenChange);\n    return function () {\n      document.removeEventListener(control._fullscreenchange, onFullscreenChange);\n    };\n  }, []);\n\n  var onClickFullscreen = function onClickFullscreen() {\n    if (mapboxFullscreenControl) {\n      mapboxFullscreenControl._container = props.container || context.container;\n\n      mapboxFullscreenControl._onClickFullscreen();\n    }\n  };\n\n  var style = useMemo(function () {\n    return _objectSpread({\n      position: 'absolute'\n    }, props.style);\n  }, [props.style]);\n\n  if (!showButton) {\n    return null;\n  }\n\n  var className = props.className,\n      label = props.label;\n  var type = isFullscreen ? 'shrink' : 'fullscreen';\n  return React.createElement(\"div\", {\n    style: style,\n    className: className\n  }, React.createElement(\"div\", {\n    className: \"mapboxgl-ctrl mapboxgl-ctrl-group\",\n    ref: containerRef\n  }, React.createElement(\"button\", {\n    key: type,\n    className: \"mapboxgl-ctrl-icon mapboxgl-ctrl-\".concat(type),\n    type: \"button\",\n    title: label,\n    onClick: onClickFullscreen\n  }, React.createElement(\"span\", {\n    className: \"mapboxgl-ctrl-icon\",\n    \"aria-hidden\": \"true\"\n  }))));\n}\n\nFullscreenControl.defaultProps = defaultProps;\nexport default React.memo(FullscreenControl);","var supported;\nexport function isGeolocationSupported() {\n  if (supported !== undefined) {\n    return Promise.resolve(supported);\n  }\n\n  if (window.navigator.permissions !== undefined) {\n    return window.navigator.permissions.query({\n      name: 'geolocation'\n    }).then(function (p) {\n      supported = p.state !== 'denied';\n      return supported;\n    });\n  }\n\n  supported = Boolean(window.navigator.geolocation);\n  return Promise.resolve(supported);\n}","import _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    });\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nfunction _objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(Object(source), true).forEach(function (key) {\n        _defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}\n\nimport * as React from 'react';\nimport { useRef, useEffect, useState, useCallback, useMemo } from 'react';\nimport { document } from '../utils/globals';\nimport mapboxgl from '../utils/mapboxgl';\nimport MapState from '../utils/map-state';\nimport { LINEAR_TRANSITION_PROPS } from '../utils/map-controller';\nimport { isGeolocationSupported } from '../utils/geolocate-utils';\nimport useMapControl, { mapControlDefaultProps, mapControlPropTypes } from './use-map-control';\n\nvar noop = function noop() {};\n\nvar defaultProps = Object.assign({}, mapControlDefaultProps, {\n  className: '',\n  label: 'Find My Location',\n  disabledLabel: 'Location Not Available',\n  auto: false,\n  positionOptions: {\n    enableHighAccuracy: false,\n    timeout: 6000\n  },\n  fitBoundsOptions: {\n    maxZoom: 15\n  },\n  trackUserLocation: false,\n  showUserLocation: true,\n  showUserHeading: false,\n  showAccuracyCircle: true,\n  onGeolocate: function onGeolocate() {}\n});\n\nfunction getBounds(position) {\n  var center = new mapboxgl.LngLat(position.coords.longitude, position.coords.latitude);\n  var radius = position.coords.accuracy;\n  var bounds = center.toBounds(radius);\n  return [[bounds._ne.lng, bounds._ne.lat], [bounds._sw.lng, bounds._sw.lat]];\n}\n\nfunction setupMapboxGeolocateControl(context, props, geolocateButton) {\n  var control = new mapboxgl.GeolocateControl(props);\n  control._container = document.createElement('div');\n  control._map = {\n    on: function on() {},\n    _getUIString: function _getUIString() {\n      return '';\n    }\n  };\n\n  control._setupUI(true);\n\n  control._map = context.map;\n  control._geolocateButton = geolocateButton;\n  var eventManager = context.eventManager;\n\n  if (control.options.trackUserLocation && eventManager) {\n    eventManager.on('panstart', function () {\n      if (control._watchState === 'ACTIVE_LOCK') {\n        control._watchState = 'BACKGROUND';\n        geolocateButton.classList.add('mapboxgl-ctrl-geolocate-background');\n        geolocateButton.classList.remove('mapboxgl-ctrl-geolocate-active');\n      }\n    });\n  }\n\n  control.on('geolocate', props.onGeolocate);\n  return control;\n}\n\nfunction updateCamera(position, _ref) {\n  var context = _ref.context,\n      props = _ref.props;\n  var bounds = getBounds(position);\n\n  var _context$viewport$fit = context.viewport.fitBounds(bounds, props.fitBoundsOptions),\n      longitude = _context$viewport$fit.longitude,\n      latitude = _context$viewport$fit.latitude,\n      zoom = _context$viewport$fit.zoom;\n\n  var newViewState = Object.assign({}, context.viewport, {\n    longitude: longitude,\n    latitude: latitude,\n    zoom: zoom\n  });\n  var mapState = new MapState(newViewState);\n  var viewState = Object.assign({}, mapState.getViewportProps(), LINEAR_TRANSITION_PROPS);\n  var onViewportChange = props.onViewportChange || context.onViewportChange || noop;\n  var onViewStateChange = props.onViewStateChange || context.onViewStateChange || noop;\n  onViewStateChange({\n    viewState: viewState\n  });\n  onViewportChange(viewState);\n}\n\nfunction GeolocateControl(props) {\n  var thisRef = useMapControl(props);\n  var context = thisRef.context,\n      containerRef = thisRef.containerRef;\n  var geolocateButtonRef = useRef(null);\n\n  var _useState = useState(null),\n      _useState2 = _slicedToArray(_useState, 2),\n      mapboxGeolocateControl = _useState2[0],\n      createMapboxGeolocateControl = _useState2[1];\n\n  var _useState3 = useState(false),\n      _useState4 = _slicedToArray(_useState3, 2),\n      supportsGeolocation = _useState4[0],\n      setSupportsGeolocation = _useState4[1];\n\n  useEffect(function () {\n    var control;\n\n    if (context.map) {\n      isGeolocationSupported().then(function (result) {\n        setSupportsGeolocation(result);\n\n        if (geolocateButtonRef.current) {\n          control = setupMapboxGeolocateControl(context, props, geolocateButtonRef.current);\n\n          control._updateCamera = function (position) {\n            return updateCamera(position, thisRef);\n          };\n\n          createMapboxGeolocateControl(control);\n        }\n      });\n    }\n\n    return function () {\n      if (control) {\n        control._clearWatch();\n      }\n    };\n  }, [context.map]);\n  var triggerGeolocate = useCallback(function () {\n    if (mapboxGeolocateControl) {\n      mapboxGeolocateControl.options = thisRef.props;\n      mapboxGeolocateControl.trigger();\n    }\n  }, [mapboxGeolocateControl]);\n  useEffect(function () {\n    if (props.auto) {\n      triggerGeolocate();\n    }\n  }, [mapboxGeolocateControl, props.auto]);\n  useEffect(function () {\n    if (mapboxGeolocateControl) {\n      mapboxGeolocateControl._onZoom();\n    }\n  }, [context.viewport.zoom]);\n  var className = props.className,\n      label = props.label,\n      disabledLabel = props.disabledLabel,\n      trackUserLocation = props.trackUserLocation;\n  var style = useMemo(function () {\n    return _objectSpread({\n      position: 'absolute'\n    }, props.style);\n  }, [props.style]);\n  return React.createElement(\"div\", {\n    style: style,\n    className: className\n  }, React.createElement(\"div\", {\n    key: \"geolocate-control\",\n    className: \"mapboxgl-ctrl mapboxgl-ctrl-group\",\n    ref: containerRef\n  }, React.createElement(\"button\", {\n    key: \"geolocate\",\n    className: \"mapboxgl-ctrl-icon mapboxgl-ctrl-geolocate\",\n    ref: geolocateButtonRef,\n    disabled: !supportsGeolocation,\n    \"aria-pressed\": !trackUserLocation,\n    type: \"button\",\n    title: supportsGeolocation ? label : disabledLabel,\n    \"aria-label\": supportsGeolocation ? label : disabledLabel,\n    onClick: triggerGeolocate\n  }, React.createElement(\"span\", {\n    className: \"mapboxgl-ctrl-icon\",\n    \"aria-hidden\": \"true\"\n  }))));\n}\n\nGeolocateControl.defaultProps = defaultProps;\nexport default React.memo(GeolocateControl);","import _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    });\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nfunction _objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(Object(source), true).forEach(function (key) {\n        _defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}\n\nimport * as React from 'react';\nimport { useMemo } from 'react';\nimport MapState from '../utils/map-state';\nimport { LINEAR_TRANSITION_PROPS } from '../utils/map-controller';\nimport { compareVersions } from '../utils/version';\nimport useMapControl, { mapControlDefaultProps, mapControlPropTypes } from './use-map-control';\n\nvar noop = function noop() {};\n\nvar defaultProps = Object.assign({}, mapControlDefaultProps, {\n  className: '',\n  showCompass: true,\n  showZoom: true,\n  zoomInLabel: 'Zoom In',\n  zoomOutLabel: 'Zoom Out',\n  compassLabel: 'Reset North'\n});\nvar VERSION_LEGACY = 1;\nvar VERSION_1_6 = 2;\n\nfunction getUIVersion(mapboxVersion) {\n  return compareVersions(mapboxVersion, '1.6.0') >= 0 ? VERSION_1_6 : VERSION_LEGACY;\n}\n\nfunction updateViewport(context, props, opts) {\n  var viewport = context.viewport;\n  var mapState = new MapState(Object.assign({}, viewport, opts));\n  var viewState = Object.assign({}, mapState.getViewportProps(), LINEAR_TRANSITION_PROPS);\n  var onViewportChange = props.onViewportChange || context.onViewportChange || noop;\n  var onViewStateChange = props.onViewStateChange || context.onViewStateChange || noop;\n  onViewStateChange({\n    viewState: viewState\n  });\n  onViewportChange(viewState);\n}\n\nfunction renderButton(type, label, callback, children) {\n  return React.createElement(\"button\", {\n    key: type,\n    className: \"mapboxgl-ctrl-icon mapboxgl-ctrl-\".concat(type),\n    type: \"button\",\n    title: label,\n    onClick: callback\n  }, children || React.createElement(\"span\", {\n    className: \"mapboxgl-ctrl-icon\",\n    \"aria-hidden\": \"true\"\n  }));\n}\n\nfunction renderCompass(context) {\n  var uiVersion = useMemo(function () {\n    return context.map ? getUIVersion(context.map.version) : VERSION_1_6;\n  }, [context.map]);\n  var bearing = context.viewport.bearing;\n  var style = {\n    transform: \"rotate(\".concat(-bearing, \"deg)\")\n  };\n  return uiVersion === VERSION_1_6 ? React.createElement(\"span\", {\n    className: \"mapboxgl-ctrl-icon\",\n    \"aria-hidden\": \"true\",\n    style: style\n  }) : React.createElement(\"span\", {\n    className: \"mapboxgl-ctrl-compass-arrow\",\n    style: style\n  });\n}\n\nfunction NavigationControl(props) {\n  var _useMapControl = useMapControl(props),\n      context = _useMapControl.context,\n      containerRef = _useMapControl.containerRef;\n\n  var onZoomIn = function onZoomIn() {\n    updateViewport(context, props, {\n      zoom: context.viewport.zoom + 1\n    });\n  };\n\n  var onZoomOut = function onZoomOut() {\n    updateViewport(context, props, {\n      zoom: context.viewport.zoom - 1\n    });\n  };\n\n  var onResetNorth = function onResetNorth() {\n    updateViewport(context, props, {\n      bearing: 0,\n      pitch: 0\n    });\n  };\n\n  var className = props.className,\n      showCompass = props.showCompass,\n      showZoom = props.showZoom,\n      zoomInLabel = props.zoomInLabel,\n      zoomOutLabel = props.zoomOutLabel,\n      compassLabel = props.compassLabel;\n  var style = useMemo(function () {\n    return _objectSpread({\n      position: 'absolute'\n    }, props.style);\n  }, [props.style]);\n  return React.createElement(\"div\", {\n    style: style,\n    className: className\n  }, React.createElement(\"div\", {\n    className: \"mapboxgl-ctrl mapboxgl-ctrl-group\",\n    ref: containerRef\n  }, showZoom && renderButton('zoom-in', zoomInLabel, onZoomIn), showZoom && renderButton('zoom-out', zoomOutLabel, onZoomOut), showCompass && renderButton('compass', compassLabel, onResetNorth, renderCompass(context))));\n}\n\nNavigationControl.defaultProps = defaultProps;\nexport default React.memo(NavigationControl);","export function compareVersions(version1, version2) {\n  var v1 = (version1 || '').split('.').map(Number);\n  var v2 = (version2 || '').split('.').map(Number);\n\n  for (var i = 0; i < 3; i++) {\n    var part1 = v1[i] || 0;\n    var part2 = v2[i] || 0;\n\n    if (part1 < part2) {\n      return -1;\n    }\n\n    if (part1 > part2) {\n      return 1;\n    }\n  }\n\n  return 0;\n}","import _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    });\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nfunction _objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(Object(source), true).forEach(function (key) {\n        _defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}\n\nimport * as React from 'react';\nimport { useEffect, useState, useMemo } from 'react';\nimport mapboxgl from '../utils/mapboxgl';\nimport useMapControl, { mapControlDefaultProps, mapControlPropTypes } from './use-map-control';\nvar defaultProps = Object.assign({}, mapControlDefaultProps, {\n  className: '',\n  maxWidth: 100,\n  unit: 'metric'\n});\n\nfunction ScaleControl(props) {\n  var _useMapControl = useMapControl(props),\n      context = _useMapControl.context,\n      containerRef = _useMapControl.containerRef;\n\n  var _useState = useState(null),\n      _useState2 = _slicedToArray(_useState, 2),\n      mapboxScaleControl = _useState2[0],\n      createMapboxScaleControl = _useState2[1];\n\n  useEffect(function () {\n    if (context.map) {\n      var control = new mapboxgl.ScaleControl();\n      control._map = context.map;\n      control._container = containerRef.current;\n      createMapboxScaleControl(control);\n    }\n  }, [context.map]);\n\n  if (mapboxScaleControl) {\n    mapboxScaleControl.options = props;\n\n    mapboxScaleControl._onMove();\n  }\n\n  var style = useMemo(function () {\n    return _objectSpread({\n      position: 'absolute'\n    }, props.style);\n  }, [props.style]);\n  return React.createElement(\"div\", {\n    style: style,\n    className: props.className\n  }, React.createElement(\"div\", {\n    ref: containerRef,\n    className: \"mapboxgl-ctrl mapboxgl-ctrl-scale\"\n  }));\n}\n\nScaleControl.defaultProps = defaultProps;\nexport default React.memo(ScaleControl);","import _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\nimport * as React from 'react';\nimport { useState, useEffect } from 'react';\nimport useMapControl, { mapControlPropTypes } from '../components/use-map-control';\nvar pixelRatio = typeof window !== 'undefined' && window.devicePixelRatio || 1;\nvar defaultProps = {\n  captureScroll: false,\n  captureDrag: false,\n  captureClick: false,\n  captureDoubleClick: false,\n  capturePointerMove: false\n};\n\nfunction CanvasOverlay(props) {\n  var _useMapControl = useMapControl(props),\n      context = _useMapControl.context,\n      containerRef = _useMapControl.containerRef;\n\n  var _useState = useState(null),\n      _useState2 = _slicedToArray(_useState, 2),\n      ctx = _useState2[0],\n      setDrawingContext = _useState2[1];\n\n  useEffect(function () {\n    setDrawingContext(containerRef.current.getContext('2d'));\n  }, []);\n  var viewport = context.viewport,\n      isDragging = context.isDragging;\n\n  if (ctx) {\n    ctx.save();\n    ctx.scale(pixelRatio, pixelRatio);\n    props.redraw({\n      width: viewport.width,\n      height: viewport.height,\n      ctx: ctx,\n      isDragging: isDragging,\n      project: viewport.project,\n      unproject: viewport.unproject\n    });\n    ctx.restore();\n  }\n\n  return React.createElement(\"canvas\", {\n    ref: containerRef,\n    width: viewport.width * pixelRatio,\n    height: viewport.height * pixelRatio,\n    style: {\n      width: \"\".concat(viewport.width, \"px\"),\n      height: \"\".concat(viewport.height, \"px\"),\n      position: 'absolute',\n      left: 0,\n      top: 0\n    }\n  });\n}\n\nCanvasOverlay.defaultProps = defaultProps;\nexport default CanvasOverlay;","import _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    });\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nfunction _objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(Object(source), true).forEach(function (key) {\n        _defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}\n\nimport * as React from 'react';\nimport useMapControl, { mapControlPropTypes } from '../components/use-map-control';\nvar defaultProps = {\n  captureScroll: false,\n  captureDrag: false,\n  captureClick: false,\n  captureDoubleClick: false,\n  capturePointerMove: false\n};\n\nfunction HTMLOverlay(props) {\n  var _useMapControl = useMapControl(props),\n      context = _useMapControl.context,\n      containerRef = _useMapControl.containerRef;\n\n  var viewport = context.viewport,\n      isDragging = context.isDragging;\n\n  var style = _objectSpread({\n    position: 'absolute',\n    left: 0,\n    top: 0,\n    width: viewport.width,\n    height: viewport.height\n  }, props.style);\n\n  return React.createElement(\"div\", {\n    ref: containerRef,\n    style: style\n  }, props.redraw({\n    width: viewport.width,\n    height: viewport.height,\n    isDragging: isDragging,\n    project: viewport.project,\n    unproject: viewport.unproject\n  }));\n}\n\nHTMLOverlay.defaultProps = defaultProps;\nexport default HTMLOverlay;","import _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    });\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nfunction _objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(Object(source), true).forEach(function (key) {\n        _defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}\n\nimport * as React from 'react';\nimport useMapControl, { mapControlPropTypes } from '../components/use-map-control';\nvar defaultProps = {\n  captureScroll: false,\n  captureDrag: false,\n  captureClick: false,\n  captureDoubleClick: false,\n  capturePointerMove: false\n};\n\nfunction SVGOverlay(props) {\n  var _useMapControl = useMapControl(props),\n      context = _useMapControl.context,\n      containerRef = _useMapControl.containerRef;\n\n  var viewport = context.viewport,\n      isDragging = context.isDragging;\n\n  var style = _objectSpread({\n    position: 'absolute',\n    left: 0,\n    top: 0\n  }, props.style);\n\n  return React.createElement(\"svg\", {\n    width: viewport.width,\n    height: viewport.height,\n    ref: containerRef,\n    style: style\n  }, props.redraw({\n    width: viewport.width,\n    height: viewport.height,\n    isDragging: isDragging,\n    project: viewport.project,\n    unproject: viewport.unproject\n  }));\n}\n\nSVGOverlay.defaultProps = defaultProps;\nexport default SVGOverlay;","import mapboxgl from './mapboxgl';\nvar setRTLTextPlugin = mapboxgl ? mapboxgl.setRTLTextPlugin : function () {};\nexport default setRTLTextPlugin;","import React, { useCallback, useEffect, useMemo, useState } from 'react';\nimport styled, { css } from 'styled-components';\nimport ReactMapGL, { Source, Layer } from 'react-map-gl';\nimport { motion, useAnimation } from 'framer-motion';\nimport chroma from 'chroma-js';\nimport { theme } from '@styles';\nimport { dimensionData } from '@data';\n\nconst MAPBOX_TOKEN =\n  'pk.eyJ1IjoicnVzdG9tLWljaGhhcG9yaWEiLCJhIjoiY2t4Y3YxNWN6M2RpeDJwbXVpdnlsYWducSJ9.14tOov0CCEUjhs99yMRdbA';\n\nconst HoverInfoContainer = styled.div`\n  position: absolute;\n  background: ${theme.colors.background} 80%;\n  font-size: 15px;\n  padding: 1em;\n  border-radius: 20px;\n  // border: solid;\n  box-shadow: 0 0 12px #999999; //${theme.colors.text};\n`;\n\nexport default function Map(props) {\n  const [viewport, setViewport] = useState({\n    width: props.mapWidth,\n    height: window.innerHeight,\n    mapboxApiAccessToken: MAPBOX_TOKEN,\n    attributionControl: false,\n    logo: false,\n    latitude: 20,\n    longitude: -50,\n    zoom: 1.5,\n  });\n\n  // function computeMatchExpression() {\n  // }\n\n  const matchExpression = useMemo(() => {\n    const expression = ['match', ['get', 'iso_3166_1_alpha_3']];\n    // computeMatchExpression();\n    const column = props.dimension;\n    // const matchExpression = ['match', ['get', 'iso_3166_1_alpha_3']];\n\n    var scale = chroma.scale(['#00b3ff', '#eeeeee', '#ff4c00']).mode('lab');\n    for (const row in dimensionData) {\n      // if (row[column] === 'undefined' || row[column] == null) {\n      //   continue;\n      // }\n      const color = scale(dimensionData[row][column] / 100).hex();\n      // intensity = pickHex();//95 - intensity * 0.4;\n      // const color = `hsl(17.9, 100%, ${intensity}%)`;\n\n      expression.push(row, color);\n    }\n\n    // Last value is the default, used where there is no data\n    expression.push('rgba(255, 0, 0, 0)');\n    return expression;\n  }, [props.dimension]);\n\n  const layerProps = {\n    id: 'data',\n    source: 'countries',\n    'source-layer': 'country_boundaries',\n    beforeId: 'admin-0-boundary-bg',\n    type: 'fill',\n    paint: {\n      'fill-color': matchExpression,\n      // 'fill-opacity': 0.8\n    },\n  };\n\n  const [hoverInfo, setHoverInfo] = useState(null);\n\n  const onHover = useCallback((event) => {\n    const {\n      features,\n      srcEvent: { offsetX, offsetY },\n    } = event;\n\n    const hoveredFeature = features && features[0];\n\n    setHoverInfo(\n      hoveredFeature\n        ? {\n            feature: hoveredFeature,\n            x: offsetX,\n            y: offsetY,\n          }\n        : null\n    );\n  }, []);\n\n  return (\n    <ReactMapGL\n      {...viewport}\n      onViewportChange={(nextViewport) => setViewport(nextViewport)}\n      mapStyle=\"mapbox://styles/rustom-ichhaporia/ckxcv6hbt4oxs14o5tg4za93s\"\n      interactiveLayerIds={['data']}\n      onHover={onHover}\n    >\n      <Source\n        id=\"countries\"\n        type=\"vector\"\n        url=\"mapbox://mapbox.country-boundaries-v1\"\n      >\n        <Layer {...layerProps} />\n        {/* <Layer source=\"countries\" source-layer */}\n      </Source>\n      {hoverInfo && (\n        <HoverInfoContainer style={{ left: hoverInfo.x, top: hoverInfo.y }}>\n          {hoverInfo.feature.properties.name_en}:{' '}\n          {dimensionData[hoverInfo.feature.properties.iso_3166_1_alpha_3]\n            ? dimensionData[hoverInfo.feature.properties.iso_3166_1_alpha_3][\n                props.dimension\n              ] > 100\n              ? 100\n              : dimensionData[hoverInfo.feature.properties.iso_3166_1_alpha_3][\n                  props.dimension\n                ]\n            : 'Unstudied'}\n        </HoverInfoContainer>\n      )}\n    </ReactMapGL>\n  );\n}\n","/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\n\n/* global Reflect, Promise */\nvar _extendStatics = function extendStatics(d, b) {\n  _extendStatics = Object.setPrototypeOf || {\n    __proto__: []\n  } instanceof Array && function (d, b) {\n    d.__proto__ = b;\n  } || function (d, b) {\n    for (var p in b) {\n      if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p];\n    }\n  };\n\n  return _extendStatics(d, b);\n};\n\nexport function __extends(d, b) {\n  if (typeof b !== \"function\" && b !== null) throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n\n  _extendStatics(d, b);\n\n  function __() {\n    this.constructor = d;\n  }\n\n  d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n}\n\nvar _assign = function __assign() {\n  _assign = Object.assign || function __assign(t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n\n      for (var p in s) {\n        if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n      }\n    }\n\n    return t;\n  };\n\n  return _assign.apply(this, arguments);\n};\n\nexport { _assign as __assign };\nexport function __rest(s, e) {\n  var t = {};\n\n  for (var p in s) {\n    if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n  }\n\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n    if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i])) t[p[i]] = s[p[i]];\n  }\n  return t;\n}\nexport function __decorate(decorators, target, key, desc) {\n  var c = arguments.length,\n      r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc,\n      d;\n  if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);else for (var i = decorators.length - 1; i >= 0; i--) {\n    if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n  }\n  return c > 3 && r && Object.defineProperty(target, key, r), r;\n}\nexport function __param(paramIndex, decorator) {\n  return function (target, key) {\n    decorator(target, key, paramIndex);\n  };\n}\nexport function __metadata(metadataKey, metadataValue) {\n  if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\n}\nexport function __awaiter(thisArg, _arguments, P, generator) {\n  function adopt(value) {\n    return value instanceof P ? value : new P(function (resolve) {\n      resolve(value);\n    });\n  }\n\n  return new (P || (P = Promise))(function (resolve, reject) {\n    function fulfilled(value) {\n      try {\n        step(generator.next(value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n\n    function rejected(value) {\n      try {\n        step(generator[\"throw\"](value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n\n    function step(result) {\n      result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);\n    }\n\n    step((generator = generator.apply(thisArg, _arguments || [])).next());\n  });\n}\nexport function __generator(thisArg, body) {\n  var _ = {\n    label: 0,\n    sent: function sent() {\n      if (t[0] & 1) throw t[1];\n      return t[1];\n    },\n    trys: [],\n    ops: []\n  },\n      f,\n      y,\n      t,\n      g;\n  return g = {\n    next: verb(0),\n    \"throw\": verb(1),\n    \"return\": verb(2)\n  }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function () {\n    return this;\n  }), g;\n\n  function verb(n) {\n    return function (v) {\n      return step([n, v]);\n    };\n  }\n\n  function step(op) {\n    if (f) throw new TypeError(\"Generator is already executing.\");\n\n    while (_) {\n      try {\n        if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n        if (y = 0, t) op = [op[0] & 2, t.value];\n\n        switch (op[0]) {\n          case 0:\n          case 1:\n            t = op;\n            break;\n\n          case 4:\n            _.label++;\n            return {\n              value: op[1],\n              done: false\n            };\n\n          case 5:\n            _.label++;\n            y = op[1];\n            op = [0];\n            continue;\n\n          case 7:\n            op = _.ops.pop();\n\n            _.trys.pop();\n\n            continue;\n\n          default:\n            if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) {\n              _ = 0;\n              continue;\n            }\n\n            if (op[0] === 3 && (!t || op[1] > t[0] && op[1] < t[3])) {\n              _.label = op[1];\n              break;\n            }\n\n            if (op[0] === 6 && _.label < t[1]) {\n              _.label = t[1];\n              t = op;\n              break;\n            }\n\n            if (t && _.label < t[2]) {\n              _.label = t[2];\n\n              _.ops.push(op);\n\n              break;\n            }\n\n            if (t[2]) _.ops.pop();\n\n            _.trys.pop();\n\n            continue;\n        }\n\n        op = body.call(thisArg, _);\n      } catch (e) {\n        op = [6, e];\n        y = 0;\n      } finally {\n        f = t = 0;\n      }\n    }\n\n    if (op[0] & 5) throw op[1];\n    return {\n      value: op[0] ? op[1] : void 0,\n      done: true\n    };\n  }\n}\nexport var __createBinding = Object.create ? function (o, m, k, k2) {\n  if (k2 === undefined) k2 = k;\n  Object.defineProperty(o, k2, {\n    enumerable: true,\n    get: function get() {\n      return m[k];\n    }\n  });\n} : function (o, m, k, k2) {\n  if (k2 === undefined) k2 = k;\n  o[k2] = m[k];\n};\nexport function __exportStar(m, o) {\n  for (var p in m) {\n    if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(o, p)) __createBinding(o, m, p);\n  }\n}\nexport function __values(o) {\n  var s = typeof Symbol === \"function\" && Symbol.iterator,\n      m = s && o[s],\n      i = 0;\n  if (m) return m.call(o);\n  if (o && typeof o.length === \"number\") return {\n    next: function next() {\n      if (o && i >= o.length) o = void 0;\n      return {\n        value: o && o[i++],\n        done: !o\n      };\n    }\n  };\n  throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\n}\nexport function __read(o, n) {\n  var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n  if (!m) return o;\n  var i = m.call(o),\n      r,\n      ar = [],\n      e;\n\n  try {\n    while ((n === void 0 || n-- > 0) && !(r = i.next()).done) {\n      ar.push(r.value);\n    }\n  } catch (error) {\n    e = {\n      error: error\n    };\n  } finally {\n    try {\n      if (r && !r.done && (m = i[\"return\"])) m.call(i);\n    } finally {\n      if (e) throw e.error;\n    }\n  }\n\n  return ar;\n}\n/** @deprecated */\n\nexport function __spread() {\n  for (var ar = [], i = 0; i < arguments.length; i++) {\n    ar = ar.concat(__read(arguments[i]));\n  }\n\n  return ar;\n}\n/** @deprecated */\n\nexport function __spreadArrays() {\n  for (var s = 0, i = 0, il = arguments.length; i < il; i++) {\n    s += arguments[i].length;\n  }\n\n  for (var r = Array(s), k = 0, i = 0; i < il; i++) {\n    for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++) {\n      r[k] = a[j];\n    }\n  }\n\n  return r;\n}\nexport function __spreadArray(to, from, pack) {\n  if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\n    if (ar || !(i in from)) {\n      if (!ar) ar = Array.prototype.slice.call(from, 0, i);\n      ar[i] = from[i];\n    }\n  }\n  return to.concat(ar || Array.prototype.slice.call(from));\n}\nexport function __await(v) {\n  return this instanceof __await ? (this.v = v, this) : new __await(v);\n}\nexport function __asyncGenerator(thisArg, _arguments, generator) {\n  if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\n  var g = generator.apply(thisArg, _arguments || []),\n      i,\n      q = [];\n  return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () {\n    return this;\n  }, i;\n\n  function verb(n) {\n    if (g[n]) i[n] = function (v) {\n      return new Promise(function (a, b) {\n        q.push([n, v, a, b]) > 1 || resume(n, v);\n      });\n    };\n  }\n\n  function resume(n, v) {\n    try {\n      step(g[n](v));\n    } catch (e) {\n      settle(q[0][3], e);\n    }\n  }\n\n  function step(r) {\n    r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r);\n  }\n\n  function fulfill(value) {\n    resume(\"next\", value);\n  }\n\n  function reject(value) {\n    resume(\"throw\", value);\n  }\n\n  function settle(f, v) {\n    if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]);\n  }\n}\nexport function __asyncDelegator(o) {\n  var i, p;\n  return i = {}, verb(\"next\"), verb(\"throw\", function (e) {\n    throw e;\n  }), verb(\"return\"), i[Symbol.iterator] = function () {\n    return this;\n  }, i;\n\n  function verb(n, f) {\n    i[n] = o[n] ? function (v) {\n      return (p = !p) ? {\n        value: __await(o[n](v)),\n        done: n === \"return\"\n      } : f ? f(v) : v;\n    } : f;\n  }\n}\nexport function __asyncValues(o) {\n  if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\n  var m = o[Symbol.asyncIterator],\n      i;\n  return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () {\n    return this;\n  }, i);\n\n  function verb(n) {\n    i[n] = o[n] && function (v) {\n      return new Promise(function (resolve, reject) {\n        v = o[n](v), settle(resolve, reject, v.done, v.value);\n      });\n    };\n  }\n\n  function settle(resolve, reject, d, v) {\n    Promise.resolve(v).then(function (v) {\n      resolve({\n        value: v,\n        done: d\n      });\n    }, reject);\n  }\n}\nexport function __makeTemplateObject(cooked, raw) {\n  if (Object.defineProperty) {\n    Object.defineProperty(cooked, \"raw\", {\n      value: raw\n    });\n  } else {\n    cooked.raw = raw;\n  }\n\n  return cooked;\n}\n;\n\nvar __setModuleDefault = Object.create ? function (o, v) {\n  Object.defineProperty(o, \"default\", {\n    enumerable: true,\n    value: v\n  });\n} : function (o, v) {\n  o[\"default\"] = v;\n};\n\nexport function __importStar(mod) {\n  if (mod && mod.__esModule) return mod;\n  var result = {};\n  if (mod != null) for (var k in mod) {\n    if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n  }\n\n  __setModuleDefault(result, mod);\n\n  return result;\n}\nexport function __importDefault(mod) {\n  return mod && mod.__esModule ? mod : {\n    default: mod\n  };\n}\nexport function __classPrivateFieldGet(receiver, state, kind, f) {\n  if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a getter\");\n  if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot read private member from an object whose class did not declare it\");\n  return kind === \"m\" ? f : kind === \"a\" ? f.call(receiver) : f ? f.value : state.get(receiver);\n}\nexport function __classPrivateFieldSet(receiver, state, value, kind, f) {\n  if (kind === \"m\") throw new TypeError(\"Private method is not writable\");\n  if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a setter\");\n  if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot write private member to an object whose class did not declare it\");\n  return kind === \"a\" ? f.call(receiver, value) : f ? f.value = value : state.set(receiver, value), value;\n}","var createDefinition = function createDefinition(propNames) {\n  return {\n    isEnabled: function isEnabled(props) {\n      return propNames.some(function (name) {\n        return !!props[name];\n      });\n    }\n  };\n};\n\nvar featureDefinitions = {\n  measureLayout: createDefinition([\"layout\", \"layoutId\", \"drag\"]),\n  animation: createDefinition([\"animate\", \"exit\", \"variants\", \"whileHover\", \"whileTap\", \"whileFocus\", \"whileDrag\", \"whileInView\"]),\n  exit: createDefinition([\"exit\"]),\n  drag: createDefinition([\"drag\", \"dragControls\"]),\n  focus: createDefinition([\"whileFocus\"]),\n  hover: createDefinition([\"whileHover\", \"onHoverStart\", \"onHoverEnd\"]),\n  tap: createDefinition([\"whileTap\", \"onTap\", \"onTapStart\", \"onTapCancel\"]),\n  pan: createDefinition([\"onPan\", \"onPanStart\", \"onPanSessionStart\", \"onPanEnd\"]),\n  inView: createDefinition([\"whileInView\", \"onViewportEnter\", \"onViewportLeave\"])\n};\n\nfunction loadFeatures(features) {\n  for (var key in features) {\n    if (features[key] === null) continue;\n\n    if (key === \"projectionNodeConstructor\") {\n      featureDefinitions.projectionNodeConstructor = features[key];\n    } else {\n      featureDefinitions[key].Component = features[key];\n    }\n  }\n}\n\nexport { featureDefinitions, loadFeatures };","import { createContext } from 'react';\nvar LazyContext = createContext({\n  strict: false\n});\nexport { LazyContext };","import { __assign } from 'tslib';\nimport * as React from 'react';\nimport { useContext } from 'react';\nimport { featureDefinitions } from './definitions.mjs';\nimport { invariant } from 'hey-listen';\nimport { LazyContext } from '../../context/LazyContext.mjs';\nvar featureNames = Object.keys(featureDefinitions);\nvar numFeatures = featureNames.length;\n/**\n * Load features via renderless components based on the provided MotionProps.\n */\n\nfunction useFeatures(props, visualElement, preloadedFeatures) {\n  var features = [];\n  var lazyContext = useContext(LazyContext);\n  if (!visualElement) return null;\n  /**\n   * If we're in development mode, check to make sure we're not rendering a motion component\n   * as a child of LazyMotion, as this will break the file-size benefits of using it.\n   */\n\n  if (process.env.NODE_ENV !== \"production\" && preloadedFeatures && lazyContext.strict) {\n    invariant(false, \"You have rendered a `motion` component within a `LazyMotion` component. This will break tree shaking. Import and render a `m` component instead.\");\n  }\n\n  for (var i = 0; i < numFeatures; i++) {\n    var name_1 = featureNames[i];\n    var _a = featureDefinitions[name_1],\n        isEnabled = _a.isEnabled,\n        Component = _a.Component;\n    /**\n     * It might be possible in the future to use this moment to\n     * dynamically request functionality. In initial tests this\n     * was producing a lot of duplication amongst bundles.\n     */\n\n    if (isEnabled(props) && Component) {\n      features.push(React.createElement(Component, __assign({\n        key: name_1\n      }, props, {\n        visualElement: visualElement\n      })));\n    }\n  }\n\n  return features;\n}\n\nexport { useFeatures };","import { createContext } from 'react';\n/**\n * @public\n */\n\nvar MotionConfigContext = createContext({\n  transformPagePoint: function transformPagePoint(p) {\n    return p;\n  },\n  isStatic: false\n});\nexport { MotionConfigContext };","import { createContext, useContext } from 'react';\nvar MotionContext = createContext({});\n\nfunction useVisualElementContext() {\n  return useContext(MotionContext).visualElement;\n}\n\nexport { MotionContext, useVisualElementContext };","import { createContext } from 'react';\n/**\n * @public\n */\n\nvar PresenceContext = createContext(null);\nexport { PresenceContext };","var isBrowser = typeof window !== \"undefined\";\nexport { isBrowser };","import { useLayoutEffect, useEffect } from 'react';\nimport { isBrowser } from './is-browser.mjs';\nvar useIsomorphicLayoutEffect = isBrowser ? useLayoutEffect : useEffect;\nexport { useIsomorphicLayoutEffect };","import { useContext, useRef, useEffect } from 'react';\nimport { PresenceContext } from '../../context/PresenceContext.mjs';\nimport { useVisualElementContext } from '../../context/MotionContext/index.mjs';\nimport { useIsomorphicLayoutEffect } from '../../utils/use-isomorphic-effect.mjs';\nimport { LazyContext } from '../../context/LazyContext.mjs';\n\nfunction useVisualElement(Component, visualState, props, createVisualElement) {\n  var lazyContext = useContext(LazyContext);\n  var parent = useVisualElementContext();\n  var presenceContext = useContext(PresenceContext);\n  var visualElementRef = useRef(undefined);\n  /**\n   * If we haven't preloaded a renderer, check to see if we have one lazy-loaded\n   */\n\n  if (!createVisualElement) createVisualElement = lazyContext.renderer;\n\n  if (!visualElementRef.current && createVisualElement) {\n    visualElementRef.current = createVisualElement(Component, {\n      visualState: visualState,\n      parent: parent,\n      props: props,\n      presenceId: presenceContext === null || presenceContext === void 0 ? void 0 : presenceContext.id,\n      blockInitialAnimation: (presenceContext === null || presenceContext === void 0 ? void 0 : presenceContext.initial) === false\n    });\n  }\n\n  var visualElement = visualElementRef.current;\n  useIsomorphicLayoutEffect(function () {\n    visualElement === null || visualElement === void 0 ? void 0 : visualElement.syncRender();\n  });\n  useEffect(function () {\n    var _a;\n\n    (_a = visualElement === null || visualElement === void 0 ? void 0 : visualElement.animationState) === null || _a === void 0 ? void 0 : _a.animateChanges();\n  });\n  useIsomorphicLayoutEffect(function () {\n    return function () {\n      return visualElement === null || visualElement === void 0 ? void 0 : visualElement.notifyUnmount();\n    };\n  }, []);\n  return visualElement;\n}\n\nexport { useVisualElement };","function isRefObject(ref) {\n  return typeof ref === \"object\" && Object.prototype.hasOwnProperty.call(ref, \"current\");\n}\n\nexport { isRefObject };","/**\n * Decides if the supplied variable is an array of variant labels\n */\nfunction isVariantLabels(v) {\n  return Array.isArray(v);\n}\n/**\n * Decides if the supplied variable is variant label\n */\n\n\nfunction isVariantLabel(v) {\n  return typeof v === \"string\" || isVariantLabels(v);\n}\n/**\n * Creates an object containing the latest state of every MotionValue on a VisualElement\n */\n\n\nfunction getCurrent(visualElement) {\n  var current = {};\n  visualElement.forEachValue(function (value, key) {\n    return current[key] = value.get();\n  });\n  return current;\n}\n/**\n * Creates an object containing the latest velocity of every MotionValue on a VisualElement\n */\n\n\nfunction getVelocity(visualElement) {\n  var velocity = {};\n  visualElement.forEachValue(function (value, key) {\n    return velocity[key] = value.getVelocity();\n  });\n  return velocity;\n}\n\nfunction resolveVariantFromProps(props, definition, custom, currentValues, currentVelocity) {\n  var _a;\n\n  if (currentValues === void 0) {\n    currentValues = {};\n  }\n\n  if (currentVelocity === void 0) {\n    currentVelocity = {};\n  }\n  /**\n   * If the variant definition is a function, resolve.\n   */\n\n\n  if (typeof definition === \"function\") {\n    definition = definition(custom !== null && custom !== void 0 ? custom : props.custom, currentValues, currentVelocity);\n  }\n  /**\n   * If the variant definition is a variant label, or\n   * the function returned a variant label, resolve.\n   */\n\n\n  if (typeof definition === \"string\") {\n    definition = (_a = props.variants) === null || _a === void 0 ? void 0 : _a[definition];\n  }\n  /**\n   * At this point we've resolved both functions and variant labels,\n   * but the resolved variant label might itself have been a function.\n   * If so, resolve. This can only have returned a valid target object.\n   */\n\n\n  if (typeof definition === \"function\") {\n    definition = definition(custom !== null && custom !== void 0 ? custom : props.custom, currentValues, currentVelocity);\n  }\n\n  return definition;\n}\n\nfunction resolveVariant(visualElement, definition, custom) {\n  var props = visualElement.getProps();\n  return resolveVariantFromProps(props, definition, custom !== null && custom !== void 0 ? custom : props.custom, getCurrent(visualElement), getVelocity(visualElement));\n}\n\nfunction checkIfControllingVariants(props) {\n  var _a;\n\n  return typeof ((_a = props.animate) === null || _a === void 0 ? void 0 : _a.start) === \"function\" || isVariantLabel(props.initial) || isVariantLabel(props.animate) || isVariantLabel(props.whileHover) || isVariantLabel(props.whileDrag) || isVariantLabel(props.whileTap) || isVariantLabel(props.whileFocus) || isVariantLabel(props.exit);\n}\n\nfunction checkIfVariantNode(props) {\n  return Boolean(checkIfControllingVariants(props) || props.variants);\n}\n\nexport { checkIfControllingVariants, checkIfVariantNode, isVariantLabel, isVariantLabels, resolveVariant, resolveVariantFromProps };","import { useMemo, useContext } from 'react';\nimport { MotionContext } from './index.mjs';\nimport { getCurrentTreeVariants } from './utils.mjs';\n\nfunction useCreateMotionContext(props) {\n  var _a = getCurrentTreeVariants(props, useContext(MotionContext)),\n      initial = _a.initial,\n      animate = _a.animate;\n\n  return useMemo(function () {\n    return {\n      initial: initial,\n      animate: animate\n    };\n  }, [variantLabelsAsDependency(initial), variantLabelsAsDependency(animate)]);\n}\n\nfunction variantLabelsAsDependency(prop) {\n  return Array.isArray(prop) ? prop.join(\" \") : prop;\n}\n\nexport { useCreateMotionContext };","import { checkIfControllingVariants, isVariantLabel } from '../../render/utils/variants.mjs';\n\nfunction getCurrentTreeVariants(props, context) {\n  if (checkIfControllingVariants(props)) {\n    var initial = props.initial,\n        animate = props.animate;\n    return {\n      initial: initial === false || isVariantLabel(initial) ? initial : undefined,\n      animate: isVariantLabel(animate) ? animate : undefined\n    };\n  }\n\n  return props.inherit !== false ? context : {};\n}\n\nexport { getCurrentTreeVariants };","import { useRef } from 'react';\n/**\n * Creates a constant value over the lifecycle of a component.\n *\n * Even if `useMemo` is provided an empty array as its final argument, it doesn't offer\n * a guarantee that it won't re-run for performance reasons later on. By using `useConstant`\n * you can ensure that initialisers don't execute twice or more.\n */\n\nfunction useConstant(init) {\n  var ref = useRef(null);\n\n  if (ref.current === null) {\n    ref.current = init();\n  }\n\n  return ref.current;\n}\n\nexport { useConstant };","var defaultTimestep = 1 / 60 * 1000;\nvar getCurrentTime = typeof performance !== \"undefined\" ? function () {\n  return performance.now();\n} : function () {\n  return Date.now();\n};\nvar onNextFrame = typeof window !== \"undefined\" ? function (callback) {\n  return window.requestAnimationFrame(callback);\n} : function (callback) {\n  return setTimeout(function () {\n    return callback(getCurrentTime());\n  }, defaultTimestep);\n};\nexport { defaultTimestep, onNextFrame };","import { onNextFrame, defaultTimestep } from './on-next-frame.mjs';\nimport { createRenderStep } from './create-render-step.mjs';\nvar maxElapsed = 40;\nvar useDefaultElapsed = true;\nvar runNextFrame = false;\nvar isProcessing = false;\nvar frame = {\n  delta: 0,\n  timestamp: 0\n};\nvar stepsOrder = [\"read\", \"update\", \"preRender\", \"render\", \"postRender\"];\nvar steps = stepsOrder.reduce(function (acc, key) {\n  acc[key] = createRenderStep(function () {\n    return runNextFrame = true;\n  });\n  return acc;\n}, {});\nvar sync = stepsOrder.reduce(function (acc, key) {\n  var step = steps[key];\n\n  acc[key] = function (process) {\n    var keepAlive = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n    var immediate = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n    if (!runNextFrame) startLoop();\n    return step.schedule(process, keepAlive, immediate);\n  };\n\n  return acc;\n}, {});\nvar cancelSync = stepsOrder.reduce(function (acc, key) {\n  acc[key] = steps[key].cancel;\n  return acc;\n}, {});\nvar flushSync = stepsOrder.reduce(function (acc, key) {\n  acc[key] = function () {\n    return steps[key].process(frame);\n  };\n\n  return acc;\n}, {});\n\nvar processStep = function processStep(stepId) {\n  return steps[stepId].process(frame);\n};\n\nvar processFrame = function processFrame(timestamp) {\n  runNextFrame = false;\n  frame.delta = useDefaultElapsed ? defaultTimestep : Math.max(Math.min(timestamp - frame.timestamp, maxElapsed), 1);\n  frame.timestamp = timestamp;\n  isProcessing = true;\n  stepsOrder.forEach(processStep);\n  isProcessing = false;\n\n  if (runNextFrame) {\n    useDefaultElapsed = false;\n    onNextFrame(processFrame);\n  }\n};\n\nvar startLoop = function startLoop() {\n  runNextFrame = true;\n  useDefaultElapsed = true;\n  if (!isProcessing) onNextFrame(processFrame);\n};\n\nvar getFrameData = function getFrameData() {\n  return frame;\n};\n\nexport default sync;\nexport { cancelSync, flushSync, getFrameData };","function createRenderStep(runNextFrame) {\n  var toRun = [];\n  var toRunNextFrame = [];\n  var numToRun = 0;\n  var isProcessing = false;\n  var flushNextFrame = false;\n  var toKeepAlive = new WeakSet();\n  var step = {\n    schedule: function schedule(callback) {\n      var keepAlive = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n      var immediate = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n      var addToCurrentFrame = immediate && isProcessing;\n      var buffer = addToCurrentFrame ? toRun : toRunNextFrame;\n      if (keepAlive) toKeepAlive.add(callback);\n\n      if (buffer.indexOf(callback) === -1) {\n        buffer.push(callback);\n        if (addToCurrentFrame && isProcessing) numToRun = toRun.length;\n      }\n\n      return callback;\n    },\n    cancel: function cancel(callback) {\n      var index = toRunNextFrame.indexOf(callback);\n      if (index !== -1) toRunNextFrame.splice(index, 1);\n      toKeepAlive.delete(callback);\n    },\n    process: function process(frameData) {\n      if (isProcessing) {\n        flushNextFrame = true;\n        return;\n      }\n\n      isProcessing = true;\n      var _ref = [toRunNextFrame, toRun];\n      toRun = _ref[0];\n      toRunNextFrame = _ref[1];\n      toRunNextFrame.length = 0;\n      numToRun = toRun.length;\n\n      if (numToRun) {\n        for (var i = 0; i < numToRun; i++) {\n          var callback = toRun[i];\n          callback(frameData);\n\n          if (toKeepAlive.has(callback)) {\n            step.schedule(callback);\n            runNextFrame();\n          }\n        }\n      }\n\n      isProcessing = false;\n\n      if (flushNextFrame) {\n        flushNextFrame = false;\n        step.process(frameData);\n      }\n    }\n  };\n  return step;\n}\n\nexport { createRenderStep };","var mix = function mix(from, to, progress) {\n  return -progress * from + progress * to + from;\n};\n\nexport { mix };","function velocityPerSecond(velocity, frameDuration) {\n  return frameDuration ? velocity * (1000 / frameDuration) : 0;\n}\n\nexport { velocityPerSecond };","import { __read } from 'tslib';\n\nfunction addUniqueItem(arr, item) {\n  arr.indexOf(item) === -1 && arr.push(item);\n}\n\nfunction removeItem(arr, item) {\n  var index = arr.indexOf(item);\n  index > -1 && arr.splice(index, 1);\n} // Adapted from array-move\n\n\nfunction moveItem(_a, fromIndex, toIndex) {\n  var _b = __read(_a),\n      arr = _b.slice(0);\n\n  var startIndex = fromIndex < 0 ? arr.length + fromIndex : fromIndex;\n\n  if (startIndex >= 0 && startIndex < arr.length) {\n    var endIndex = toIndex < 0 ? arr.length + toIndex : toIndex;\n\n    var _c = __read(arr.splice(fromIndex, 1), 1),\n        item = _c[0];\n\n    arr.splice(endIndex, 0, item);\n  }\n\n  return arr;\n}\n\nexport { addUniqueItem, moveItem, removeItem };","import { addUniqueItem, removeItem } from './array.mjs';\n\nvar SubscriptionManager =\n/** @class */\nfunction () {\n  function SubscriptionManager() {\n    this.subscriptions = [];\n  }\n\n  SubscriptionManager.prototype.add = function (handler) {\n    var _this = this;\n\n    addUniqueItem(this.subscriptions, handler);\n    return function () {\n      return removeItem(_this.subscriptions, handler);\n    };\n  };\n\n  SubscriptionManager.prototype.notify = function (a, b, c) {\n    var numSubscriptions = this.subscriptions.length;\n    if (!numSubscriptions) return;\n\n    if (numSubscriptions === 1) {\n      /**\n       * If there's only a single handler we can just call it without invoking a loop.\n       */\n      this.subscriptions[0](a, b, c);\n    } else {\n      for (var i = 0; i < numSubscriptions; i++) {\n        /**\n         * Check whether the handler exists before firing as it's possible\n         * the subscriptions were modified during this loop running.\n         */\n        var handler = this.subscriptions[i];\n        handler && handler(a, b, c);\n      }\n    }\n  };\n\n  SubscriptionManager.prototype.getSize = function () {\n    return this.subscriptions.length;\n  };\n\n  SubscriptionManager.prototype.clear = function () {\n    this.subscriptions.length = 0;\n  };\n\n  return SubscriptionManager;\n}();\n\nexport { SubscriptionManager };","import sync, { getFrameData } from 'framesync';\nimport { velocityPerSecond } from 'popmotion';\nimport { SubscriptionManager } from '../utils/subscription-manager.mjs';\n\nvar isFloat = function isFloat(value) {\n  return !isNaN(parseFloat(value));\n};\n/**\n * `MotionValue` is used to track the state and velocity of motion values.\n *\n * @public\n */\n\n\nvar MotionValue =\n/** @class */\nfunction () {\n  /**\n   * @param init - The initiating value\n   * @param config - Optional configuration options\n   *\n   * -  `transformer`: A function to transform incoming values with.\n   *\n   * @internal\n   */\n  function MotionValue(init) {\n    var _this = this;\n    /**\n     * Duration, in milliseconds, since last updating frame.\n     *\n     * @internal\n     */\n\n\n    this.timeDelta = 0;\n    /**\n     * Timestamp of the last time this `MotionValue` was updated.\n     *\n     * @internal\n     */\n\n    this.lastUpdated = 0;\n    /**\n     * Functions to notify when the `MotionValue` updates.\n     *\n     * @internal\n     */\n\n    this.updateSubscribers = new SubscriptionManager();\n    /**\n     * Functions to notify when the velocity updates.\n     *\n     * @internal\n     */\n\n    this.velocityUpdateSubscribers = new SubscriptionManager();\n    /**\n     * Functions to notify when the `MotionValue` updates and `render` is set to `true`.\n     *\n     * @internal\n     */\n\n    this.renderSubscribers = new SubscriptionManager();\n    /**\n     * Tracks whether this value can output a velocity. Currently this is only true\n     * if the value is numerical, but we might be able to widen the scope here and support\n     * other value types.\n     *\n     * @internal\n     */\n\n    this.canTrackVelocity = false;\n\n    this.updateAndNotify = function (v, render) {\n      if (render === void 0) {\n        render = true;\n      }\n\n      _this.prev = _this.current;\n      _this.current = v; // Update timestamp\n\n      var _a = getFrameData(),\n          delta = _a.delta,\n          timestamp = _a.timestamp;\n\n      if (_this.lastUpdated !== timestamp) {\n        _this.timeDelta = delta;\n        _this.lastUpdated = timestamp;\n        sync.postRender(_this.scheduleVelocityCheck);\n      } // Update update subscribers\n\n\n      if (_this.prev !== _this.current) {\n        _this.updateSubscribers.notify(_this.current);\n      } // Update velocity subscribers\n\n\n      if (_this.velocityUpdateSubscribers.getSize()) {\n        _this.velocityUpdateSubscribers.notify(_this.getVelocity());\n      } // Update render subscribers\n\n\n      if (render) {\n        _this.renderSubscribers.notify(_this.current);\n      }\n    };\n    /**\n     * Schedule a velocity check for the next frame.\n     *\n     * This is an instanced and bound function to prevent generating a new\n     * function once per frame.\n     *\n     * @internal\n     */\n\n\n    this.scheduleVelocityCheck = function () {\n      return sync.postRender(_this.velocityCheck);\n    };\n    /**\n     * Updates `prev` with `current` if the value hasn't been updated this frame.\n     * This ensures velocity calculations return `0`.\n     *\n     * This is an instanced and bound function to prevent generating a new\n     * function once per frame.\n     *\n     * @internal\n     */\n\n\n    this.velocityCheck = function (_a) {\n      var timestamp = _a.timestamp;\n\n      if (timestamp !== _this.lastUpdated) {\n        _this.prev = _this.current;\n\n        _this.velocityUpdateSubscribers.notify(_this.getVelocity());\n      }\n    };\n\n    this.hasAnimated = false;\n    this.prev = this.current = init;\n    this.canTrackVelocity = isFloat(this.current);\n  }\n  /**\n   * Adds a function that will be notified when the `MotionValue` is updated.\n   *\n   * It returns a function that, when called, will cancel the subscription.\n   *\n   * When calling `onChange` inside a React component, it should be wrapped with the\n   * `useEffect` hook. As it returns an unsubscribe function, this should be returned\n   * from the `useEffect` function to ensure you don't add duplicate subscribers..\n   *\n   * ```jsx\n   * export const MyComponent = () => {\n   *   const x = useMotionValue(0)\n   *   const y = useMotionValue(0)\n   *   const opacity = useMotionValue(1)\n   *\n   *   useEffect(() => {\n   *     function updateOpacity() {\n   *       const maxXY = Math.max(x.get(), y.get())\n   *       const newOpacity = transform(maxXY, [0, 100], [1, 0])\n   *       opacity.set(newOpacity)\n   *     }\n   *\n   *     const unsubscribeX = x.onChange(updateOpacity)\n   *     const unsubscribeY = y.onChange(updateOpacity)\n   *\n   *     return () => {\n   *       unsubscribeX()\n   *       unsubscribeY()\n   *     }\n   *   }, [])\n   *\n   *   return <motion.div style={{ x }} />\n   * }\n   * ```\n   *\n   * @internalremarks\n   *\n   * We could look into a `useOnChange` hook if the above lifecycle management proves confusing.\n   *\n   * ```jsx\n   * useOnChange(x, () => {})\n   * ```\n   *\n   * @param subscriber - A function that receives the latest value.\n   * @returns A function that, when called, will cancel this subscription.\n   *\n   * @public\n   */\n\n\n  MotionValue.prototype.onChange = function (subscription) {\n    return this.updateSubscribers.add(subscription);\n  };\n\n  MotionValue.prototype.clearListeners = function () {\n    this.updateSubscribers.clear();\n  };\n  /**\n   * Adds a function that will be notified when the `MotionValue` requests a render.\n   *\n   * @param subscriber - A function that's provided the latest value.\n   * @returns A function that, when called, will cancel this subscription.\n   *\n   * @internal\n   */\n\n\n  MotionValue.prototype.onRenderRequest = function (subscription) {\n    // Render immediately\n    subscription(this.get());\n    return this.renderSubscribers.add(subscription);\n  };\n  /**\n   * Attaches a passive effect to the `MotionValue`.\n   *\n   * @internal\n   */\n\n\n  MotionValue.prototype.attach = function (passiveEffect) {\n    this.passiveEffect = passiveEffect;\n  };\n  /**\n   * Sets the state of the `MotionValue`.\n   *\n   * @remarks\n   *\n   * ```jsx\n   * const x = useMotionValue(0)\n   * x.set(10)\n   * ```\n   *\n   * @param latest - Latest value to set.\n   * @param render - Whether to notify render subscribers. Defaults to `true`\n   *\n   * @public\n   */\n\n\n  MotionValue.prototype.set = function (v, render) {\n    if (render === void 0) {\n      render = true;\n    }\n\n    if (!render || !this.passiveEffect) {\n      this.updateAndNotify(v, render);\n    } else {\n      this.passiveEffect(v, this.updateAndNotify);\n    }\n  };\n  /**\n   * Returns the latest state of `MotionValue`\n   *\n   * @returns - The latest state of `MotionValue`\n   *\n   * @public\n   */\n\n\n  MotionValue.prototype.get = function () {\n    return this.current;\n  };\n  /**\n   * @public\n   */\n\n\n  MotionValue.prototype.getPrevious = function () {\n    return this.prev;\n  };\n  /**\n   * Returns the latest velocity of `MotionValue`\n   *\n   * @returns - The latest velocity of `MotionValue`. Returns `0` if the state is non-numerical.\n   *\n   * @public\n   */\n\n\n  MotionValue.prototype.getVelocity = function () {\n    // This could be isFloat(this.prev) && isFloat(this.current), but that would be wasteful\n    return this.canTrackVelocity ? // These casts could be avoided if parseFloat would be typed better\n    velocityPerSecond(parseFloat(this.current) - parseFloat(this.prev), this.timeDelta) : 0;\n  };\n  /**\n   * Registers a new animation to control this `MotionValue`. Only one\n   * animation can drive a `MotionValue` at one time.\n   *\n   * ```jsx\n   * value.start()\n   * ```\n   *\n   * @param animation - A function that starts the provided animation\n   *\n   * @internal\n   */\n\n\n  MotionValue.prototype.start = function (animation) {\n    var _this = this;\n\n    this.stop();\n    return new Promise(function (resolve) {\n      _this.hasAnimated = true;\n      _this.stopAnimation = animation(resolve);\n    }).then(function () {\n      return _this.clearAnimation();\n    });\n  };\n  /**\n   * Stop the currently active animation.\n   *\n   * @public\n   */\n\n\n  MotionValue.prototype.stop = function () {\n    if (this.stopAnimation) this.stopAnimation();\n    this.clearAnimation();\n  };\n  /**\n   * Returns `true` if this value is currently animating.\n   *\n   * @public\n   */\n\n\n  MotionValue.prototype.isAnimating = function () {\n    return !!this.stopAnimation;\n  };\n\n  MotionValue.prototype.clearAnimation = function () {\n    this.stopAnimation = null;\n  };\n  /**\n   * Destroy and clean up subscribers to this `MotionValue`.\n   *\n   * The `MotionValue` hooks like `useMotionValue` and `useTransform` automatically\n   * handle the lifecycle of the returned `MotionValue`, so this method is only necessary if you've manually\n   * created a `MotionValue` via the `motionValue` function.\n   *\n   * @public\n   */\n\n\n  MotionValue.prototype.destroy = function () {\n    this.updateSubscribers.clear();\n    this.renderSubscribers.clear();\n    this.stop();\n  };\n\n  return MotionValue;\n}();\n/**\n * @internal\n */\n\n\nfunction motionValue(init) {\n  return new MotionValue(init);\n}\n\nexport { MotionValue, motionValue };","var isMotionValue = function isMotionValue(value) {\n  return Boolean(value !== null && typeof value === \"object\" && value.getVelocity);\n};\n\nexport { isMotionValue };","/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\n\n/* global Reflect, Promise */\nvar _extendStatics = function extendStatics(d, b) {\n  _extendStatics = Object.setPrototypeOf || {\n    __proto__: []\n  } instanceof Array && function (d, b) {\n    d.__proto__ = b;\n  } || function (d, b) {\n    for (var p in b) {\n      if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p];\n    }\n  };\n\n  return _extendStatics(d, b);\n};\n\nexport function __extends(d, b) {\n  if (typeof b !== \"function\" && b !== null) throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n\n  _extendStatics(d, b);\n\n  function __() {\n    this.constructor = d;\n  }\n\n  d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n}\n\nvar _assign = function __assign() {\n  _assign = Object.assign || function __assign(t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n\n      for (var p in s) {\n        if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n      }\n    }\n\n    return t;\n  };\n\n  return _assign.apply(this, arguments);\n};\n\nexport { _assign as __assign };\nexport function __rest(s, e) {\n  var t = {};\n\n  for (var p in s) {\n    if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n  }\n\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n    if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i])) t[p[i]] = s[p[i]];\n  }\n  return t;\n}\nexport function __decorate(decorators, target, key, desc) {\n  var c = arguments.length,\n      r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc,\n      d;\n  if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);else for (var i = decorators.length - 1; i >= 0; i--) {\n    if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n  }\n  return c > 3 && r && Object.defineProperty(target, key, r), r;\n}\nexport function __param(paramIndex, decorator) {\n  return function (target, key) {\n    decorator(target, key, paramIndex);\n  };\n}\nexport function __metadata(metadataKey, metadataValue) {\n  if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\n}\nexport function __awaiter(thisArg, _arguments, P, generator) {\n  function adopt(value) {\n    return value instanceof P ? value : new P(function (resolve) {\n      resolve(value);\n    });\n  }\n\n  return new (P || (P = Promise))(function (resolve, reject) {\n    function fulfilled(value) {\n      try {\n        step(generator.next(value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n\n    function rejected(value) {\n      try {\n        step(generator[\"throw\"](value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n\n    function step(result) {\n      result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);\n    }\n\n    step((generator = generator.apply(thisArg, _arguments || [])).next());\n  });\n}\nexport function __generator(thisArg, body) {\n  var _ = {\n    label: 0,\n    sent: function sent() {\n      if (t[0] & 1) throw t[1];\n      return t[1];\n    },\n    trys: [],\n    ops: []\n  },\n      f,\n      y,\n      t,\n      g;\n  return g = {\n    next: verb(0),\n    \"throw\": verb(1),\n    \"return\": verb(2)\n  }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function () {\n    return this;\n  }), g;\n\n  function verb(n) {\n    return function (v) {\n      return step([n, v]);\n    };\n  }\n\n  function step(op) {\n    if (f) throw new TypeError(\"Generator is already executing.\");\n\n    while (_) {\n      try {\n        if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n        if (y = 0, t) op = [op[0] & 2, t.value];\n\n        switch (op[0]) {\n          case 0:\n          case 1:\n            t = op;\n            break;\n\n          case 4:\n            _.label++;\n            return {\n              value: op[1],\n              done: false\n            };\n\n          case 5:\n            _.label++;\n            y = op[1];\n            op = [0];\n            continue;\n\n          case 7:\n            op = _.ops.pop();\n\n            _.trys.pop();\n\n            continue;\n\n          default:\n            if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) {\n              _ = 0;\n              continue;\n            }\n\n            if (op[0] === 3 && (!t || op[1] > t[0] && op[1] < t[3])) {\n              _.label = op[1];\n              break;\n            }\n\n            if (op[0] === 6 && _.label < t[1]) {\n              _.label = t[1];\n              t = op;\n              break;\n            }\n\n            if (t && _.label < t[2]) {\n              _.label = t[2];\n\n              _.ops.push(op);\n\n              break;\n            }\n\n            if (t[2]) _.ops.pop();\n\n            _.trys.pop();\n\n            continue;\n        }\n\n        op = body.call(thisArg, _);\n      } catch (e) {\n        op = [6, e];\n        y = 0;\n      } finally {\n        f = t = 0;\n      }\n    }\n\n    if (op[0] & 5) throw op[1];\n    return {\n      value: op[0] ? op[1] : void 0,\n      done: true\n    };\n  }\n}\nexport var __createBinding = Object.create ? function (o, m, k, k2) {\n  if (k2 === undefined) k2 = k;\n  Object.defineProperty(o, k2, {\n    enumerable: true,\n    get: function get() {\n      return m[k];\n    }\n  });\n} : function (o, m, k, k2) {\n  if (k2 === undefined) k2 = k;\n  o[k2] = m[k];\n};\nexport function __exportStar(m, o) {\n  for (var p in m) {\n    if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(o, p)) __createBinding(o, m, p);\n  }\n}\nexport function __values(o) {\n  var s = typeof Symbol === \"function\" && Symbol.iterator,\n      m = s && o[s],\n      i = 0;\n  if (m) return m.call(o);\n  if (o && typeof o.length === \"number\") return {\n    next: function next() {\n      if (o && i >= o.length) o = void 0;\n      return {\n        value: o && o[i++],\n        done: !o\n      };\n    }\n  };\n  throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\n}\nexport function __read(o, n) {\n  var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n  if (!m) return o;\n  var i = m.call(o),\n      r,\n      ar = [],\n      e;\n\n  try {\n    while ((n === void 0 || n-- > 0) && !(r = i.next()).done) {\n      ar.push(r.value);\n    }\n  } catch (error) {\n    e = {\n      error: error\n    };\n  } finally {\n    try {\n      if (r && !r.done && (m = i[\"return\"])) m.call(i);\n    } finally {\n      if (e) throw e.error;\n    }\n  }\n\n  return ar;\n}\n/** @deprecated */\n\nexport function __spread() {\n  for (var ar = [], i = 0; i < arguments.length; i++) {\n    ar = ar.concat(__read(arguments[i]));\n  }\n\n  return ar;\n}\n/** @deprecated */\n\nexport function __spreadArrays() {\n  for (var s = 0, i = 0, il = arguments.length; i < il; i++) {\n    s += arguments[i].length;\n  }\n\n  for (var r = Array(s), k = 0, i = 0; i < il; i++) {\n    for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++) {\n      r[k] = a[j];\n    }\n  }\n\n  return r;\n}\nexport function __spreadArray(to, from, pack) {\n  if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\n    if (ar || !(i in from)) {\n      if (!ar) ar = Array.prototype.slice.call(from, 0, i);\n      ar[i] = from[i];\n    }\n  }\n  return to.concat(ar || Array.prototype.slice.call(from));\n}\nexport function __await(v) {\n  return this instanceof __await ? (this.v = v, this) : new __await(v);\n}\nexport function __asyncGenerator(thisArg, _arguments, generator) {\n  if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\n  var g = generator.apply(thisArg, _arguments || []),\n      i,\n      q = [];\n  return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () {\n    return this;\n  }, i;\n\n  function verb(n) {\n    if (g[n]) i[n] = function (v) {\n      return new Promise(function (a, b) {\n        q.push([n, v, a, b]) > 1 || resume(n, v);\n      });\n    };\n  }\n\n  function resume(n, v) {\n    try {\n      step(g[n](v));\n    } catch (e) {\n      settle(q[0][3], e);\n    }\n  }\n\n  function step(r) {\n    r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r);\n  }\n\n  function fulfill(value) {\n    resume(\"next\", value);\n  }\n\n  function reject(value) {\n    resume(\"throw\", value);\n  }\n\n  function settle(f, v) {\n    if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]);\n  }\n}\nexport function __asyncDelegator(o) {\n  var i, p;\n  return i = {}, verb(\"next\"), verb(\"throw\", function (e) {\n    throw e;\n  }), verb(\"return\"), i[Symbol.iterator] = function () {\n    return this;\n  }, i;\n\n  function verb(n, f) {\n    i[n] = o[n] ? function (v) {\n      return (p = !p) ? {\n        value: __await(o[n](v)),\n        done: n === \"return\"\n      } : f ? f(v) : v;\n    } : f;\n  }\n}\nexport function __asyncValues(o) {\n  if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\n  var m = o[Symbol.asyncIterator],\n      i;\n  return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () {\n    return this;\n  }, i);\n\n  function verb(n) {\n    i[n] = o[n] && function (v) {\n      return new Promise(function (resolve, reject) {\n        v = o[n](v), settle(resolve, reject, v.done, v.value);\n      });\n    };\n  }\n\n  function settle(resolve, reject, d, v) {\n    Promise.resolve(v).then(function (v) {\n      resolve({\n        value: v,\n        done: d\n      });\n    }, reject);\n  }\n}\nexport function __makeTemplateObject(cooked, raw) {\n  if (Object.defineProperty) {\n    Object.defineProperty(cooked, \"raw\", {\n      value: raw\n    });\n  } else {\n    cooked.raw = raw;\n  }\n\n  return cooked;\n}\n;\n\nvar __setModuleDefault = Object.create ? function (o, v) {\n  Object.defineProperty(o, \"default\", {\n    enumerable: true,\n    value: v\n  });\n} : function (o, v) {\n  o[\"default\"] = v;\n};\n\nexport function __importStar(mod) {\n  if (mod && mod.__esModule) return mod;\n  var result = {};\n  if (mod != null) for (var k in mod) {\n    if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n  }\n\n  __setModuleDefault(result, mod);\n\n  return result;\n}\nexport function __importDefault(mod) {\n  return mod && mod.__esModule ? mod : {\n    default: mod\n  };\n}\nexport function __classPrivateFieldGet(receiver, state, kind, f) {\n  if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a getter\");\n  if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot read private member from an object whose class did not declare it\");\n  return kind === \"m\" ? f : kind === \"a\" ? f.call(receiver) : f ? f.value : state.get(receiver);\n}\nexport function __classPrivateFieldSet(receiver, state, value, kind, f) {\n  if (kind === \"m\") throw new TypeError(\"Private method is not writable\");\n  if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a setter\");\n  if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot write private member to an object whose class did not declare it\");\n  return kind === \"a\" ? f.call(receiver, value) : f ? f.value = value : state.set(receiver, value), value;\n}","var clamp = function clamp(min, max, v) {\n  return Math.min(Math.max(v, min), max);\n};\n\nexport { clamp };","import { warning } from 'hey-listen';\nimport { clamp } from '../../utils/clamp.mjs';\nvar safeMin = 0.001;\nvar minDuration = 0.01;\nvar maxDuration = 10.0;\nvar minDamping = 0.05;\nvar maxDamping = 1;\n\nfunction findSpring(_ref) {\n  var _ref$duration = _ref.duration,\n      duration = _ref$duration === void 0 ? 800 : _ref$duration,\n      _ref$bounce = _ref.bounce,\n      bounce = _ref$bounce === void 0 ? 0.25 : _ref$bounce,\n      _ref$velocity = _ref.velocity,\n      velocity = _ref$velocity === void 0 ? 0 : _ref$velocity,\n      _ref$mass = _ref.mass,\n      mass = _ref$mass === void 0 ? 1 : _ref$mass;\n  var envelope;\n  var derivative;\n  warning(duration <= maxDuration * 1000, \"Spring duration must be 10 seconds or less\");\n  var dampingRatio = 1 - bounce;\n  dampingRatio = clamp(minDamping, maxDamping, dampingRatio);\n  duration = clamp(minDuration, maxDuration, duration / 1000);\n\n  if (dampingRatio < 1) {\n    envelope = function envelope(undampedFreq) {\n      var exponentialDecay = undampedFreq * dampingRatio;\n      var delta = exponentialDecay * duration;\n      var a = exponentialDecay - velocity;\n      var b = calcAngularFreq(undampedFreq, dampingRatio);\n      var c = Math.exp(-delta);\n      return safeMin - a / b * c;\n    };\n\n    derivative = function derivative(undampedFreq) {\n      var exponentialDecay = undampedFreq * dampingRatio;\n      var delta = exponentialDecay * duration;\n      var d = delta * velocity + velocity;\n      var e = Math.pow(dampingRatio, 2) * Math.pow(undampedFreq, 2) * duration;\n      var f = Math.exp(-delta);\n      var g = calcAngularFreq(Math.pow(undampedFreq, 2), dampingRatio);\n      var factor = -envelope(undampedFreq) + safeMin > 0 ? -1 : 1;\n      return factor * ((d - e) * f) / g;\n    };\n  } else {\n    envelope = function envelope(undampedFreq) {\n      var a = Math.exp(-undampedFreq * duration);\n      var b = (undampedFreq - velocity) * duration + 1;\n      return -safeMin + a * b;\n    };\n\n    derivative = function derivative(undampedFreq) {\n      var a = Math.exp(-undampedFreq * duration);\n      var b = (velocity - undampedFreq) * (duration * duration);\n      return a * b;\n    };\n  }\n\n  var initialGuess = 5 / duration;\n  var undampedFreq = approximateRoot(envelope, derivative, initialGuess);\n  duration = duration * 1000;\n\n  if (isNaN(undampedFreq)) {\n    return {\n      stiffness: 100,\n      damping: 10,\n      duration: duration\n    };\n  } else {\n    var stiffness = Math.pow(undampedFreq, 2) * mass;\n    return {\n      stiffness: stiffness,\n      damping: dampingRatio * 2 * Math.sqrt(mass * stiffness),\n      duration: duration\n    };\n  }\n}\n\nvar rootIterations = 12;\n\nfunction approximateRoot(envelope, derivative, initialGuess) {\n  var result = initialGuess;\n\n  for (var i = 1; i < rootIterations; i++) {\n    result = result - envelope(result) / derivative(result);\n  }\n\n  return result;\n}\n\nfunction calcAngularFreq(undampedFreq, dampingRatio) {\n  return undampedFreq * Math.sqrt(1 - dampingRatio * dampingRatio);\n}\n\nexport { calcAngularFreq, findSpring, maxDamping, maxDuration, minDamping, minDuration };","import { __rest } from 'tslib';\nimport { findSpring, calcAngularFreq } from '../utils/find-spring.mjs';\nvar durationKeys = [\"duration\", \"bounce\"];\nvar physicsKeys = [\"stiffness\", \"damping\", \"mass\"];\n\nfunction isSpringType(options, keys) {\n  return keys.some(function (key) {\n    return options[key] !== undefined;\n  });\n}\n\nfunction getSpringOptions(options) {\n  var springOptions = Object.assign({\n    velocity: 0.0,\n    stiffness: 100,\n    damping: 10,\n    mass: 1.0,\n    isResolvedFromDuration: false\n  }, options);\n\n  if (!isSpringType(options, physicsKeys) && isSpringType(options, durationKeys)) {\n    var derived = findSpring(options);\n    springOptions = Object.assign(Object.assign(Object.assign({}, springOptions), derived), {\n      velocity: 0.0,\n      mass: 1.0\n    });\n    springOptions.isResolvedFromDuration = true;\n  }\n\n  return springOptions;\n}\n\nfunction spring(_a) {\n  var _a$from = _a.from,\n      from = _a$from === void 0 ? 0.0 : _a$from,\n      _a$to = _a.to,\n      to = _a$to === void 0 ? 1.0 : _a$to,\n      _a$restSpeed = _a.restSpeed,\n      restSpeed = _a$restSpeed === void 0 ? 2 : _a$restSpeed,\n      restDelta = _a.restDelta,\n      options = __rest(_a, [\"from\", \"to\", \"restSpeed\", \"restDelta\"]);\n\n  var state = {\n    done: false,\n    value: from\n  };\n\n  var _getSpringOptions = getSpringOptions(options),\n      stiffness = _getSpringOptions.stiffness,\n      damping = _getSpringOptions.damping,\n      mass = _getSpringOptions.mass,\n      velocity = _getSpringOptions.velocity,\n      duration = _getSpringOptions.duration,\n      isResolvedFromDuration = _getSpringOptions.isResolvedFromDuration;\n\n  var resolveSpring = zero;\n  var resolveVelocity = zero;\n\n  function createSpring() {\n    var initialVelocity = velocity ? -(velocity / 1000) : 0.0;\n    var initialDelta = to - from;\n    var dampingRatio = damping / (2 * Math.sqrt(stiffness * mass));\n    var undampedAngularFreq = Math.sqrt(stiffness / mass) / 1000;\n\n    if (restDelta === undefined) {\n      restDelta = Math.min(Math.abs(to - from) / 100, 0.4);\n    }\n\n    if (dampingRatio < 1) {\n      var angularFreq = calcAngularFreq(undampedAngularFreq, dampingRatio);\n\n      resolveSpring = function resolveSpring(t) {\n        var envelope = Math.exp(-dampingRatio * undampedAngularFreq * t);\n        return to - envelope * ((initialVelocity + dampingRatio * undampedAngularFreq * initialDelta) / angularFreq * Math.sin(angularFreq * t) + initialDelta * Math.cos(angularFreq * t));\n      };\n\n      resolveVelocity = function resolveVelocity(t) {\n        var envelope = Math.exp(-dampingRatio * undampedAngularFreq * t);\n        return dampingRatio * undampedAngularFreq * envelope * (Math.sin(angularFreq * t) * (initialVelocity + dampingRatio * undampedAngularFreq * initialDelta) / angularFreq + initialDelta * Math.cos(angularFreq * t)) - envelope * (Math.cos(angularFreq * t) * (initialVelocity + dampingRatio * undampedAngularFreq * initialDelta) - angularFreq * initialDelta * Math.sin(angularFreq * t));\n      };\n    } else if (dampingRatio === 1) {\n      resolveSpring = function resolveSpring(t) {\n        return to - Math.exp(-undampedAngularFreq * t) * (initialDelta + (initialVelocity + undampedAngularFreq * initialDelta) * t);\n      };\n    } else {\n      var dampedAngularFreq = undampedAngularFreq * Math.sqrt(dampingRatio * dampingRatio - 1);\n\n      resolveSpring = function resolveSpring(t) {\n        var envelope = Math.exp(-dampingRatio * undampedAngularFreq * t);\n        var freqForT = Math.min(dampedAngularFreq * t, 300);\n        return to - envelope * ((initialVelocity + dampingRatio * undampedAngularFreq * initialDelta) * Math.sinh(freqForT) + dampedAngularFreq * initialDelta * Math.cosh(freqForT)) / dampedAngularFreq;\n      };\n    }\n  }\n\n  createSpring();\n  return {\n    next: function next(t) {\n      var current = resolveSpring(t);\n\n      if (!isResolvedFromDuration) {\n        var currentVelocity = resolveVelocity(t) * 1000;\n        var isBelowVelocityThreshold = Math.abs(currentVelocity) <= restSpeed;\n        var isBelowDisplacementThreshold = Math.abs(to - current) <= restDelta;\n        state.done = isBelowVelocityThreshold && isBelowDisplacementThreshold;\n      } else {\n        state.done = t >= duration;\n      }\n\n      state.value = state.done ? to : current;\n      return state;\n    },\n    flipTarget: function flipTarget() {\n      velocity = -velocity;\n      var _ref = [to, from];\n      from = _ref[0];\n      to = _ref[1];\n      createSpring();\n    }\n  };\n}\n\nspring.needsInterpolation = function (a, b) {\n  return typeof a === \"string\" || typeof b === \"string\";\n};\n\nvar zero = function zero(_t) {\n  return 0;\n};\n\nexport { spring };","var progress = function progress(from, to, value) {\n  var toFromDifference = to - from;\n  return toFromDifference === 0 ? 1 : (value - from) / toFromDifference;\n};\n\nexport { progress };","var clamp = function clamp(min, max) {\n  return function (v) {\n    return Math.max(Math.min(v, max), min);\n  };\n};\n\nvar sanitize = function sanitize(v) {\n  return v % 1 ? Number(v.toFixed(5)) : v;\n};\n\nvar floatRegex = /(-)?([\\d]*\\.?[\\d])+/g;\nvar colorRegex = /(#[0-9a-f]{6}|#[0-9a-f]{3}|#(?:[0-9a-f]{2}){2,4}|(rgb|hsl)a?\\((-?[\\d\\.]+%?[,\\s]+){2,3}\\s*\\/*\\s*[\\d\\.]+%?\\))/gi;\nvar singleColorRegex = /^(#[0-9a-f]{3}|#(?:[0-9a-f]{2}){2,4}|(rgb|hsl)a?\\((-?[\\d\\.]+%?[,\\s]+){2,3}\\s*\\/*\\s*[\\d\\.]+%?\\))$/i;\n\nfunction isString(v) {\n  return typeof v === 'string';\n}\n\nexport { clamp, colorRegex, floatRegex, isString, sanitize, singleColorRegex };","import { clamp } from '../utils.mjs';\nvar number = {\n  test: function test(v) {\n    return typeof v === 'number';\n  },\n  parse: parseFloat,\n  transform: function transform(v) {\n    return v;\n  }\n};\nvar alpha = Object.assign(Object.assign({}, number), {\n  transform: clamp(0, 1)\n});\nvar scale = Object.assign(Object.assign({}, number), {\n  default: 1\n});\nexport { alpha, number, scale };","import _defineProperty from \"/Users/rustomichhaporia/GitHub/hofstede/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";\nimport _slicedToArray from \"/Users/rustomichhaporia/GitHub/hofstede/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";\nimport { isString, singleColorRegex, floatRegex } from '../utils.mjs';\n\nvar isColorString = function isColorString(type, testProp) {\n  return function (v) {\n    return Boolean(isString(v) && singleColorRegex.test(v) && v.startsWith(type) || testProp && Object.prototype.hasOwnProperty.call(v, testProp));\n  };\n};\n\nvar splitColor = function splitColor(aName, bName, cName) {\n  return function (v) {\n    var _ref;\n\n    if (!isString(v)) return v;\n\n    var _v$match = v.match(floatRegex),\n        _v$match2 = _slicedToArray(_v$match, 4),\n        a = _v$match2[0],\n        b = _v$match2[1],\n        c = _v$match2[2],\n        alpha = _v$match2[3];\n\n    return _ref = {}, _defineProperty(_ref, aName, parseFloat(a)), _defineProperty(_ref, bName, parseFloat(b)), _defineProperty(_ref, cName, parseFloat(c)), _defineProperty(_ref, \"alpha\", alpha !== undefined ? parseFloat(alpha) : 1), _ref;\n  };\n};\n\nexport { isColorString, splitColor };","import { number, alpha } from '../numbers/index.mjs';\nimport { sanitize, clamp } from '../utils.mjs';\nimport { isColorString, splitColor } from './utils.mjs';\nvar clampRgbUnit = clamp(0, 255);\nvar rgbUnit = Object.assign(Object.assign({}, number), {\n  transform: function transform(v) {\n    return Math.round(clampRgbUnit(v));\n  }\n});\nvar rgba = {\n  test: isColorString('rgb', 'red'),\n  parse: splitColor('red', 'green', 'blue'),\n  transform: function transform(_ref) {\n    var red = _ref.red,\n        green = _ref.green,\n        blue = _ref.blue,\n        _ref$alpha = _ref.alpha,\n        alpha$1 = _ref$alpha === void 0 ? 1 : _ref$alpha;\n    return 'rgba(' + rgbUnit.transform(red) + ', ' + rgbUnit.transform(green) + ', ' + rgbUnit.transform(blue) + ', ' + sanitize(alpha.transform(alpha$1)) + ')';\n  }\n};\nexport { rgbUnit, rgba };","import { rgba } from './rgba.mjs';\nimport { isColorString } from './utils.mjs';\n\nfunction parseHex(v) {\n  var r = '';\n  var g = '';\n  var b = '';\n  var a = '';\n\n  if (v.length > 5) {\n    r = v.substr(1, 2);\n    g = v.substr(3, 2);\n    b = v.substr(5, 2);\n    a = v.substr(7, 2);\n  } else {\n    r = v.substr(1, 1);\n    g = v.substr(2, 1);\n    b = v.substr(3, 1);\n    a = v.substr(4, 1);\n    r += r;\n    g += g;\n    b += b;\n    a += a;\n  }\n\n  return {\n    red: parseInt(r, 16),\n    green: parseInt(g, 16),\n    blue: parseInt(b, 16),\n    alpha: a ? parseInt(a, 16) / 255 : 1\n  };\n}\n\nvar hex = {\n  test: isColorString('#'),\n  parse: parseHex,\n  transform: rgba.transform\n};\nexport { hex };","import { isString } from '../utils.mjs';\n\nvar createUnitType = function createUnitType(unit) {\n  return {\n    test: function test(v) {\n      return isString(v) && v.endsWith(unit) && v.split(' ').length === 1;\n    },\n    parse: parseFloat,\n    transform: function transform(v) {\n      return \"\".concat(v).concat(unit);\n    }\n  };\n};\n\nvar degrees = createUnitType('deg');\nvar percent = createUnitType('%');\nvar px = createUnitType('px');\nvar vh = createUnitType('vh');\nvar vw = createUnitType('vw');\nvar progressPercentage = Object.assign(Object.assign({}, percent), {\n  parse: function parse(v) {\n    return percent.parse(v) / 100;\n  },\n  transform: function transform(v) {\n    return percent.transform(v * 100);\n  }\n});\nexport { degrees, percent, progressPercentage, px, vh, vw };","import { alpha } from '../numbers/index.mjs';\nimport { percent } from '../numbers/units.mjs';\nimport { sanitize } from '../utils.mjs';\nimport { isColorString, splitColor } from './utils.mjs';\nvar hsla = {\n  test: isColorString('hsl', 'hue'),\n  parse: splitColor('hue', 'saturation', 'lightness'),\n  transform: function transform(_ref) {\n    var hue = _ref.hue,\n        saturation = _ref.saturation,\n        lightness = _ref.lightness,\n        _ref$alpha = _ref.alpha,\n        alpha$1 = _ref$alpha === void 0 ? 1 : _ref$alpha;\n    return 'hsla(' + Math.round(hue) + ', ' + percent.transform(sanitize(saturation)) + ', ' + percent.transform(sanitize(lightness)) + ', ' + sanitize(alpha.transform(alpha$1)) + ')';\n  }\n};\nexport { hsla };","function hueToRgb(p, q, t) {\n  if (t < 0) t += 1;\n  if (t > 1) t -= 1;\n  if (t < 1 / 6) return p + (q - p) * 6 * t;\n  if (t < 1 / 2) return q;\n  if (t < 2 / 3) return p + (q - p) * (2 / 3 - t) * 6;\n  return p;\n}\n\nfunction hslaToRgba(_ref) {\n  var hue = _ref.hue,\n      saturation = _ref.saturation,\n      lightness = _ref.lightness,\n      alpha = _ref.alpha;\n  hue /= 360;\n  saturation /= 100;\n  lightness /= 100;\n  var red = 0;\n  var green = 0;\n  var blue = 0;\n\n  if (!saturation) {\n    red = green = blue = lightness;\n  } else {\n    var q = lightness < 0.5 ? lightness * (1 + saturation) : lightness + saturation - lightness * saturation;\n    var p = 2 * lightness - q;\n    red = hueToRgb(p, q, hue + 1 / 3);\n    green = hueToRgb(p, q, hue);\n    blue = hueToRgb(p, q, hue - 1 / 3);\n  }\n\n  return {\n    red: Math.round(red * 255),\n    green: Math.round(green * 255),\n    blue: Math.round(blue * 255),\n    alpha: alpha\n  };\n}\n\nexport { hslaToRgba };","import { mix } from './mix.mjs';\nimport { hsla, rgba, hex } from 'style-value-types';\nimport { invariant } from 'hey-listen';\nimport { hslaToRgba } from './hsla-to-rgba.mjs';\n\nvar mixLinearColor = function mixLinearColor(from, to, v) {\n  var fromExpo = from * from;\n  var toExpo = to * to;\n  return Math.sqrt(Math.max(0, v * (toExpo - fromExpo) + fromExpo));\n};\n\nvar colorTypes = [hex, rgba, hsla];\n\nvar getColorType = function getColorType(v) {\n  return colorTypes.find(function (type) {\n    return type.test(v);\n  });\n};\n\nvar notAnimatable = function notAnimatable(color) {\n  return \"'\".concat(color, \"' is not an animatable color. Use the equivalent color code instead.\");\n};\n\nvar mixColor = function mixColor(from, to) {\n  var fromColorType = getColorType(from);\n  var toColorType = getColorType(to);\n  invariant(!!fromColorType, notAnimatable(from));\n  invariant(!!toColorType, notAnimatable(to));\n  var fromColor = fromColorType.parse(from);\n  var toColor = toColorType.parse(to);\n\n  if (fromColorType === hsla) {\n    fromColor = hslaToRgba(fromColor);\n    fromColorType = rgba;\n  }\n\n  if (toColorType === hsla) {\n    toColor = hslaToRgba(toColor);\n    toColorType = rgba;\n  }\n\n  var blended = Object.assign({}, fromColor);\n  return function (v) {\n    for (var key in blended) {\n      if (key !== \"alpha\") {\n        blended[key] = mixLinearColor(fromColor[key], toColor[key], v);\n      }\n    }\n\n    blended.alpha = mix(fromColor.alpha, toColor.alpha, v);\n    return fromColorType.transform(blended);\n  };\n};\n\nexport { mixColor, mixLinearColor };","import { isString } from '../utils.mjs';\nimport { hex } from './hex.mjs';\nimport { hsla } from './hsla.mjs';\nimport { rgba } from './rgba.mjs';\nvar color = {\n  test: function test(v) {\n    return rgba.test(v) || hex.test(v) || hsla.test(v);\n  },\n  parse: function parse(v) {\n    if (rgba.test(v)) {\n      return rgba.parse(v);\n    } else if (hsla.test(v)) {\n      return hsla.parse(v);\n    } else {\n      return hex.parse(v);\n    }\n  },\n  transform: function transform(v) {\n    return isString(v) ? v : v.hasOwnProperty('red') ? rgba.transform(v) : hsla.transform(v);\n  }\n};\nexport { color };","import _toConsumableArray from \"/Users/rustomichhaporia/GitHub/hofstede/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";\nimport { color } from '../color/index.mjs';\nimport { number } from '../numbers/index.mjs';\nimport { isString, floatRegex, colorRegex, sanitize } from '../utils.mjs';\nvar colorToken = '${c}';\nvar numberToken = '${n}';\n\nfunction test(v) {\n  var _a, _b, _c, _d;\n\n  return isNaN(v) && isString(v) && ((_b = (_a = v.match(floatRegex)) === null || _a === void 0 ? void 0 : _a.length) !== null && _b !== void 0 ? _b : 0) + ((_d = (_c = v.match(colorRegex)) === null || _c === void 0 ? void 0 : _c.length) !== null && _d !== void 0 ? _d : 0) > 0;\n}\n\nfunction analyse(v) {\n  if (typeof v === 'number') v = \"\".concat(v);\n  var values = [];\n  var numColors = 0;\n  var colors = v.match(colorRegex);\n\n  if (colors) {\n    numColors = colors.length;\n    v = v.replace(colorRegex, colorToken);\n    values.push.apply(values, _toConsumableArray(colors.map(color.parse)));\n  }\n\n  var numbers = v.match(floatRegex);\n\n  if (numbers) {\n    v = v.replace(floatRegex, numberToken);\n    values.push.apply(values, _toConsumableArray(numbers.map(number.parse)));\n  }\n\n  return {\n    values: values,\n    numColors: numColors,\n    tokenised: v\n  };\n}\n\nfunction parse(v) {\n  return analyse(v).values;\n}\n\nfunction createTransformer(v) {\n  var _analyse = analyse(v),\n      values = _analyse.values,\n      numColors = _analyse.numColors,\n      tokenised = _analyse.tokenised;\n\n  var numValues = values.length;\n  return function (v) {\n    var output = tokenised;\n\n    for (var i = 0; i < numValues; i++) {\n      output = output.replace(i < numColors ? colorToken : numberToken, i < numColors ? color.transform(v[i]) : sanitize(v[i]));\n    }\n\n    return output;\n  };\n}\n\nvar convertNumbersToZero = function convertNumbersToZero(v) {\n  return typeof v === 'number' ? 0 : v;\n};\n\nfunction getAnimatableNone(v) {\n  var parsed = parse(v);\n  var transformer = createTransformer(v);\n  return transformer(parsed.map(convertNumbersToZero));\n}\n\nvar complex = {\n  test: test,\n  parse: parse,\n  createTransformer: createTransformer,\n  getAnimatableNone: getAnimatableNone\n};\nexport { complex };","var zeroPoint = {\n  x: 0,\n  y: 0,\n  z: 0\n};\n\nvar isNum = function isNum(v) {\n  return typeof v === 'number';\n};\n\nexport { isNum, zeroPoint };","var combineFunctions = function combineFunctions(a, b) {\n  return function (v) {\n    return b(a(v));\n  };\n};\n\nvar pipe = function pipe() {\n  for (var _len = arguments.length, transformers = new Array(_len), _key = 0; _key < _len; _key++) {\n    transformers[_key] = arguments[_key];\n  }\n\n  return transformers.reduce(combineFunctions);\n};\n\nexport { pipe };","import _toConsumableArray from \"/Users/rustomichhaporia/GitHub/hofstede/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";\nimport { complex, color } from 'style-value-types';\nimport { mix } from './mix.mjs';\nimport { mixColor } from './mix-color.mjs';\nimport { isNum } from './inc.mjs';\nimport { pipe } from './pipe.mjs';\nimport { warning } from 'hey-listen';\n\nfunction getMixer(origin, target) {\n  if (isNum(origin)) {\n    return function (v) {\n      return mix(origin, target, v);\n    };\n  } else if (color.test(origin)) {\n    return mixColor(origin, target);\n  } else {\n    return mixComplex(origin, target);\n  }\n}\n\nvar mixArray = function mixArray(from, to) {\n  var output = _toConsumableArray(from);\n\n  var numValues = output.length;\n  var blendValue = from.map(function (fromThis, i) {\n    return getMixer(fromThis, to[i]);\n  });\n  return function (v) {\n    for (var i = 0; i < numValues; i++) {\n      output[i] = blendValue[i](v);\n    }\n\n    return output;\n  };\n};\n\nvar mixObject = function mixObject(origin, target) {\n  var output = Object.assign(Object.assign({}, origin), target);\n  var blendValue = {};\n\n  for (var key in output) {\n    if (origin[key] !== undefined && target[key] !== undefined) {\n      blendValue[key] = getMixer(origin[key], target[key]);\n    }\n  }\n\n  return function (v) {\n    for (var _key in blendValue) {\n      output[_key] = blendValue[_key](v);\n    }\n\n    return output;\n  };\n};\n\nfunction analyse(value) {\n  var parsed = complex.parse(value);\n  var numValues = parsed.length;\n  var numNumbers = 0;\n  var numRGB = 0;\n  var numHSL = 0;\n\n  for (var i = 0; i < numValues; i++) {\n    if (numNumbers || typeof parsed[i] === \"number\") {\n      numNumbers++;\n    } else {\n      if (parsed[i].hue !== undefined) {\n        numHSL++;\n      } else {\n        numRGB++;\n      }\n    }\n  }\n\n  return {\n    parsed: parsed,\n    numNumbers: numNumbers,\n    numRGB: numRGB,\n    numHSL: numHSL\n  };\n}\n\nvar mixComplex = function mixComplex(origin, target) {\n  var template = complex.createTransformer(target);\n  var originStats = analyse(origin);\n  var targetStats = analyse(target);\n  var canInterpolate = originStats.numHSL === targetStats.numHSL && originStats.numRGB === targetStats.numRGB && originStats.numNumbers >= targetStats.numNumbers;\n\n  if (canInterpolate) {\n    return pipe(mixArray(originStats.parsed, targetStats.parsed), template);\n  } else {\n    warning(true, \"Complex values '\".concat(origin, \"' and '\").concat(target, \"' too different to mix. Ensure all colors are of the same type, and that each contains the same quantity of number and color values. Falling back to instant transition.\"));\n    return function (p) {\n      return \"\".concat(p > 0 ? target : origin);\n    };\n  }\n};\n\nexport { mixArray, mixComplex, mixObject };","import _slicedToArray from \"/Users/rustomichhaporia/GitHub/hofstede/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";\nimport { progress } from './progress.mjs';\nimport { mix } from './mix.mjs';\nimport { mixColor } from './mix-color.mjs';\nimport { mixComplex, mixArray, mixObject } from './mix-complex.mjs';\nimport { color } from 'style-value-types';\nimport { clamp } from './clamp.mjs';\nimport { pipe } from './pipe.mjs';\nimport { invariant } from 'hey-listen';\n\nvar mixNumber = function mixNumber(from, to) {\n  return function (p) {\n    return mix(from, to, p);\n  };\n};\n\nfunction detectMixerFactory(v) {\n  if (typeof v === 'number') {\n    return mixNumber;\n  } else if (typeof v === 'string') {\n    if (color.test(v)) {\n      return mixColor;\n    } else {\n      return mixComplex;\n    }\n  } else if (Array.isArray(v)) {\n    return mixArray;\n  } else if (typeof v === 'object') {\n    return mixObject;\n  }\n}\n\nfunction createMixers(output, ease, customMixer) {\n  var mixers = [];\n  var mixerFactory = customMixer || detectMixerFactory(output[0]);\n  var numMixers = output.length - 1;\n\n  for (var i = 0; i < numMixers; i++) {\n    var mixer = mixerFactory(output[i], output[i + 1]);\n\n    if (ease) {\n      var easingFunction = Array.isArray(ease) ? ease[i] : ease;\n      mixer = pipe(easingFunction, mixer);\n    }\n\n    mixers.push(mixer);\n  }\n\n  return mixers;\n}\n\nfunction fastInterpolate(_ref, _ref2) {\n  var _ref3 = _slicedToArray(_ref, 2),\n      from = _ref3[0],\n      to = _ref3[1];\n\n  var _ref4 = _slicedToArray(_ref2, 1),\n      mixer = _ref4[0];\n\n  return function (v) {\n    return mixer(progress(from, to, v));\n  };\n}\n\nfunction slowInterpolate(input, mixers) {\n  var inputLength = input.length;\n  var lastInputIndex = inputLength - 1;\n  return function (v) {\n    var mixerIndex = 0;\n    var foundMixerIndex = false;\n\n    if (v <= input[0]) {\n      foundMixerIndex = true;\n    } else if (v >= input[lastInputIndex]) {\n      mixerIndex = lastInputIndex - 1;\n      foundMixerIndex = true;\n    }\n\n    if (!foundMixerIndex) {\n      var i = 1;\n\n      for (; i < inputLength; i++) {\n        if (input[i] > v || i === lastInputIndex) {\n          break;\n        }\n      }\n\n      mixerIndex = i - 1;\n    }\n\n    var progressInRange = progress(input[mixerIndex], input[mixerIndex + 1], v);\n    return mixers[mixerIndex](progressInRange);\n  };\n}\n\nfunction interpolate(input, output) {\n  var _ref5 = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {},\n      _ref5$clamp = _ref5.clamp,\n      isClamp = _ref5$clamp === void 0 ? true : _ref5$clamp,\n      ease = _ref5.ease,\n      mixer = _ref5.mixer;\n\n  var inputLength = input.length;\n  invariant(inputLength === output.length, 'Both input and output ranges must be the same length');\n  invariant(!ease || !Array.isArray(ease) || ease.length === inputLength - 1, 'Array of easing functions must be of length `input.length - 1`, as it applies to the transitions **between** the defined values.');\n\n  if (input[0] > input[inputLength - 1]) {\n    input = [].concat(input);\n    output = [].concat(output);\n    input.reverse();\n    output.reverse();\n  }\n\n  var mixers = createMixers(output, ease, mixer);\n  var interpolator = inputLength === 2 ? fastInterpolate(input, mixers) : slowInterpolate(input, mixers);\n  return isClamp ? function (v) {\n    return interpolator(clamp(input[0], input[inputLength - 1], v));\n  } : interpolator;\n}\n\nexport { interpolate };","var reverseEasing = function reverseEasing(easing) {\n  return function (p) {\n    return 1 - easing(1 - p);\n  };\n};\n\nvar mirrorEasing = function mirrorEasing(easing) {\n  return function (p) {\n    return p <= 0.5 ? easing(2 * p) / 2 : (2 - easing(2 * (1 - p))) / 2;\n  };\n};\n\nvar createExpoIn = function createExpoIn(power) {\n  return function (p) {\n    return Math.pow(p, power);\n  };\n};\n\nvar createBackIn = function createBackIn(power) {\n  return function (p) {\n    return p * p * ((power + 1) * p - power);\n  };\n};\n\nvar createAnticipate = function createAnticipate(power) {\n  var backEasing = createBackIn(power);\n  return function (p) {\n    return (p *= 2) < 1 ? 0.5 * backEasing(p) : 0.5 * (2 - Math.pow(2, -10 * (p - 1)));\n  };\n};\n\nexport { createAnticipate, createBackIn, createExpoIn, mirrorEasing, reverseEasing };","import { createExpoIn, reverseEasing, mirrorEasing, createBackIn, createAnticipate } from './utils.mjs';\nvar DEFAULT_OVERSHOOT_STRENGTH = 1.525;\nvar BOUNCE_FIRST_THRESHOLD = 4.0 / 11.0;\nvar BOUNCE_SECOND_THRESHOLD = 8.0 / 11.0;\nvar BOUNCE_THIRD_THRESHOLD = 9.0 / 10.0;\n\nvar linear = function linear(p) {\n  return p;\n};\n\nvar easeIn = createExpoIn(2);\nvar easeOut = reverseEasing(easeIn);\nvar easeInOut = mirrorEasing(easeIn);\n\nvar circIn = function circIn(p) {\n  return 1 - Math.sin(Math.acos(p));\n};\n\nvar circOut = reverseEasing(circIn);\nvar circInOut = mirrorEasing(circOut);\nvar backIn = createBackIn(DEFAULT_OVERSHOOT_STRENGTH);\nvar backOut = reverseEasing(backIn);\nvar backInOut = mirrorEasing(backIn);\nvar anticipate = createAnticipate(DEFAULT_OVERSHOOT_STRENGTH);\nvar ca = 4356.0 / 361.0;\nvar cb = 35442.0 / 1805.0;\nvar cc = 16061.0 / 1805.0;\n\nvar bounceOut = function bounceOut(p) {\n  if (p === 1 || p === 0) return p;\n  var p2 = p * p;\n  return p < BOUNCE_FIRST_THRESHOLD ? 7.5625 * p2 : p < BOUNCE_SECOND_THRESHOLD ? 9.075 * p2 - 9.9 * p + 3.4 : p < BOUNCE_THIRD_THRESHOLD ? ca * p2 - cb * p + cc : 10.8 * p * p - 20.52 * p + 10.72;\n};\n\nvar bounceIn = reverseEasing(bounceOut);\n\nvar bounceInOut = function bounceInOut(p) {\n  return p < 0.5 ? 0.5 * (1.0 - bounceOut(1.0 - p * 2.0)) : 0.5 * bounceOut(p * 2.0 - 1.0) + 0.5;\n};\n\nexport { anticipate, backIn, backInOut, backOut, bounceIn, bounceInOut, bounceOut, circIn, circInOut, circOut, easeIn, easeInOut, easeOut, linear };","import { interpolate } from '../../utils/interpolate.mjs';\nimport { easeInOut } from '../../easing/index.mjs';\n\nfunction defaultEasing(values, easing) {\n  return values.map(function () {\n    return easing || easeInOut;\n  }).splice(0, values.length - 1);\n}\n\nfunction defaultOffset(values) {\n  var numValues = values.length;\n  return values.map(function (_value, i) {\n    return i !== 0 ? i / (numValues - 1) : 0;\n  });\n}\n\nfunction convertOffsetToTimes(offset, duration) {\n  return offset.map(function (o) {\n    return o * duration;\n  });\n}\n\nfunction keyframes(_ref) {\n  var _ref$from = _ref.from,\n      from = _ref$from === void 0 ? 0 : _ref$from,\n      _ref$to = _ref.to,\n      to = _ref$to === void 0 ? 1 : _ref$to,\n      ease = _ref.ease,\n      offset = _ref.offset,\n      _ref$duration = _ref.duration,\n      duration = _ref$duration === void 0 ? 300 : _ref$duration;\n  var state = {\n    done: false,\n    value: from\n  };\n  var values = Array.isArray(to) ? to : [from, to];\n  var times = convertOffsetToTimes(offset && offset.length === values.length ? offset : defaultOffset(values), duration);\n\n  function createInterpolator() {\n    return interpolate(times, values, {\n      ease: Array.isArray(ease) ? ease : defaultEasing(values, ease)\n    });\n  }\n\n  var interpolator = createInterpolator();\n  return {\n    next: function next(t) {\n      state.value = interpolator(t);\n      state.done = t >= duration;\n      return state;\n    },\n    flipTarget: function flipTarget() {\n      values.reverse();\n      interpolator = createInterpolator();\n    }\n  };\n}\n\nexport { convertOffsetToTimes, defaultEasing, defaultOffset, keyframes };","import { spring } from '../generators/spring.mjs';\nimport { keyframes } from '../generators/keyframes.mjs';\nimport { decay } from '../generators/decay.mjs';\nvar types = {\n  keyframes: keyframes,\n  spring: spring,\n  decay: decay\n};\n\nfunction detectAnimationFromOptions(config) {\n  if (Array.isArray(config.to)) {\n    return keyframes;\n  } else if (types[config.type]) {\n    return types[config.type];\n  }\n\n  var keys = new Set(Object.keys(config));\n\n  if (keys.has(\"ease\") || keys.has(\"duration\") && !keys.has(\"dampingRatio\")) {\n    return keyframes;\n  } else if (keys.has(\"dampingRatio\") || keys.has(\"stiffness\") || keys.has(\"mass\") || keys.has(\"damping\") || keys.has(\"restSpeed\") || keys.has(\"restDelta\")) {\n    return spring;\n  }\n\n  return keyframes;\n}\n\nexport { detectAnimationFromOptions };","function decay(_ref) {\n  var _ref$velocity = _ref.velocity,\n      velocity = _ref$velocity === void 0 ? 0 : _ref$velocity,\n      _ref$from = _ref.from,\n      from = _ref$from === void 0 ? 0 : _ref$from,\n      _ref$power = _ref.power,\n      power = _ref$power === void 0 ? 0.8 : _ref$power,\n      _ref$timeConstant = _ref.timeConstant,\n      timeConstant = _ref$timeConstant === void 0 ? 350 : _ref$timeConstant,\n      _ref$restDelta = _ref.restDelta,\n      restDelta = _ref$restDelta === void 0 ? 0.5 : _ref$restDelta,\n      modifyTarget = _ref.modifyTarget;\n  var state = {\n    done: false,\n    value: from\n  };\n  var amplitude = power * velocity;\n  var ideal = from + amplitude;\n  var target = modifyTarget === undefined ? ideal : modifyTarget(ideal);\n  if (target !== ideal) amplitude = target - from;\n  return {\n    next: function next(t) {\n      var delta = -amplitude * Math.exp(-t / timeConstant);\n      state.done = !(delta > restDelta || delta < -restDelta);\n      state.value = state.done ? target : target + delta;\n      return state;\n    },\n    flipTarget: function flipTarget() {}\n  };\n}\n\nexport { decay };","function loopElapsed(elapsed, duration) {\n  var delay = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 0;\n  return elapsed - duration - delay;\n}\n\nfunction reverseElapsed(elapsed, duration) {\n  var delay = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 0;\n  var isForwardPlayback = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : true;\n  return isForwardPlayback ? loopElapsed(duration + -elapsed, duration, delay) : duration - (elapsed - duration) + delay;\n}\n\nfunction hasRepeatDelayElapsed(elapsed, duration, delay, isForwardPlayback) {\n  return isForwardPlayback ? elapsed >= duration + delay : elapsed <= -delay;\n}\n\nexport { hasRepeatDelayElapsed, loopElapsed, reverseElapsed };","import { __rest } from 'tslib';\nimport { detectAnimationFromOptions } from './utils/detect-animation-from-options.mjs';\nimport sync, { cancelSync } from 'framesync';\nimport { interpolate } from '../utils/interpolate.mjs';\nimport { hasRepeatDelayElapsed, reverseElapsed, loopElapsed } from './utils/elapsed.mjs';\n\nvar framesync = function framesync(update) {\n  var passTimestamp = function passTimestamp(_ref) {\n    var delta = _ref.delta;\n    return update(delta);\n  };\n\n  return {\n    start: function start() {\n      return sync.update(passTimestamp, true);\n    },\n    stop: function stop() {\n      return cancelSync.update(passTimestamp);\n    }\n  };\n};\n\nfunction animate(_a) {\n  var _b, _c;\n\n  var from = _a.from,\n      _a$autoplay = _a.autoplay,\n      autoplay = _a$autoplay === void 0 ? true : _a$autoplay,\n      _a$driver = _a.driver,\n      driver = _a$driver === void 0 ? framesync : _a$driver,\n      _a$elapsed = _a.elapsed,\n      elapsed = _a$elapsed === void 0 ? 0 : _a$elapsed,\n      _a$repeat = _a.repeat,\n      repeatMax = _a$repeat === void 0 ? 0 : _a$repeat,\n      _a$repeatType = _a.repeatType,\n      repeatType = _a$repeatType === void 0 ? \"loop\" : _a$repeatType,\n      _a$repeatDelay = _a.repeatDelay,\n      repeatDelay = _a$repeatDelay === void 0 ? 0 : _a$repeatDelay,\n      onPlay = _a.onPlay,\n      onStop = _a.onStop,\n      onComplete = _a.onComplete,\n      onRepeat = _a.onRepeat,\n      onUpdate = _a.onUpdate,\n      options = __rest(_a, [\"from\", \"autoplay\", \"driver\", \"elapsed\", \"repeat\", \"repeatType\", \"repeatDelay\", \"onPlay\", \"onStop\", \"onComplete\", \"onRepeat\", \"onUpdate\"]);\n\n  var to = options.to;\n  var driverControls;\n  var repeatCount = 0;\n  var computedDuration = options.duration;\n  var latest;\n  var isComplete = false;\n  var isForwardPlayback = true;\n  var interpolateFromNumber;\n  var animator = detectAnimationFromOptions(options);\n\n  if ((_c = (_b = animator).needsInterpolation) === null || _c === void 0 ? void 0 : _c.call(_b, from, to)) {\n    interpolateFromNumber = interpolate([0, 100], [from, to], {\n      clamp: false\n    });\n    from = 0;\n    to = 100;\n  }\n\n  var animation = animator(Object.assign(Object.assign({}, options), {\n    from: from,\n    to: to\n  }));\n\n  function repeat() {\n    repeatCount++;\n\n    if (repeatType === \"reverse\") {\n      isForwardPlayback = repeatCount % 2 === 0;\n      elapsed = reverseElapsed(elapsed, computedDuration, repeatDelay, isForwardPlayback);\n    } else {\n      elapsed = loopElapsed(elapsed, computedDuration, repeatDelay);\n      if (repeatType === \"mirror\") animation.flipTarget();\n    }\n\n    isComplete = false;\n    onRepeat && onRepeat();\n  }\n\n  function complete() {\n    driverControls.stop();\n    onComplete && onComplete();\n  }\n\n  function update(delta) {\n    if (!isForwardPlayback) delta = -delta;\n    elapsed += delta;\n\n    if (!isComplete) {\n      var state = animation.next(Math.max(0, elapsed));\n      latest = state.value;\n      if (interpolateFromNumber) latest = interpolateFromNumber(latest);\n      isComplete = isForwardPlayback ? state.done : elapsed <= 0;\n    }\n\n    onUpdate === null || onUpdate === void 0 ? void 0 : onUpdate(latest);\n\n    if (isComplete) {\n      if (repeatCount === 0) computedDuration !== null && computedDuration !== void 0 ? computedDuration : computedDuration = elapsed;\n\n      if (repeatCount < repeatMax) {\n        hasRepeatDelayElapsed(elapsed, computedDuration, repeatDelay, isForwardPlayback) && repeat();\n      } else {\n        complete();\n      }\n    }\n  }\n\n  function play() {\n    onPlay === null || onPlay === void 0 ? void 0 : onPlay();\n    driverControls = driver(update);\n    driverControls.start();\n  }\n\n  autoplay && play();\n  return {\n    stop: function stop() {\n      onStop === null || onStop === void 0 ? void 0 : onStop();\n      driverControls.stop();\n    }\n  };\n}\n\nexport { animate };","/**\n * Converts seconds to milliseconds\n *\n * @param seconds - Time in seconds.\n * @return milliseconds - Converted time in milliseconds.\n */\nvar secondsToMilliseconds = function secondsToMilliseconds(seconds) {\n  return seconds * 1000;\n};\n\nexport { secondsToMilliseconds };","import { linear } from './index.mjs';\n\nvar a = function a(a1, a2) {\n  return 1.0 - 3.0 * a2 + 3.0 * a1;\n};\n\nvar b = function b(a1, a2) {\n  return 3.0 * a2 - 6.0 * a1;\n};\n\nvar c = function c(a1) {\n  return 3.0 * a1;\n};\n\nvar calcBezier = function calcBezier(t, a1, a2) {\n  return ((a(a1, a2) * t + b(a1, a2)) * t + c(a1)) * t;\n};\n\nvar getSlope = function getSlope(t, a1, a2) {\n  return 3.0 * a(a1, a2) * t * t + 2.0 * b(a1, a2) * t + c(a1);\n};\n\nvar subdivisionPrecision = 0.0000001;\nvar subdivisionMaxIterations = 10;\n\nfunction binarySubdivide(aX, aA, aB, mX1, mX2) {\n  var currentX;\n  var currentT;\n  var i = 0;\n\n  do {\n    currentT = aA + (aB - aA) / 2.0;\n    currentX = calcBezier(currentT, mX1, mX2) - aX;\n\n    if (currentX > 0.0) {\n      aB = currentT;\n    } else {\n      aA = currentT;\n    }\n  } while (Math.abs(currentX) > subdivisionPrecision && ++i < subdivisionMaxIterations);\n\n  return currentT;\n}\n\nvar newtonIterations = 8;\nvar newtonMinSlope = 0.001;\n\nfunction newtonRaphsonIterate(aX, aGuessT, mX1, mX2) {\n  for (var i = 0; i < newtonIterations; ++i) {\n    var currentSlope = getSlope(aGuessT, mX1, mX2);\n\n    if (currentSlope === 0.0) {\n      return aGuessT;\n    }\n\n    var currentX = calcBezier(aGuessT, mX1, mX2) - aX;\n    aGuessT -= currentX / currentSlope;\n  }\n\n  return aGuessT;\n}\n\nvar kSplineTableSize = 11;\nvar kSampleStepSize = 1.0 / (kSplineTableSize - 1.0);\n\nfunction cubicBezier(mX1, mY1, mX2, mY2) {\n  if (mX1 === mY1 && mX2 === mY2) return linear;\n  var sampleValues = new Float32Array(kSplineTableSize);\n\n  for (var i = 0; i < kSplineTableSize; ++i) {\n    sampleValues[i] = calcBezier(i * kSampleStepSize, mX1, mX2);\n  }\n\n  function getTForX(aX) {\n    var intervalStart = 0.0;\n    var currentSample = 1;\n    var lastSample = kSplineTableSize - 1;\n\n    for (; currentSample !== lastSample && sampleValues[currentSample] <= aX; ++currentSample) {\n      intervalStart += kSampleStepSize;\n    }\n\n    --currentSample;\n    var dist = (aX - sampleValues[currentSample]) / (sampleValues[currentSample + 1] - sampleValues[currentSample]);\n    var guessForT = intervalStart + dist * kSampleStepSize;\n    var initialSlope = getSlope(guessForT, mX1, mX2);\n\n    if (initialSlope >= newtonMinSlope) {\n      return newtonRaphsonIterate(aX, guessForT, mX1, mX2);\n    } else if (initialSlope === 0.0) {\n      return guessForT;\n    } else {\n      return binarySubdivide(aX, intervalStart, intervalStart + kSampleStepSize, mX1, mX2);\n    }\n  }\n\n  return function (t) {\n    return t === 0 || t === 1 ? t : calcBezier(getTForX(t), mY1, mY2);\n  };\n}\n\nexport { cubicBezier };","import { __read } from 'tslib';\nimport { invariant } from 'hey-listen';\nimport { cubicBezier, linear, easeIn, easeInOut, easeOut, circIn, circInOut, circOut, backIn, backInOut, backOut, anticipate, bounceIn, bounceInOut, bounceOut } from 'popmotion';\nvar easingLookup = {\n  linear: linear,\n  easeIn: easeIn,\n  easeInOut: easeInOut,\n  easeOut: easeOut,\n  circIn: circIn,\n  circInOut: circInOut,\n  circOut: circOut,\n  backIn: backIn,\n  backInOut: backInOut,\n  backOut: backOut,\n  anticipate: anticipate,\n  bounceIn: bounceIn,\n  bounceInOut: bounceInOut,\n  bounceOut: bounceOut\n};\n\nvar easingDefinitionToFunction = function easingDefinitionToFunction(definition) {\n  if (Array.isArray(definition)) {\n    // If cubic bezier definition, create bezier curve\n    invariant(definition.length === 4, \"Cubic bezier arrays must contain four numerical values.\");\n\n    var _a = __read(definition, 4),\n        x1 = _a[0],\n        y1 = _a[1],\n        x2 = _a[2],\n        y2 = _a[3];\n\n    return cubicBezier(x1, y1, x2, y2);\n  } else if (typeof definition === \"string\") {\n    // Else lookup from table\n    invariant(easingLookup[definition] !== undefined, \"Invalid easing type '\".concat(definition, \"'\"));\n    return easingLookup[definition];\n  }\n\n  return definition;\n};\n\nvar isEasingArray = function isEasingArray(ease) {\n  return Array.isArray(ease) && typeof ease[0] !== \"number\";\n};\n\nexport { easingDefinitionToFunction, isEasingArray };","import { complex } from 'style-value-types';\n/**\n * Check if a value is animatable. Examples:\n *\n * ✅: 100, \"100px\", \"#fff\"\n * ❌: \"block\", \"url(2.jpg)\"\n * @param value\n *\n * @internal\n */\n\nvar isAnimatable = function isAnimatable(key, value) {\n  // If the list of keys tat might be non-animatable grows, replace with Set\n  if (key === \"zIndex\") return false; // If it's a number or a keyframes array, we can animate it. We might at some point\n  // need to do a deep isAnimatable check of keyframes, or let Popmotion handle this,\n  // but for now lets leave it like this for performance reasons\n\n  if (typeof value === \"number\" || Array.isArray(value)) return true;\n\n  if (typeof value === \"string\" && // It's animatable if we have a string\n  complex.test(value) && // And it contains numbers and/or colors\n  !value.startsWith(\"url(\") // Unless it starts with \"url(\"\n  ) {\n    return true;\n  }\n\n  return false;\n};\n\nexport { isAnimatable };","var isKeyframesTarget = function isKeyframesTarget(v) {\n  return Array.isArray(v);\n};\n\nexport { isKeyframesTarget };","import { __assign } from 'tslib';\nimport { isKeyframesTarget } from './is-keyframes-target.mjs';\n\nvar underDampedSpring = function underDampedSpring() {\n  return {\n    type: \"spring\",\n    stiffness: 500,\n    damping: 25,\n    restSpeed: 10\n  };\n};\n\nvar criticallyDampedSpring = function criticallyDampedSpring(to) {\n  return {\n    type: \"spring\",\n    stiffness: 550,\n    damping: to === 0 ? 2 * Math.sqrt(550) : 30,\n    restSpeed: 10\n  };\n};\n\nvar linearTween = function linearTween() {\n  return {\n    type: \"keyframes\",\n    ease: \"linear\",\n    duration: 0.3\n  };\n};\n\nvar keyframes = function keyframes(values) {\n  return {\n    type: \"keyframes\",\n    duration: 0.8,\n    values: values\n  };\n};\n\nvar defaultTransitions = {\n  x: underDampedSpring,\n  y: underDampedSpring,\n  z: underDampedSpring,\n  rotate: underDampedSpring,\n  rotateX: underDampedSpring,\n  rotateY: underDampedSpring,\n  rotateZ: underDampedSpring,\n  scaleX: criticallyDampedSpring,\n  scaleY: criticallyDampedSpring,\n  scale: criticallyDampedSpring,\n  opacity: linearTween,\n  backgroundColor: linearTween,\n  color: linearTween,\n  default: criticallyDampedSpring\n};\n\nvar getDefaultTransition = function getDefaultTransition(valueKey, to) {\n  var transitionFactory;\n\n  if (isKeyframesTarget(to)) {\n    transitionFactory = keyframes;\n  } else {\n    transitionFactory = defaultTransitions[valueKey] || defaultTransitions.default;\n  }\n\n  return __assign({\n    to: to\n  }, transitionFactory(to));\n};\n\nexport { criticallyDampedSpring, getDefaultTransition, linearTween, underDampedSpring };","import _slicedToArray from \"/Users/rustomichhaporia/GitHub/hofstede/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";\nimport { complex } from './index.mjs';\nimport { floatRegex } from '../utils.mjs';\nvar maxDefaults = new Set(['brightness', 'contrast', 'saturate', 'opacity']);\n\nfunction applyDefaultFilter(v) {\n  var _v$slice$split = v.slice(0, -1).split('('),\n      _v$slice$split2 = _slicedToArray(_v$slice$split, 2),\n      name = _v$slice$split2[0],\n      value = _v$slice$split2[1];\n\n  if (name === 'drop-shadow') return v;\n\n  var _ref = value.match(floatRegex) || [],\n      _ref2 = _slicedToArray(_ref, 1),\n      number = _ref2[0];\n\n  if (!number) return v;\n  var unit = value.replace(number, '');\n  var defaultValue = maxDefaults.has(name) ? 1 : 0;\n  if (number !== value) defaultValue *= 100;\n  return name + '(' + defaultValue + unit + ')';\n}\n\nvar functionRegex = /([a-z-]*)\\(.*?\\)/g;\nvar filter = Object.assign(Object.assign({}, complex), {\n  getAnimatableNone: function getAnimatableNone(v) {\n    var functions = v.match(functionRegex);\n    return functions ? functions.map(applyDefaultFilter).join(' ') : v;\n  }\n});\nexport { filter };","import { __assign } from 'tslib';\nimport { number } from 'style-value-types';\n\nvar int = __assign(__assign({}, number), {\n  transform: Math.round\n});\n\nexport { int };","import { px, degrees, scale, alpha, progressPercentage } from 'style-value-types';\nimport { int } from './type-int.mjs';\nvar numberValueTypes = {\n  // Border props\n  borderWidth: px,\n  borderTopWidth: px,\n  borderRightWidth: px,\n  borderBottomWidth: px,\n  borderLeftWidth: px,\n  borderRadius: px,\n  radius: px,\n  borderTopLeftRadius: px,\n  borderTopRightRadius: px,\n  borderBottomRightRadius: px,\n  borderBottomLeftRadius: px,\n  // Positioning props\n  width: px,\n  maxWidth: px,\n  height: px,\n  maxHeight: px,\n  size: px,\n  top: px,\n  right: px,\n  bottom: px,\n  left: px,\n  // Spacing props\n  padding: px,\n  paddingTop: px,\n  paddingRight: px,\n  paddingBottom: px,\n  paddingLeft: px,\n  margin: px,\n  marginTop: px,\n  marginRight: px,\n  marginBottom: px,\n  marginLeft: px,\n  // Transform props\n  rotate: degrees,\n  rotateX: degrees,\n  rotateY: degrees,\n  rotateZ: degrees,\n  scale: scale,\n  scaleX: scale,\n  scaleY: scale,\n  scaleZ: scale,\n  skew: degrees,\n  skewX: degrees,\n  skewY: degrees,\n  distance: px,\n  translateX: px,\n  translateY: px,\n  translateZ: px,\n  x: px,\n  y: px,\n  z: px,\n  perspective: px,\n  transformPerspective: px,\n  opacity: alpha,\n  originX: progressPercentage,\n  originY: progressPercentage,\n  originZ: px,\n  // Misc\n  zIndex: int,\n  // SVG\n  fillOpacity: alpha,\n  strokeOpacity: alpha,\n  numOctaves: int\n};\nexport { numberValueTypes };","import { __assign } from 'tslib';\nimport { color, filter } from 'style-value-types';\nimport { numberValueTypes } from './number.mjs';\n/**\n * A map of default value types for common values\n */\n\nvar defaultValueTypes = __assign(__assign({}, numberValueTypes), {\n  // Color props\n  color: color,\n  backgroundColor: color,\n  outlineColor: color,\n  fill: color,\n  stroke: color,\n  // Border props\n  borderColor: color,\n  borderTopColor: color,\n  borderRightColor: color,\n  borderBottomColor: color,\n  borderLeftColor: color,\n  filter: filter,\n  WebkitFilter: filter\n});\n/**\n * Gets the default ValueType for the provided value key\n */\n\n\nvar getDefaultValueType = function getDefaultValueType(key) {\n  return defaultValueTypes[key];\n};\n\nexport { defaultValueTypes, getDefaultValueType };","import { filter, complex } from 'style-value-types';\nimport { getDefaultValueType } from './defaults.mjs';\n\nfunction getAnimatableNone(key, value) {\n  var _a;\n\n  var defaultValueType = getDefaultValueType(key);\n  if (defaultValueType !== filter) defaultValueType = complex; // If value is not recognised as animatable, ie \"none\", create an animatable version origin based on the target\n\n  return (_a = defaultValueType.getAnimatableNone) === null || _a === void 0 ? void 0 : _a.call(defaultValueType, value);\n}\n\nexport { getAnimatableNone };","var instantAnimationState = {\n  current: false\n};\nexport { instantAnimationState };","import { isKeyframesTarget } from '../animation/utils/is-keyframes-target.mjs';\n\nvar isCustomValue = function isCustomValue(v) {\n  return Boolean(v && typeof v === \"object\" && v.mix && v.toValue);\n};\n\nvar resolveFinalValueInKeyframes = function resolveFinalValueInKeyframes(v) {\n  // TODO maybe throw if v.length - 1 is placeholder token?\n  return isKeyframesTarget(v) ? v[v.length - 1] || 0 : v;\n};\n\nexport { isCustomValue, resolveFinalValueInKeyframes };","import { __assign, __rest, __spreadArray, __read } from 'tslib';\nimport { inertia, animate } from 'popmotion';\nimport { secondsToMilliseconds } from '../../utils/time-conversion.mjs';\nimport { isEasingArray, easingDefinitionToFunction } from './easing.mjs';\nimport { isAnimatable } from './is-animatable.mjs';\nimport { getDefaultTransition } from './default-transitions.mjs';\nimport { warning } from 'hey-listen';\nimport { getAnimatableNone } from '../../render/dom/value-types/animatable-none.mjs';\nimport { instantAnimationState } from '../../utils/use-instant-transition-state.mjs';\nimport { resolveFinalValueInKeyframes } from '../../utils/resolve-value.mjs';\n/**\n * Decide whether a transition is defined on a given Transition.\n * This filters out orchestration options and returns true\n * if any options are left.\n */\n\nfunction isTransitionDefined(_a) {\n  _a.when;\n  _a.delay;\n  _a.delayChildren;\n  _a.staggerChildren;\n  _a.staggerDirection;\n  _a.repeat;\n  _a.repeatType;\n  _a.repeatDelay;\n  _a.from;\n\n  var transition = __rest(_a, [\"when\", \"delay\", \"delayChildren\", \"staggerChildren\", \"staggerDirection\", \"repeat\", \"repeatType\", \"repeatDelay\", \"from\"]);\n\n  return !!Object.keys(transition).length;\n}\n\nvar legacyRepeatWarning = false;\n/**\n * Convert Framer Motion's Transition type into Popmotion-compatible options.\n */\n\nfunction convertTransitionToAnimationOptions(_a) {\n  var ease = _a.ease,\n      times = _a.times,\n      yoyo = _a.yoyo,\n      flip = _a.flip,\n      loop = _a.loop,\n      transition = __rest(_a, [\"ease\", \"times\", \"yoyo\", \"flip\", \"loop\"]);\n\n  var options = __assign({}, transition);\n\n  if (times) options[\"offset\"] = times;\n  /**\n   * Convert any existing durations from seconds to milliseconds\n   */\n\n  if (transition.duration) options[\"duration\"] = secondsToMilliseconds(transition.duration);\n  if (transition.repeatDelay) options.repeatDelay = secondsToMilliseconds(transition.repeatDelay);\n  /**\n   * Map easing names to Popmotion's easing functions\n   */\n\n  if (ease) {\n    options[\"ease\"] = isEasingArray(ease) ? ease.map(easingDefinitionToFunction) : easingDefinitionToFunction(ease);\n  }\n  /**\n   * Support legacy transition API\n   */\n\n\n  if (transition.type === \"tween\") options.type = \"keyframes\";\n  /**\n   * TODO: These options are officially removed from the API.\n   */\n\n  if (yoyo || loop || flip) {\n    warning(!legacyRepeatWarning, \"yoyo, loop and flip have been removed from the API. Replace with repeat and repeatType options.\");\n    legacyRepeatWarning = true;\n\n    if (yoyo) {\n      options.repeatType = \"reverse\";\n    } else if (loop) {\n      options.repeatType = \"loop\";\n    } else if (flip) {\n      options.repeatType = \"mirror\";\n    }\n\n    options.repeat = loop || yoyo || flip || transition.repeat;\n  }\n  /**\n   * TODO: Popmotion 9 has the ability to automatically detect whether to use\n   * a keyframes or spring animation, but does so by detecting velocity and other spring options.\n   * It'd be good to introduce a similar thing here.\n   */\n\n\n  if (transition.type !== \"spring\") options.type = \"keyframes\";\n  return options;\n}\n/**\n * Get the delay for a value by checking Transition with decreasing specificity.\n */\n\n\nfunction getDelayFromTransition(transition, key) {\n  var _a, _b;\n\n  var valueTransition = getValueTransition(transition, key) || {};\n  return (_b = (_a = valueTransition.delay) !== null && _a !== void 0 ? _a : transition.delay) !== null && _b !== void 0 ? _b : 0;\n}\n\nfunction hydrateKeyframes(options) {\n  if (Array.isArray(options.to) && options.to[0] === null) {\n    options.to = __spreadArray([], __read(options.to), false);\n    options.to[0] = options.from;\n  }\n\n  return options;\n}\n\nfunction getPopmotionAnimationOptions(transition, options, key) {\n  var _a;\n\n  if (Array.isArray(options.to)) {\n    (_a = transition.duration) !== null && _a !== void 0 ? _a : transition.duration = 0.8;\n  }\n\n  hydrateKeyframes(options);\n  /**\n   * Get a default transition if none is determined to be defined.\n   */\n\n  if (!isTransitionDefined(transition)) {\n    transition = __assign(__assign({}, transition), getDefaultTransition(key, options.to));\n  }\n\n  return __assign(__assign({}, options), convertTransitionToAnimationOptions(transition));\n}\n/**\n *\n */\n\n\nfunction getAnimation(key, value, target, transition, onComplete) {\n  var _a;\n\n  var valueTransition = getValueTransition(transition, key);\n  var origin = (_a = valueTransition.from) !== null && _a !== void 0 ? _a : value.get();\n  var isTargetAnimatable = isAnimatable(key, target);\n\n  if (origin === \"none\" && isTargetAnimatable && typeof target === \"string\") {\n    /**\n     * If we're trying to animate from \"none\", try and get an animatable version\n     * of the target. This could be improved to work both ways.\n     */\n    origin = getAnimatableNone(key, target);\n  } else if (isZero(origin) && typeof target === \"string\") {\n    origin = getZeroUnit(target);\n  } else if (!Array.isArray(target) && isZero(target) && typeof origin === \"string\") {\n    target = getZeroUnit(origin);\n  }\n\n  var isOriginAnimatable = isAnimatable(key, origin);\n  warning(isOriginAnimatable === isTargetAnimatable, \"You are trying to animate \".concat(key, \" from \\\"\").concat(origin, \"\\\" to \\\"\").concat(target, \"\\\". \").concat(origin, \" is not an animatable value - to enable this animation set \").concat(origin, \" to a value animatable to \").concat(target, \" via the `style` property.\"));\n\n  function start() {\n    var options = {\n      from: origin,\n      to: target,\n      velocity: value.getVelocity(),\n      onComplete: onComplete,\n      onUpdate: function onUpdate(v) {\n        return value.set(v);\n      }\n    };\n    return valueTransition.type === \"inertia\" || valueTransition.type === \"decay\" ? inertia(__assign(__assign({}, options), valueTransition)) : animate(__assign(__assign({}, getPopmotionAnimationOptions(valueTransition, options, key)), {\n      onUpdate: function onUpdate(v) {\n        var _a;\n\n        options.onUpdate(v);\n        (_a = valueTransition.onUpdate) === null || _a === void 0 ? void 0 : _a.call(valueTransition, v);\n      },\n      onComplete: function onComplete() {\n        var _a;\n\n        options.onComplete();\n        (_a = valueTransition.onComplete) === null || _a === void 0 ? void 0 : _a.call(valueTransition);\n      }\n    }));\n  }\n\n  function set() {\n    var _a, _b;\n\n    var finalTarget = resolveFinalValueInKeyframes(target);\n    value.set(finalTarget);\n    onComplete();\n    (_a = valueTransition === null || valueTransition === void 0 ? void 0 : valueTransition.onUpdate) === null || _a === void 0 ? void 0 : _a.call(valueTransition, finalTarget);\n    (_b = valueTransition === null || valueTransition === void 0 ? void 0 : valueTransition.onComplete) === null || _b === void 0 ? void 0 : _b.call(valueTransition);\n    return {\n      stop: function stop() {}\n    };\n  }\n\n  return !isOriginAnimatable || !isTargetAnimatable || valueTransition.type === false ? set : start;\n}\n\nfunction isZero(value) {\n  return value === 0 || typeof value === \"string\" && parseFloat(value) === 0 && value.indexOf(\" \") === -1;\n}\n\nfunction getZeroUnit(potentialUnitType) {\n  return typeof potentialUnitType === \"number\" ? 0 : getAnimatableNone(\"\", potentialUnitType);\n}\n\nfunction getValueTransition(transition, key) {\n  return transition[key] || transition[\"default\"] || transition;\n}\n/**\n * Start animation on a MotionValue. This function is an interface between\n * Framer Motion and Popmotion\n *\n * @internal\n */\n\n\nfunction startAnimation(key, value, target, transition) {\n  if (transition === void 0) {\n    transition = {};\n  }\n\n  if (instantAnimationState.current) {\n    transition = {\n      type: false\n    };\n  }\n\n  return value.start(function (onComplete) {\n    var delayTimer;\n    var controls;\n    var animation = getAnimation(key, value, target, transition, onComplete);\n    var delay = getDelayFromTransition(transition, key);\n\n    var start = function start() {\n      return controls = animation();\n    };\n\n    if (delay) {\n      delayTimer = setTimeout(start, secondsToMilliseconds(delay));\n    } else {\n      start();\n    }\n\n    return function () {\n      clearTimeout(delayTimer);\n      controls === null || controls === void 0 ? void 0 : controls.stop();\n    };\n  });\n}\n\nexport { convertTransitionToAnimationOptions, getDelayFromTransition, getPopmotionAnimationOptions, getValueTransition, getZeroUnit, hydrateKeyframes, isTransitionDefined, isZero, startAnimation };","import { animate } from './index.mjs';\nimport { velocityPerSecond } from '../utils/velocity-per-second.mjs';\nimport { getFrameData } from 'framesync';\n\nfunction inertia(_ref) {\n  var _ref$from = _ref.from,\n      from = _ref$from === void 0 ? 0 : _ref$from,\n      _ref$velocity = _ref.velocity,\n      velocity = _ref$velocity === void 0 ? 0 : _ref$velocity,\n      min = _ref.min,\n      max = _ref.max,\n      _ref$power = _ref.power,\n      power = _ref$power === void 0 ? 0.8 : _ref$power,\n      _ref$timeConstant = _ref.timeConstant,\n      timeConstant = _ref$timeConstant === void 0 ? 750 : _ref$timeConstant,\n      _ref$bounceStiffness = _ref.bounceStiffness,\n      bounceStiffness = _ref$bounceStiffness === void 0 ? 500 : _ref$bounceStiffness,\n      _ref$bounceDamping = _ref.bounceDamping,\n      bounceDamping = _ref$bounceDamping === void 0 ? 10 : _ref$bounceDamping,\n      _ref$restDelta = _ref.restDelta,\n      restDelta = _ref$restDelta === void 0 ? 1 : _ref$restDelta,\n      modifyTarget = _ref.modifyTarget,\n      driver = _ref.driver,\n      _onUpdate = _ref.onUpdate,\n      onComplete = _ref.onComplete,\n      onStop = _ref.onStop;\n  var currentAnimation;\n\n  function isOutOfBounds(v) {\n    return min !== undefined && v < min || max !== undefined && v > max;\n  }\n\n  function boundaryNearest(v) {\n    if (min === undefined) return max;\n    if (max === undefined) return min;\n    return Math.abs(min - v) < Math.abs(max - v) ? min : max;\n  }\n\n  function startAnimation(options) {\n    currentAnimation === null || currentAnimation === void 0 ? void 0 : currentAnimation.stop();\n    currentAnimation = animate(Object.assign(Object.assign({}, options), {\n      driver: driver,\n      onUpdate: function onUpdate(v) {\n        var _a;\n\n        _onUpdate === null || _onUpdate === void 0 ? void 0 : _onUpdate(v);\n        (_a = options.onUpdate) === null || _a === void 0 ? void 0 : _a.call(options, v);\n      },\n      onComplete: onComplete,\n      onStop: onStop\n    }));\n  }\n\n  function startSpring(options) {\n    startAnimation(Object.assign({\n      type: \"spring\",\n      stiffness: bounceStiffness,\n      damping: bounceDamping,\n      restDelta: restDelta\n    }, options));\n  }\n\n  if (isOutOfBounds(from)) {\n    startSpring({\n      from: from,\n      velocity: velocity,\n      to: boundaryNearest(from)\n    });\n  } else {\n    var target = power * velocity + from;\n    if (typeof modifyTarget !== \"undefined\") target = modifyTarget(target);\n    var boundary = boundaryNearest(target);\n    var heading = boundary === min ? -1 : 1;\n    var prev;\n    var current;\n\n    var checkBoundary = function checkBoundary(v) {\n      prev = current;\n      current = v;\n      velocity = velocityPerSecond(v - prev, getFrameData().delta);\n\n      if (heading === 1 && v > boundary || heading === -1 && v < boundary) {\n        startSpring({\n          from: v,\n          to: boundary,\n          velocity: velocity\n        });\n      }\n    };\n\n    startAnimation({\n      type: \"decay\",\n      from: from,\n      velocity: velocity,\n      timeConstant: timeConstant,\n      power: power,\n      restDelta: restDelta,\n      modifyTarget: modifyTarget,\n      onUpdate: isOutOfBounds(target) ? checkBoundary : undefined\n    });\n  }\n\n  return {\n    stop: function stop() {\n      return currentAnimation === null || currentAnimation === void 0 ? void 0 : currentAnimation.stop();\n    }\n  };\n}\n\nexport { inertia };","import { mix, progress, linear, circOut } from 'popmotion';\nvar borders = [\"TopLeft\", \"TopRight\", \"BottomLeft\", \"BottomRight\"];\nvar numBorders = borders.length;\n\nfunction mixValues(target, follow, lead, progress, shouldCrossfadeOpacity, isOnlyMember) {\n  var _a, _b, _c, _d;\n\n  if (shouldCrossfadeOpacity) {\n    target.opacity = mix(0, // (follow?.opacity as number) ?? 0,\n    // TODO Reinstate this if only child\n    (_a = lead.opacity) !== null && _a !== void 0 ? _a : 1, easeCrossfadeIn(progress));\n    target.opacityExit = mix((_b = follow.opacity) !== null && _b !== void 0 ? _b : 1, 0, easeCrossfadeOut(progress));\n  } else if (isOnlyMember) {\n    target.opacity = mix((_c = follow.opacity) !== null && _c !== void 0 ? _c : 1, (_d = lead.opacity) !== null && _d !== void 0 ? _d : 1, progress);\n  }\n  /**\n   * Mix border radius\n   */\n\n\n  for (var i = 0; i < numBorders; i++) {\n    var borderLabel = \"border\".concat(borders[i], \"Radius\");\n    var followRadius = getRadius(follow, borderLabel);\n    var leadRadius = getRadius(lead, borderLabel);\n    if (followRadius === undefined && leadRadius === undefined) continue;\n    followRadius || (followRadius = 0);\n    leadRadius || (leadRadius = 0);\n    /**\n     * Currently we're only crossfading between numerical border radius.\n     * It would be possible to crossfade between percentages for a little\n     * extra bundle size.\n     */\n\n    if (typeof followRadius === \"number\" && typeof leadRadius === \"number\") {\n      var radius = Math.max(mix(followRadius, leadRadius, progress), 0);\n      target[borderLabel] = radius;\n    }\n  }\n  /**\n   * Mix rotation\n   */\n\n\n  if (follow.rotate || lead.rotate) {\n    target.rotate = mix(follow.rotate || 0, lead.rotate || 0, progress);\n  }\n}\n\nfunction getRadius(values, radiusName) {\n  var _a;\n\n  return (_a = values[radiusName]) !== null && _a !== void 0 ? _a : values.borderRadius;\n} // /**\n//  * We only want to mix the background color if there's a follow element\n//  * that we're not crossfading opacity between. For instance with switch\n//  * AnimateSharedLayout animations, this helps the illusion of a continuous\n//  * element being animated but also cuts down on the number of paints triggered\n//  * for elements where opacity is doing that work for us.\n//  */\n// if (\n//     !hasFollowElement &&\n//     latestLeadValues.backgroundColor &&\n//     latestFollowValues.backgroundColor\n// ) {\n//     /**\n//      * This isn't ideal performance-wise as mixColor is creating a new function every frame.\n//      * We could probably create a mixer that runs at the start of the animation but\n//      * the idea behind the crossfader is that it runs dynamically between two potentially\n//      * changing targets (ie opacity or borderRadius may be animating independently via variants)\n//      */\n//     leadState.backgroundColor = followState.backgroundColor = mixColor(\n//         latestFollowValues.backgroundColor as string,\n//         latestLeadValues.backgroundColor as string\n//     )(p)\n// }\n\n\nvar easeCrossfadeIn = compress(0, 0.5, circOut);\nvar easeCrossfadeOut = compress(0.5, 0.95, linear);\n\nfunction compress(min, max, easing) {\n  return function (p) {\n    // Could replace ifs with clamp\n    if (p < min) return 0;\n    if (p > max) return 1;\n    return easing(progress(min, max, p));\n  };\n}\n\nexport { mixValues };","/**\n * Reset an axis to the provided origin box.\n *\n * This is a mutative operation.\n */\nfunction copyAxisInto(axis, originAxis) {\n  axis.min = originAxis.min;\n  axis.max = originAxis.max;\n}\n/**\n * Reset a box to the provided origin box.\n *\n * This is a mutative operation.\n */\n\n\nfunction copyBoxInto(box, originBox) {\n  copyAxisInto(box.x, originBox.x);\n  copyAxisInto(box.y, originBox.y);\n}\n\nexport { copyAxisInto, copyBoxInto };","function isIdentityScale(scale) {\n  return scale === undefined || scale === 1;\n}\n\nfunction hasScale(_a) {\n  var scale = _a.scale,\n      scaleX = _a.scaleX,\n      scaleY = _a.scaleY;\n  return !isIdentityScale(scale) || !isIdentityScale(scaleX) || !isIdentityScale(scaleY);\n}\n\nfunction hasTransform(values) {\n  return hasScale(values) || hasTranslate(values.x) || hasTranslate(values.y) || values.z || values.rotate || values.rotateX || values.rotateY;\n}\n\nfunction hasTranslate(value) {\n  return value && value !== \"0%\";\n}\n\nexport { hasScale, hasTransform };","import { __read } from 'tslib';\nimport { mix } from 'popmotion';\nimport { hasTransform } from '../utils/has-transform.mjs';\n/**\n * Scales a point based on a factor and an originPoint\n */\n\nfunction scalePoint(point, scale, originPoint) {\n  var distanceFromOrigin = point - originPoint;\n  var scaled = scale * distanceFromOrigin;\n  return originPoint + scaled;\n}\n/**\n * Applies a translate/scale delta to a point\n */\n\n\nfunction applyPointDelta(point, translate, scale, originPoint, boxScale) {\n  if (boxScale !== undefined) {\n    point = scalePoint(point, boxScale, originPoint);\n  }\n\n  return scalePoint(point, scale, originPoint) + translate;\n}\n/**\n * Applies a translate/scale delta to an axis\n */\n\n\nfunction applyAxisDelta(axis, translate, scale, originPoint, boxScale) {\n  if (translate === void 0) {\n    translate = 0;\n  }\n\n  if (scale === void 0) {\n    scale = 1;\n  }\n\n  axis.min = applyPointDelta(axis.min, translate, scale, originPoint, boxScale);\n  axis.max = applyPointDelta(axis.max, translate, scale, originPoint, boxScale);\n}\n/**\n * Applies a translate/scale delta to a box\n */\n\n\nfunction applyBoxDelta(box, _a) {\n  var x = _a.x,\n      y = _a.y;\n  applyAxisDelta(box.x, x.translate, x.scale, x.originPoint);\n  applyAxisDelta(box.y, y.translate, y.scale, y.originPoint);\n}\n/**\n * Apply a tree of deltas to a box. We do this to calculate the effect of all the transforms\n * in a tree upon our box before then calculating how to project it into our desired viewport-relative box\n *\n * This is the final nested loop within updateLayoutDelta for future refactoring\n */\n\n\nfunction applyTreeDeltas(box, treeScale, treePath, isSharedTransition) {\n  var _a, _b;\n\n  if (isSharedTransition === void 0) {\n    isSharedTransition = false;\n  }\n\n  var treeLength = treePath.length;\n  if (!treeLength) return; // Reset the treeScale\n\n  treeScale.x = treeScale.y = 1;\n  var node;\n  var delta;\n\n  for (var i = 0; i < treeLength; i++) {\n    node = treePath[i];\n    delta = node.projectionDelta;\n    if (((_b = (_a = node.instance) === null || _a === void 0 ? void 0 : _a.style) === null || _b === void 0 ? void 0 : _b.display) === \"contents\") continue;\n\n    if (isSharedTransition && node.options.layoutScroll && node.scroll && node !== node.root) {\n      transformBox(box, {\n        x: -node.scroll.x,\n        y: -node.scroll.y\n      });\n    }\n\n    if (delta) {\n      // Incoporate each ancestor's scale into a culmulative treeScale for this component\n      treeScale.x *= delta.x.scale;\n      treeScale.y *= delta.y.scale; // Apply each ancestor's calculated delta into this component's recorded layout box\n\n      applyBoxDelta(box, delta);\n    }\n\n    if (isSharedTransition && hasTransform(node.latestValues)) {\n      transformBox(box, node.latestValues);\n    }\n  }\n}\n\nfunction translateAxis(axis, distance) {\n  axis.min = axis.min + distance;\n  axis.max = axis.max + distance;\n}\n/**\n * Apply a transform to an axis from the latest resolved motion values.\n * This function basically acts as a bridge between a flat motion value map\n * and applyAxisDelta\n */\n\n\nfunction transformAxis(axis, transforms, _a) {\n  var _b = __read(_a, 3),\n      key = _b[0],\n      scaleKey = _b[1],\n      originKey = _b[2];\n\n  var axisOrigin = transforms[originKey] !== undefined ? transforms[originKey] : 0.5;\n  var originPoint = mix(axis.min, axis.max, axisOrigin); // Apply the axis delta to the final axis\n\n  applyAxisDelta(axis, transforms[key], transforms[scaleKey], originPoint, transforms.scale);\n}\n/**\n * The names of the motion values we want to apply as translation, scale and origin.\n */\n\n\nvar xKeys = [\"x\", \"scaleX\", \"originX\"];\nvar yKeys = [\"y\", \"scaleY\", \"originY\"];\n/**\n * Apply a transform to a box from the latest resolved motion values.\n */\n\nfunction transformBox(box, transform) {\n  transformAxis(box.x, transform, xKeys);\n  transformAxis(box.y, transform, yKeys);\n}\n\nexport { applyAxisDelta, applyBoxDelta, applyPointDelta, applyTreeDeltas, scalePoint, transformAxis, transformBox, translateAxis };","var isPoint = function isPoint(point) {\n  return point.hasOwnProperty('x') && point.hasOwnProperty('y');\n};\n\nexport { isPoint };","import { isPoint } from './is-point.mjs';\n\nvar isPoint3D = function isPoint3D(point) {\n  return isPoint(point) && point.hasOwnProperty('z');\n};\n\nexport { isPoint3D };","import { isPoint } from './is-point.mjs';\nimport { isPoint3D } from './is-point-3d.mjs';\nimport { isNum } from './inc.mjs';\n\nvar distance1D = function distance1D(a, b) {\n  return Math.abs(a - b);\n};\n\nfunction distance(a, b) {\n  if (isNum(a) && isNum(b)) {\n    return distance1D(a, b);\n  } else if (isPoint(a) && isPoint(b)) {\n    var xDelta = distance1D(a.x, b.x);\n    var yDelta = distance1D(a.y, b.y);\n    var zDelta = isPoint3D(a) && isPoint3D(b) ? distance1D(a.z, b.z) : 0;\n    return Math.sqrt(Math.pow(xDelta, 2) + Math.pow(yDelta, 2) + Math.pow(zDelta, 2));\n  }\n}\n\nexport { distance };","import { mix, distance } from 'popmotion';\n\nfunction calcLength(axis) {\n  return axis.max - axis.min;\n}\n\nfunction isNear(value, target, maxDistance) {\n  if (target === void 0) {\n    target = 0;\n  }\n\n  if (maxDistance === void 0) {\n    maxDistance = 0.01;\n  }\n\n  return distance(value, target) < maxDistance;\n}\n\nfunction calcAxisDelta(delta, source, target, origin) {\n  if (origin === void 0) {\n    origin = 0.5;\n  }\n\n  delta.origin = origin;\n  delta.originPoint = mix(source.min, source.max, delta.origin);\n  delta.scale = calcLength(target) / calcLength(source);\n  if (isNear(delta.scale, 1, 0.0001) || isNaN(delta.scale)) delta.scale = 1;\n  delta.translate = mix(target.min, target.max, delta.origin) - delta.originPoint;\n  if (isNear(delta.translate) || isNaN(delta.translate)) delta.translate = 0;\n}\n\nfunction calcBoxDelta(delta, source, target, origin) {\n  calcAxisDelta(delta.x, source.x, target.x, origin === null || origin === void 0 ? void 0 : origin.originX);\n  calcAxisDelta(delta.y, source.y, target.y, origin === null || origin === void 0 ? void 0 : origin.originY);\n}\n\nfunction calcRelativeAxis(target, relative, parent) {\n  target.min = parent.min + relative.min;\n  target.max = target.min + calcLength(relative);\n}\n\nfunction calcRelativeBox(target, relative, parent) {\n  calcRelativeAxis(target.x, relative.x, parent.x);\n  calcRelativeAxis(target.y, relative.y, parent.y);\n}\n\nfunction calcRelativeAxisPosition(target, layout, parent) {\n  target.min = layout.min - parent.min;\n  target.max = target.min + calcLength(layout);\n}\n\nfunction calcRelativePosition(target, layout, parent) {\n  calcRelativeAxisPosition(target.x, layout.x, parent.x);\n  calcRelativeAxisPosition(target.y, layout.y, parent.y);\n}\n\nexport { calcAxisDelta, calcBoxDelta, calcLength, calcRelativeAxis, calcRelativeAxisPosition, calcRelativeBox, calcRelativePosition, isNear };","import { __read } from 'tslib';\nimport { mix } from 'popmotion';\nimport { percent } from 'style-value-types';\nimport { scalePoint } from './delta-apply.mjs';\n/**\n * Remove a delta from a point. This is essentially the steps of applyPointDelta in reverse\n */\n\nfunction removePointDelta(point, translate, scale, originPoint, boxScale) {\n  point -= translate;\n  point = scalePoint(point, 1 / scale, originPoint);\n\n  if (boxScale !== undefined) {\n    point = scalePoint(point, 1 / boxScale, originPoint);\n  }\n\n  return point;\n}\n/**\n * Remove a delta from an axis. This is essentially the steps of applyAxisDelta in reverse\n */\n\n\nfunction removeAxisDelta(axis, translate, scale, origin, boxScale, originAxis, sourceAxis) {\n  if (translate === void 0) {\n    translate = 0;\n  }\n\n  if (scale === void 0) {\n    scale = 1;\n  }\n\n  if (origin === void 0) {\n    origin = 0.5;\n  }\n\n  if (originAxis === void 0) {\n    originAxis = axis;\n  }\n\n  if (sourceAxis === void 0) {\n    sourceAxis = axis;\n  }\n\n  if (percent.test(translate)) {\n    translate = parseFloat(translate);\n    var relativeProgress = mix(sourceAxis.min, sourceAxis.max, translate / 100);\n    translate = relativeProgress - sourceAxis.min;\n  }\n\n  if (typeof translate !== \"number\") return;\n  var originPoint = mix(originAxis.min, originAxis.max, origin);\n  if (axis === originAxis) originPoint -= translate;\n  axis.min = removePointDelta(axis.min, translate, scale, originPoint, boxScale);\n  axis.max = removePointDelta(axis.max, translate, scale, originPoint, boxScale);\n}\n/**\n * Remove a transforms from an axis. This is essentially the steps of applyAxisTransforms in reverse\n * and acts as a bridge between motion values and removeAxisDelta\n */\n\n\nfunction removeAxisTransforms(axis, transforms, _a, origin, sourceAxis) {\n  var _b = __read(_a, 3),\n      key = _b[0],\n      scaleKey = _b[1],\n      originKey = _b[2];\n\n  removeAxisDelta(axis, transforms[key], transforms[scaleKey], transforms[originKey], transforms.scale, origin, sourceAxis);\n}\n/**\n * The names of the motion values we want to apply as translation, scale and origin.\n */\n\n\nvar xKeys = [\"x\", \"scaleX\", \"originX\"];\nvar yKeys = [\"y\", \"scaleY\", \"originY\"];\n/**\n * Remove a transforms from an box. This is essentially the steps of applyAxisBox in reverse\n * and acts as a bridge between motion values and removeAxisDelta\n */\n\nfunction removeBoxTransforms(box, transforms, originBox, sourceBox) {\n  removeAxisTransforms(box.x, transforms, xKeys, originBox === null || originBox === void 0 ? void 0 : originBox.x, sourceBox === null || sourceBox === void 0 ? void 0 : sourceBox.x);\n  removeAxisTransforms(box.y, transforms, yKeys, originBox === null || originBox === void 0 ? void 0 : originBox.y, sourceBox === null || sourceBox === void 0 ? void 0 : sourceBox.y);\n}\n\nexport { removeAxisDelta, removeAxisTransforms, removeBoxTransforms, removePointDelta };","function isAxisDeltaZero(delta) {\n  return delta.translate === 0 && delta.scale === 1;\n}\n\nfunction isDeltaZero(delta) {\n  return isAxisDeltaZero(delta.x) && isAxisDeltaZero(delta.y);\n}\n\nfunction boxEquals(a, b) {\n  return a.x.min === b.x.min && a.x.max === b.x.max && a.y.min === b.y.min && a.y.max === b.y.max;\n}\n\nexport { boxEquals, isDeltaZero };","import { addUniqueItem, removeItem } from '../../utils/array.mjs';\n\nvar NodeStack =\n/** @class */\nfunction () {\n  function NodeStack() {\n    this.members = [];\n  }\n\n  NodeStack.prototype.add = function (node) {\n    addUniqueItem(this.members, node);\n    node.scheduleRender();\n  };\n\n  NodeStack.prototype.remove = function (node) {\n    removeItem(this.members, node);\n\n    if (node === this.prevLead) {\n      this.prevLead = undefined;\n    }\n\n    if (node === this.lead) {\n      var prevLead = this.members[this.members.length - 1];\n\n      if (prevLead) {\n        this.promote(prevLead);\n      }\n    }\n  };\n\n  NodeStack.prototype.relegate = function (node) {\n    var indexOfNode = this.members.findIndex(function (member) {\n      return node === member;\n    });\n    if (indexOfNode === 0) return false;\n    /**\n     * Find the next projection node that is present\n     */\n\n    var prevLead;\n\n    for (var i = indexOfNode; i >= 0; i--) {\n      var member = this.members[i];\n\n      if (member.isPresent !== false) {\n        prevLead = member;\n        break;\n      }\n    }\n\n    if (prevLead) {\n      this.promote(prevLead);\n      return true;\n    } else {\n      return false;\n    }\n  };\n\n  NodeStack.prototype.promote = function (node, preserveFollowOpacity) {\n    var _a;\n\n    var prevLead = this.lead;\n    if (node === prevLead) return;\n    this.prevLead = prevLead;\n    this.lead = node;\n    node.show();\n\n    if (prevLead) {\n      prevLead.instance && prevLead.scheduleRender();\n      node.scheduleRender();\n      node.resumeFrom = prevLead;\n\n      if (preserveFollowOpacity) {\n        node.resumeFrom.preserveOpacity = true;\n      }\n\n      if (prevLead.snapshot) {\n        node.snapshot = prevLead.snapshot;\n        node.snapshot.latestValues = prevLead.animationValues || prevLead.latestValues;\n        node.snapshot.isShared = true;\n      }\n\n      if ((_a = node.root) === null || _a === void 0 ? void 0 : _a.isUpdating) {\n        node.isLayoutDirty = true;\n      }\n\n      var crossfade = node.options.crossfade;\n\n      if (crossfade === false) {\n        prevLead.hide();\n      }\n      /**\n       * TODO:\n       *   - Test border radius when previous node was deleted\n       *   - boxShadow mixing\n       *   - Shared between element A in scrolled container and element B (scroll stays the same or changes)\n       *   - Shared between element A in transformed container and element B (transform stays the same or changes)\n       *   - Shared between element A in scrolled page and element B (scroll stays the same or changes)\n       * ---\n       *   - Crossfade opacity of root nodes\n       *   - layoutId changes after animation\n       *   - layoutId changes mid animation\n       */\n\n    }\n  };\n\n  NodeStack.prototype.exitAnimationComplete = function () {\n    this.members.forEach(function (node) {\n      var _a, _b, _c, _d, _e;\n\n      (_b = (_a = node.options).onExitComplete) === null || _b === void 0 ? void 0 : _b.call(_a);\n      (_e = (_c = node.resumingFrom) === null || _c === void 0 ? void 0 : (_d = _c.options).onExitComplete) === null || _e === void 0 ? void 0 : _e.call(_d);\n    });\n  };\n\n  NodeStack.prototype.scheduleRender = function () {\n    this.members.forEach(function (node) {\n      node.instance && node.scheduleRender(false);\n    });\n  };\n  /**\n   * Clear any leads that have been removed this render to prevent them from being\n   * used in future animations and to prevent memory leaks\n   */\n\n\n  NodeStack.prototype.removeLeadSnapshot = function () {\n    if (this.lead && this.lead.snapshot) {\n      this.lead.snapshot = undefined;\n    }\n  };\n\n  return NodeStack;\n}();\n\nexport { NodeStack };","var scaleCorrectors = {};\n\nfunction addScaleCorrector(correctors) {\n  Object.assign(scaleCorrectors, correctors);\n}\n\nexport { addScaleCorrector, scaleCorrectors };","var identityProjection = \"translate3d(0px, 0px, 0) scale(1, 1)\";\n\nfunction buildProjectionTransform(delta, treeScale, latestTransform) {\n  /**\n   * The translations we use to calculate are always relative to the viewport coordinate space.\n   * But when we apply scales, we also scale the coordinate space of an element and its children.\n   * For instance if we have a treeScale (the culmination of all parent scales) of 0.5 and we need\n   * to move an element 100 pixels, we actually need to move it 200 in within that scaled space.\n   */\n  var xTranslate = delta.x.translate / treeScale.x;\n  var yTranslate = delta.y.translate / treeScale.y;\n  var transform = \"translate3d(\".concat(xTranslate, \"px, \").concat(yTranslate, \"px, 0) \");\n\n  if (latestTransform) {\n    var rotate = latestTransform.rotate,\n        rotateX = latestTransform.rotateX,\n        rotateY = latestTransform.rotateY;\n    if (rotate) transform += \"rotate(\".concat(rotate, \"deg) \");\n    if (rotateX) transform += \"rotateX(\".concat(rotateX, \"deg) \");\n    if (rotateY) transform += \"rotateY(\".concat(rotateY, \"deg) \");\n  }\n\n  transform += \"scale(\".concat(delta.x.scale, \", \").concat(delta.y.scale, \")\");\n  return transform === identityProjection ? \"none\" : transform;\n}\n\nexport { buildProjectionTransform, identityProjection };","function eachAxis(callback) {\n  return [callback(\"x\"), callback(\"y\")];\n}\n\nexport { eachAxis };","/**\n * A list of all transformable axes. We'll use this list to generated a version\n * of each axes for each transform.\n */\nvar transformAxes = [\"\", \"X\", \"Y\", \"Z\"];\n/**\n * An ordered array of each transformable value. By default, transform values\n * will be sorted to this order.\n */\n\nvar order = [\"translate\", \"scale\", \"rotate\", \"skew\"];\n/**\n * Generate a list of every possible transform key.\n */\n\nvar transformProps = [\"transformPerspective\", \"x\", \"y\", \"z\"];\norder.forEach(function (operationKey) {\n  return transformAxes.forEach(function (axesKey) {\n    return transformProps.push(operationKey + axesKey);\n  });\n});\n/**\n * A function to use with Array.sort to sort transform keys by their default order.\n */\n\nfunction sortTransformProps(a, b) {\n  return transformProps.indexOf(a) - transformProps.indexOf(b);\n}\n/**\n * A quick lookup for transform props.\n */\n\n\nvar transformPropSet = new Set(transformProps);\n\nfunction isTransformProp(key) {\n  return transformPropSet.has(key);\n}\n/**\n * A quick lookup for transform origin props\n */\n\n\nvar transformOriginProps = new Set([\"originX\", \"originY\", \"originZ\"]);\n\nfunction isTransformOriginProp(key) {\n  return transformOriginProps.has(key);\n}\n\nexport { isTransformOriginProp, isTransformProp, sortTransformProps, transformAxes, transformProps };","var compareByDepth = function compareByDepth(a, b) {\n  return a.depth - b.depth;\n};\n\nexport { compareByDepth };","import { addUniqueItem, removeItem } from '../../utils/array.mjs';\nimport { compareByDepth } from './compare-by-depth.mjs';\n\nvar FlatTree =\n/** @class */\nfunction () {\n  function FlatTree() {\n    this.children = [];\n    this.isDirty = false;\n  }\n\n  FlatTree.prototype.add = function (child) {\n    addUniqueItem(this.children, child);\n    this.isDirty = true;\n  };\n\n  FlatTree.prototype.remove = function (child) {\n    removeItem(this.children, child);\n    this.isDirty = true;\n  };\n\n  FlatTree.prototype.forEach = function (callback) {\n    this.isDirty && this.children.sort(compareByDepth);\n    this.isDirty = false;\n    this.children.forEach(callback);\n  };\n\n  return FlatTree;\n}();\n\nexport { FlatTree };","import { isCustomValue } from '../../utils/resolve-value.mjs';\nimport { isMotionValue } from './is-motion-value.mjs';\n/**\n * If the provided value is a MotionValue, this returns the actual value, otherwise just the value itself\n *\n * TODO: Remove and move to library\n *\n * @internal\n */\n\nfunction resolveMotionValue(value) {\n  var unwrappedValue = isMotionValue(value) ? value.get() : value;\n  return isCustomValue(unwrappedValue) ? unwrappedValue.toValue() : unwrappedValue;\n}\n\nexport { resolveMotionValue };","import { __spreadArray, __read, __assign } from 'tslib';\nimport sync, { cancelSync, flushSync } from 'framesync';\nimport { mix } from 'popmotion';\nimport { animate } from '../../animation/animate.mjs';\nimport { SubscriptionManager } from '../../utils/subscription-manager.mjs';\nimport { mixValues } from '../animation/mix-values.mjs';\nimport { copyBoxInto } from '../geometry/copy.mjs';\nimport { translateAxis, transformBox, applyBoxDelta, applyTreeDeltas } from '../geometry/delta-apply.mjs';\nimport { calcRelativePosition, calcRelativeBox, calcBoxDelta, calcLength } from '../geometry/delta-calc.mjs';\nimport { removeBoxTransforms } from '../geometry/delta-remove.mjs';\nimport { createBox, createDelta } from '../geometry/models.mjs';\nimport { getValueTransition } from '../../animation/utils/transitions.mjs';\nimport { boxEquals, isDeltaZero } from '../geometry/utils.mjs';\nimport { NodeStack } from '../shared/stack.mjs';\nimport { scaleCorrectors } from '../styles/scale-correction.mjs';\nimport { buildProjectionTransform } from '../styles/transform.mjs';\nimport { eachAxis } from '../utils/each-axis.mjs';\nimport { hasTransform, hasScale } from '../utils/has-transform.mjs';\nimport { transformAxes } from '../../render/html/utils/transform.mjs';\nimport { FlatTree } from '../../render/utils/flat-tree.mjs';\nimport { resolveMotionValue } from '../../value/utils/resolve-motion-value.mjs';\n/**\n * We use 1000 as the animation target as 0-1000 maps better to pixels than 0-1\n * which has a noticeable difference in spring animations\n */\n\nvar animationTarget = 1000;\n/**\n * This should only ever be modified on the client otherwise it'll\n * persist through server requests. If we need instanced states we\n * could lazy-init via root.\n */\n\nvar globalProjectionState = {\n  /**\n   * Global flag as to whether the tree has animated since the last time\n   * we resized the window\n   */\n  hasAnimatedSinceResize: true,\n\n  /**\n   * We set this to true once, on the first update. Any nodes added to the tree beyond that\n   * update will be given a `data-projection-id` attribute.\n   */\n  hasEverUpdated: false\n};\n\nfunction createProjectionNode(_a) {\n  var attachResizeListener = _a.attachResizeListener,\n      defaultParent = _a.defaultParent,\n      measureScroll = _a.measureScroll,\n      resetTransform = _a.resetTransform;\n  return (\n    /** @class */\n    function () {\n      function ProjectionNode(id, latestValues, parent) {\n        var _this = this;\n\n        if (latestValues === void 0) {\n          latestValues = {};\n        }\n\n        if (parent === void 0) {\n          parent = defaultParent === null || defaultParent === void 0 ? void 0 : defaultParent();\n        }\n        /**\n         * A Set containing all this component's children. This is used to iterate\n         * through the children.\n         *\n         * TODO: This could be faster to iterate as a flat array stored on the root node.\n         */\n\n\n        this.children = new Set();\n        /**\n         * Options for the node. We use this to configure what kind of layout animations\n         * we should perform (if any).\n         */\n\n        this.options = {};\n        /**\n         * We use this to detect when its safe to shut down part of a projection tree.\n         * We have to keep projecting children for scale correction and relative projection\n         * until all their parents stop performing layout animations.\n         */\n\n        this.isTreeAnimating = false;\n        this.isAnimationBlocked = false;\n        /**\n         * Flag to true if we think this layout has been changed. We can't always know this,\n         * currently we set it to true every time a component renders, or if it has a layoutDependency\n         * if that has changed between renders. Additionally, components can be grouped by LayoutGroup\n         * and if one node is dirtied, they all are.\n         */\n\n        this.isLayoutDirty = false;\n        /**\n         * Block layout updates for instant layout transitions throughout the tree.\n         */\n\n        this.updateManuallyBlocked = false;\n        this.updateBlockedByResize = false;\n        /**\n         * Set to true between the start of the first `willUpdate` call and the end of the `didUpdate`\n         * call.\n         */\n\n        this.isUpdating = false;\n        /**\n         * If this is an SVG element we currently disable projection transforms\n         */\n\n        this.isSVG = false;\n        /**\n         * Flag to true (during promotion) if a node doing an instant layout transition needs to reset\n         * its projection styles.\n         */\n\n        this.needsReset = false;\n        /**\n         * Flags whether this node should have its transform reset prior to measuring.\n         */\n\n        this.shouldResetTransform = false;\n        /**\n         * An object representing the calculated contextual/accumulated/tree scale.\n         * This will be used to scale calculcated projection transforms, as these are\n         * calculated in screen-space but need to be scaled for elements to actually\n         * make it to their calculated destinations.\n         *\n         * TODO: Lazy-init\n         */\n\n        this.treeScale = {\n          x: 1,\n          y: 1\n        };\n        /**\n         *\n         */\n\n        this.eventHandlers = new Map(); // Note: Currently only running on root node\n\n        this.potentialNodes = new Map();\n\n        this.checkUpdateFailed = function () {\n          if (_this.isUpdating) {\n            _this.isUpdating = false;\n\n            _this.clearAllSnapshots();\n          }\n        };\n\n        this.updateProjection = function () {\n          _this.nodes.forEach(resolveTargetDelta);\n\n          _this.nodes.forEach(calcProjection);\n        };\n\n        this.hasProjected = false;\n        this.isVisible = true;\n        /**\n         * Animation\n         */\n\n        this.animationProgress = 0;\n        /**\n         * Shared layout\n         */\n        // TODO Only running on root node\n\n        this.sharedNodes = new Map();\n        this.id = id;\n        this.latestValues = latestValues;\n        this.root = parent ? parent.root || parent : this;\n        this.path = parent ? __spreadArray(__spreadArray([], __read(parent.path), false), [parent], false) : [];\n        this.parent = parent;\n        this.depth = parent ? parent.depth + 1 : 0;\n        id && this.root.registerPotentialNode(id, this);\n\n        for (var i = 0; i < this.path.length; i++) {\n          this.path[i].shouldResetTransform = true;\n        }\n\n        if (this.root === this) this.nodes = new FlatTree();\n      }\n\n      ProjectionNode.prototype.addEventListener = function (name, handler) {\n        if (!this.eventHandlers.has(name)) {\n          this.eventHandlers.set(name, new SubscriptionManager());\n        }\n\n        return this.eventHandlers.get(name).add(handler);\n      };\n\n      ProjectionNode.prototype.notifyListeners = function (name) {\n        var args = [];\n\n        for (var _i = 1; _i < arguments.length; _i++) {\n          args[_i - 1] = arguments[_i];\n        }\n\n        var subscriptionManager = this.eventHandlers.get(name);\n        subscriptionManager === null || subscriptionManager === void 0 ? void 0 : subscriptionManager.notify.apply(subscriptionManager, __spreadArray([], __read(args), false));\n      };\n\n      ProjectionNode.prototype.hasListeners = function (name) {\n        return this.eventHandlers.has(name);\n      };\n\n      ProjectionNode.prototype.registerPotentialNode = function (id, node) {\n        this.potentialNodes.set(id, node);\n      };\n      /**\n       * Lifecycles\n       */\n\n\n      ProjectionNode.prototype.mount = function (instance, isLayoutDirty) {\n        var _this = this;\n\n        var _a;\n\n        if (isLayoutDirty === void 0) {\n          isLayoutDirty = false;\n        }\n\n        if (this.instance) return;\n        this.isSVG = instance instanceof SVGElement && instance.tagName !== \"svg\";\n        this.instance = instance;\n        var _b = this.options,\n            layoutId = _b.layoutId,\n            layout = _b.layout,\n            visualElement = _b.visualElement;\n\n        if (visualElement && !visualElement.getInstance()) {\n          visualElement.mount(instance);\n        }\n\n        this.root.nodes.add(this);\n        (_a = this.parent) === null || _a === void 0 ? void 0 : _a.children.add(this);\n        this.id && this.root.potentialNodes.delete(this.id);\n\n        if (isLayoutDirty && (layout || layoutId)) {\n          this.isLayoutDirty = true;\n        }\n\n        if (attachResizeListener) {\n          var unblockTimeout_1;\n\n          var resizeUnblockUpdate_1 = function resizeUnblockUpdate_1() {\n            return _this.root.updateBlockedByResize = false;\n          };\n\n          attachResizeListener(instance, function () {\n            _this.root.updateBlockedByResize = true;\n            clearTimeout(unblockTimeout_1);\n            unblockTimeout_1 = setTimeout(resizeUnblockUpdate_1, 250);\n\n            if (globalProjectionState.hasAnimatedSinceResize) {\n              globalProjectionState.hasAnimatedSinceResize = false;\n\n              _this.nodes.forEach(finishAnimation);\n            }\n          });\n        }\n\n        if (layoutId) {\n          this.root.registerSharedNode(layoutId, this);\n        } // Only register the handler if it requires layout animation\n\n\n        if (this.options.animate !== false && visualElement && (layoutId || layout)) {\n          this.addEventListener(\"didUpdate\", function (_a) {\n            var _b, _c, _d, _e, _f;\n\n            var delta = _a.delta,\n                hasLayoutChanged = _a.hasLayoutChanged,\n                hasRelativeTargetChanged = _a.hasRelativeTargetChanged,\n                newLayout = _a.layout;\n\n            if (_this.isTreeAnimationBlocked()) {\n              _this.target = undefined;\n              _this.relativeTarget = undefined;\n              return;\n            } // TODO: Check here if an animation exists\n\n\n            var layoutTransition = (_c = (_b = _this.options.transition) !== null && _b !== void 0 ? _b : visualElement.getDefaultTransition()) !== null && _c !== void 0 ? _c : defaultLayoutTransition;\n            var onLayoutAnimationComplete = visualElement.getProps().onLayoutAnimationComplete;\n            /**\n             * The target layout of the element might stay the same,\n             * but its position relative to its parent has changed.\n             */\n\n            var targetChanged = !_this.targetLayout || !boxEquals(_this.targetLayout, newLayout) || hasRelativeTargetChanged;\n            /**\n             * If the layout hasn't seemed to have changed, it might be that the\n             * element is visually in the same place in the document but its position\n             * relative to its parent has indeed changed. So here we check for that.\n             */\n\n            var hasOnlyRelativeTargetChanged = !hasLayoutChanged && hasRelativeTargetChanged;\n\n            if (((_d = _this.resumeFrom) === null || _d === void 0 ? void 0 : _d.instance) || hasOnlyRelativeTargetChanged || hasLayoutChanged && (targetChanged || !_this.currentAnimation)) {\n              if (_this.resumeFrom) {\n                _this.resumingFrom = _this.resumeFrom;\n                _this.resumingFrom.resumingFrom = undefined;\n              }\n\n              _this.setAnimationOrigin(delta, hasOnlyRelativeTargetChanged);\n\n              _this.startAnimation(__assign(__assign({}, getValueTransition(layoutTransition, \"layout\")), {\n                onComplete: onLayoutAnimationComplete\n              }));\n            } else {\n              _this.isLead() && ((_f = (_e = _this.options).onExitComplete) === null || _f === void 0 ? void 0 : _f.call(_e));\n            }\n\n            _this.targetLayout = newLayout;\n          });\n        }\n      };\n\n      ProjectionNode.prototype.unmount = function () {\n        var _a, _b;\n\n        this.options.layoutId && this.willUpdate();\n        this.root.nodes.remove(this);\n        (_a = this.getStack()) === null || _a === void 0 ? void 0 : _a.remove(this);\n        (_b = this.parent) === null || _b === void 0 ? void 0 : _b.children.delete(this);\n        this.instance = undefined;\n        cancelSync.preRender(this.updateProjection);\n      }; // only on the root\n\n\n      ProjectionNode.prototype.blockUpdate = function () {\n        this.updateManuallyBlocked = true;\n      };\n\n      ProjectionNode.prototype.unblockUpdate = function () {\n        this.updateManuallyBlocked = false;\n      };\n\n      ProjectionNode.prototype.isUpdateBlocked = function () {\n        return this.updateManuallyBlocked || this.updateBlockedByResize;\n      };\n\n      ProjectionNode.prototype.isTreeAnimationBlocked = function () {\n        var _a;\n\n        return this.isAnimationBlocked || ((_a = this.parent) === null || _a === void 0 ? void 0 : _a.isTreeAnimationBlocked()) || false;\n      }; // Note: currently only running on root node\n\n\n      ProjectionNode.prototype.startUpdate = function () {\n        var _a;\n\n        if (this.isUpdateBlocked()) return;\n        this.isUpdating = true;\n        (_a = this.nodes) === null || _a === void 0 ? void 0 : _a.forEach(resetRotation);\n      };\n\n      ProjectionNode.prototype.willUpdate = function (shouldNotifyListeners) {\n        var _a, _b, _c;\n\n        if (shouldNotifyListeners === void 0) {\n          shouldNotifyListeners = true;\n        }\n\n        if (this.root.isUpdateBlocked()) {\n          (_b = (_a = this.options).onExitComplete) === null || _b === void 0 ? void 0 : _b.call(_a);\n          return;\n        }\n\n        !this.root.isUpdating && this.root.startUpdate();\n        if (this.isLayoutDirty) return;\n        this.isLayoutDirty = true;\n\n        for (var i = 0; i < this.path.length; i++) {\n          var node = this.path[i];\n          node.shouldResetTransform = true;\n          /**\n           * TODO: Check we haven't updated the scroll\n           * since the last didUpdate\n           */\n\n          node.updateScroll();\n        }\n\n        var _d = this.options,\n            layoutId = _d.layoutId,\n            layout = _d.layout;\n        if (layoutId === undefined && !layout) return;\n        var transformTemplate = (_c = this.options.visualElement) === null || _c === void 0 ? void 0 : _c.getProps().transformTemplate;\n        this.prevTransformTemplateValue = transformTemplate === null || transformTemplate === void 0 ? void 0 : transformTemplate(this.latestValues, \"\");\n        this.updateSnapshot();\n        shouldNotifyListeners && this.notifyListeners(\"willUpdate\");\n      }; // Note: Currently only running on root node\n\n\n      ProjectionNode.prototype.didUpdate = function () {\n        var updateWasBlocked = this.isUpdateBlocked(); // When doing an instant transition, we skip the layout update,\n        // but should still clean up the measurements so that the next\n        // snapshot could be taken correctly.\n\n        if (updateWasBlocked) {\n          this.unblockUpdate();\n          this.clearAllSnapshots();\n          this.nodes.forEach(clearMeasurements);\n          return;\n        }\n\n        if (!this.isUpdating) return;\n        this.isUpdating = false;\n        /**\n         * Search for and mount newly-added projection elements.\n         *\n         * TODO: Every time a new component is rendered we could search up the tree for\n         * the closest mounted node and query from there rather than document.\n         */\n\n        if (this.potentialNodes.size) {\n          this.potentialNodes.forEach(mountNodeEarly);\n          this.potentialNodes.clear();\n        }\n        /**\n         * Write\n         */\n\n\n        this.nodes.forEach(resetTransformStyle);\n        /**\n         * Read ==================\n         */\n        // Update layout measurements of updated children\n\n        this.nodes.forEach(updateLayout);\n        /**\n         * Write\n         */\n        // Notify listeners that the layout is updated\n\n        this.nodes.forEach(notifyLayoutUpdate);\n        this.clearAllSnapshots(); // Flush any scheduled updates\n\n        flushSync.update();\n        flushSync.preRender();\n        flushSync.render();\n      };\n\n      ProjectionNode.prototype.clearAllSnapshots = function () {\n        this.nodes.forEach(clearSnapshot);\n        this.sharedNodes.forEach(removeLeadSnapshots);\n      };\n\n      ProjectionNode.prototype.scheduleUpdateProjection = function () {\n        sync.preRender(this.updateProjection, false, true);\n      };\n\n      ProjectionNode.prototype.scheduleCheckAfterUnmount = function () {\n        var _this = this;\n        /**\n         * If the unmounting node is in a layoutGroup and did trigger a willUpdate,\n         * we manually call didUpdate to give a chance to the siblings to animate.\n         * Otherwise, cleanup all snapshots to prevents future nodes from reusing them.\n         */\n\n\n        sync.postRender(function () {\n          if (_this.isLayoutDirty) {\n            _this.root.didUpdate();\n          } else {\n            _this.root.checkUpdateFailed();\n          }\n        });\n      };\n      /**\n       * Update measurements\n       */\n\n\n      ProjectionNode.prototype.updateSnapshot = function () {\n        if (this.snapshot || !this.instance) return;\n        var measured = this.measure();\n        var layout = this.removeTransform(this.removeElementScroll(measured));\n        roundBox(layout);\n        this.snapshot = {\n          measured: measured,\n          layout: layout,\n          latestValues: {}\n        };\n      };\n\n      ProjectionNode.prototype.updateLayout = function () {\n        var _a;\n\n        if (!this.instance) return; // TODO: Incorporate into a forwarded scroll offset\n\n        this.updateScroll();\n\n        if (!(this.options.alwaysMeasureLayout && this.isLead()) && !this.isLayoutDirty) {\n          return;\n        }\n        /**\n         * When a node is mounted, it simply resumes from the prevLead's\n         * snapshot instead of taking a new one, but the ancestors scroll\n         * might have updated while the prevLead is unmounted. We need to\n         * update the scroll again to make sure the layout we measure is\n         * up to date.\n         */\n\n\n        if (this.resumeFrom && !this.resumeFrom.instance) {\n          for (var i = 0; i < this.path.length; i++) {\n            var node = this.path[i];\n            node.updateScroll();\n          }\n        }\n\n        var measured = this.measure();\n        roundBox(measured);\n        var prevLayout = this.layout;\n        this.layout = {\n          measured: measured,\n          actual: this.removeElementScroll(measured)\n        };\n        this.layoutCorrected = createBox();\n        this.isLayoutDirty = false;\n        this.projectionDelta = undefined;\n        this.notifyListeners(\"measure\", this.layout.actual);\n        (_a = this.options.visualElement) === null || _a === void 0 ? void 0 : _a.notifyLayoutMeasure(this.layout.actual, prevLayout === null || prevLayout === void 0 ? void 0 : prevLayout.actual);\n      };\n\n      ProjectionNode.prototype.updateScroll = function () {\n        if (this.options.layoutScroll && this.instance) {\n          this.scroll = measureScroll(this.instance);\n        }\n      };\n\n      ProjectionNode.prototype.resetTransform = function () {\n        var _a;\n\n        if (!resetTransform) return;\n        var isResetRequested = this.isLayoutDirty || this.shouldResetTransform;\n        var hasProjection = this.projectionDelta && !isDeltaZero(this.projectionDelta);\n        var transformTemplate = (_a = this.options.visualElement) === null || _a === void 0 ? void 0 : _a.getProps().transformTemplate;\n        var transformTemplateValue = transformTemplate === null || transformTemplate === void 0 ? void 0 : transformTemplate(this.latestValues, \"\");\n        var transformTemplateHasChanged = transformTemplateValue !== this.prevTransformTemplateValue;\n\n        if (isResetRequested && (hasProjection || hasTransform(this.latestValues) || transformTemplateHasChanged)) {\n          resetTransform(this.instance, transformTemplateValue);\n          this.shouldResetTransform = false;\n          this.scheduleRender();\n        }\n      };\n\n      ProjectionNode.prototype.measure = function () {\n        var visualElement = this.options.visualElement;\n        if (!visualElement) return createBox();\n        var box = visualElement.measureViewportBox(); // Remove viewport scroll to give page-relative coordinates\n\n        var scroll = this.root.scroll;\n\n        if (scroll) {\n          translateAxis(box.x, scroll.x);\n          translateAxis(box.y, scroll.y);\n        }\n\n        return box;\n      };\n\n      ProjectionNode.prototype.removeElementScroll = function (box) {\n        var boxWithoutScroll = createBox();\n        copyBoxInto(boxWithoutScroll, box);\n        /**\n         * Performance TODO: Keep a cumulative scroll offset down the tree\n         * rather than loop back up the path.\n         */\n\n        for (var i = 0; i < this.path.length; i++) {\n          var node = this.path[i];\n          var scroll_1 = node.scroll,\n              options = node.options;\n\n          if (node !== this.root && scroll_1 && options.layoutScroll) {\n            translateAxis(boxWithoutScroll.x, scroll_1.x);\n            translateAxis(boxWithoutScroll.y, scroll_1.y);\n          }\n        }\n\n        return boxWithoutScroll;\n      };\n\n      ProjectionNode.prototype.applyTransform = function (box, transformOnly) {\n        if (transformOnly === void 0) {\n          transformOnly = false;\n        }\n\n        var withTransforms = createBox();\n        copyBoxInto(withTransforms, box);\n\n        for (var i = 0; i < this.path.length; i++) {\n          var node = this.path[i];\n\n          if (!transformOnly && node.options.layoutScroll && node.scroll && node !== node.root) {\n            transformBox(withTransforms, {\n              x: -node.scroll.x,\n              y: -node.scroll.y\n            });\n          }\n\n          if (!hasTransform(node.latestValues)) continue;\n          transformBox(withTransforms, node.latestValues);\n        }\n\n        if (hasTransform(this.latestValues)) {\n          transformBox(withTransforms, this.latestValues);\n        }\n\n        return withTransforms;\n      };\n\n      ProjectionNode.prototype.removeTransform = function (box) {\n        var _a;\n\n        var boxWithoutTransform = createBox();\n        copyBoxInto(boxWithoutTransform, box);\n\n        for (var i = 0; i < this.path.length; i++) {\n          var node = this.path[i];\n          if (!node.instance) continue;\n          if (!hasTransform(node.latestValues)) continue;\n          hasScale(node.latestValues) && node.updateSnapshot();\n          var sourceBox = createBox();\n          var nodeBox = node.measure();\n          copyBoxInto(sourceBox, nodeBox);\n          removeBoxTransforms(boxWithoutTransform, node.latestValues, (_a = node.snapshot) === null || _a === void 0 ? void 0 : _a.layout, sourceBox);\n        }\n\n        if (hasTransform(this.latestValues)) {\n          removeBoxTransforms(boxWithoutTransform, this.latestValues);\n        }\n\n        return boxWithoutTransform;\n      };\n      /**\n       *\n       */\n\n\n      ProjectionNode.prototype.setTargetDelta = function (delta) {\n        this.targetDelta = delta;\n        this.root.scheduleUpdateProjection();\n      };\n\n      ProjectionNode.prototype.setOptions = function (options) {\n        var _a;\n\n        this.options = __assign(__assign(__assign({}, this.options), options), {\n          crossfade: (_a = options.crossfade) !== null && _a !== void 0 ? _a : true\n        });\n      };\n\n      ProjectionNode.prototype.clearMeasurements = function () {\n        this.scroll = undefined;\n        this.layout = undefined;\n        this.snapshot = undefined;\n        this.prevTransformTemplateValue = undefined;\n        this.targetDelta = undefined;\n        this.target = undefined;\n        this.isLayoutDirty = false;\n      };\n      /**\n       * Frame calculations\n       */\n\n\n      ProjectionNode.prototype.resolveTargetDelta = function () {\n        var _a;\n\n        var _b = this.options,\n            layout = _b.layout,\n            layoutId = _b.layoutId;\n        /**\n         * If we have no layout, we can't perform projection, so early return\n         */\n\n        if (!this.layout || !(layout || layoutId)) return;\n        /**\n         * If we don't have a targetDelta but do have a layout, we can attempt to resolve\n         * a relativeParent. This will allow a component to perform scale correction\n         * even if no animation has started.\n         */\n        // TODO If this is unsuccessful this currently happens every frame\n\n        if (!this.targetDelta && !this.relativeTarget) {\n          // TODO: This is a semi-repetition of further down this function, make DRY\n          this.relativeParent = this.getClosestProjectingParent();\n\n          if (this.relativeParent && this.relativeParent.layout) {\n            this.relativeTarget = createBox();\n            this.relativeTargetOrigin = createBox();\n            calcRelativePosition(this.relativeTargetOrigin, this.layout.actual, this.relativeParent.layout.actual);\n            copyBoxInto(this.relativeTarget, this.relativeTargetOrigin);\n          }\n        }\n        /**\n         * If we have no relative target or no target delta our target isn't valid\n         * for this frame.\n         */\n\n\n        if (!this.relativeTarget && !this.targetDelta) return;\n        /**\n         * Lazy-init target data structure\n         */\n\n        if (!this.target) {\n          this.target = createBox();\n          this.targetWithTransforms = createBox();\n        }\n        /**\n         * If we've got a relative box for this component, resolve it into a target relative to the parent.\n         */\n\n\n        if (this.relativeTarget && this.relativeTargetOrigin && ((_a = this.relativeParent) === null || _a === void 0 ? void 0 : _a.target)) {\n          calcRelativeBox(this.target, this.relativeTarget, this.relativeParent.target);\n          /**\n           * If we've only got a targetDelta, resolve it into a target\n           */\n        } else if (this.targetDelta) {\n          if (Boolean(this.resumingFrom)) {\n            // TODO: This is creating a new object every frame\n            this.target = this.applyTransform(this.layout.actual);\n          } else {\n            copyBoxInto(this.target, this.layout.actual);\n          }\n\n          applyBoxDelta(this.target, this.targetDelta);\n        } else {\n          /**\n           * If no target, use own layout as target\n           */\n          copyBoxInto(this.target, this.layout.actual);\n        }\n        /**\n         * If we've been told to attempt to resolve a relative target, do so.\n         */\n\n\n        if (this.attemptToResolveRelativeTarget) {\n          this.attemptToResolveRelativeTarget = false;\n          this.relativeParent = this.getClosestProjectingParent();\n\n          if (this.relativeParent && Boolean(this.relativeParent.resumingFrom) === Boolean(this.resumingFrom) && !this.relativeParent.options.layoutScroll && this.relativeParent.target) {\n            this.relativeTarget = createBox();\n            this.relativeTargetOrigin = createBox();\n            calcRelativePosition(this.relativeTargetOrigin, this.target, this.relativeParent.target);\n            copyBoxInto(this.relativeTarget, this.relativeTargetOrigin);\n          }\n        }\n      };\n\n      ProjectionNode.prototype.getClosestProjectingParent = function () {\n        if (!this.parent || hasTransform(this.parent.latestValues)) return undefined;\n\n        if ((this.parent.relativeTarget || this.parent.targetDelta) && this.parent.layout) {\n          return this.parent;\n        } else {\n          return this.parent.getClosestProjectingParent();\n        }\n      };\n\n      ProjectionNode.prototype.calcProjection = function () {\n        var _a;\n\n        var _b = this.options,\n            layout = _b.layout,\n            layoutId = _b.layoutId;\n        /**\n         * If this section of the tree isn't animating we can\n         * delete our target sources for the following frame.\n         */\n\n        this.isTreeAnimating = Boolean(((_a = this.parent) === null || _a === void 0 ? void 0 : _a.isTreeAnimating) || this.currentAnimation || this.pendingAnimation);\n\n        if (!this.isTreeAnimating) {\n          this.targetDelta = this.relativeTarget = undefined;\n        }\n\n        if (!this.layout || !(layout || layoutId)) return;\n        var lead = this.getLead();\n        /**\n         * Reset the corrected box with the latest values from box, as we're then going\n         * to perform mutative operations on it.\n         */\n\n        copyBoxInto(this.layoutCorrected, this.layout.actual);\n        /**\n         * Apply all the parent deltas to this box to produce the corrected box. This\n         * is the layout box, as it will appear on screen as a result of the transforms of its parents.\n         */\n\n        applyTreeDeltas(this.layoutCorrected, this.treeScale, this.path, Boolean(this.resumingFrom) || this !== lead);\n        var target = lead.target;\n        if (!target) return;\n\n        if (!this.projectionDelta) {\n          this.projectionDelta = createDelta();\n          this.projectionDeltaWithTransform = createDelta();\n        }\n\n        var prevTreeScaleX = this.treeScale.x;\n        var prevTreeScaleY = this.treeScale.y;\n        var prevProjectionTransform = this.projectionTransform;\n        /**\n         * Update the delta between the corrected box and the target box before user-set transforms were applied.\n         * This will allow us to calculate the corrected borderRadius and boxShadow to compensate\n         * for our layout reprojection, but still allow them to be scaled correctly by the user.\n         * It might be that to simplify this we may want to accept that user-set scale is also corrected\n         * and we wouldn't have to keep and calc both deltas, OR we could support a user setting\n         * to allow people to choose whether these styles are corrected based on just the\n         * layout reprojection or the final bounding box.\n         */\n\n        calcBoxDelta(this.projectionDelta, this.layoutCorrected, target, this.latestValues);\n        this.projectionTransform = buildProjectionTransform(this.projectionDelta, this.treeScale);\n\n        if (this.projectionTransform !== prevProjectionTransform || this.treeScale.x !== prevTreeScaleX || this.treeScale.y !== prevTreeScaleY) {\n          this.hasProjected = true;\n          this.scheduleRender();\n          this.notifyListeners(\"projectionUpdate\", target);\n        }\n      };\n\n      ProjectionNode.prototype.hide = function () {\n        this.isVisible = false; // TODO: Schedule render\n      };\n\n      ProjectionNode.prototype.show = function () {\n        this.isVisible = true; // TODO: Schedule render\n      };\n\n      ProjectionNode.prototype.scheduleRender = function (notifyAll) {\n        var _a, _b, _c;\n\n        if (notifyAll === void 0) {\n          notifyAll = true;\n        }\n\n        (_b = (_a = this.options).scheduleRender) === null || _b === void 0 ? void 0 : _b.call(_a);\n        notifyAll && ((_c = this.getStack()) === null || _c === void 0 ? void 0 : _c.scheduleRender());\n\n        if (this.resumingFrom && !this.resumingFrom.instance) {\n          this.resumingFrom = undefined;\n        }\n      };\n\n      ProjectionNode.prototype.setAnimationOrigin = function (delta, hasOnlyRelativeTargetChanged) {\n        var _this = this;\n\n        var _a;\n\n        if (hasOnlyRelativeTargetChanged === void 0) {\n          hasOnlyRelativeTargetChanged = false;\n        }\n\n        var snapshot = this.snapshot;\n        var snapshotLatestValues = (snapshot === null || snapshot === void 0 ? void 0 : snapshot.latestValues) || {};\n\n        var mixedValues = __assign({}, this.latestValues);\n\n        var targetDelta = createDelta();\n        this.relativeTarget = this.relativeTargetOrigin = undefined;\n        this.attemptToResolveRelativeTarget = !hasOnlyRelativeTargetChanged;\n        var relativeLayout = createBox();\n        var isSharedLayoutAnimation = snapshot === null || snapshot === void 0 ? void 0 : snapshot.isShared;\n        var isOnlyMember = (((_a = this.getStack()) === null || _a === void 0 ? void 0 : _a.members.length) || 0) <= 1;\n        var shouldCrossfadeOpacity = Boolean(isSharedLayoutAnimation && !isOnlyMember && this.options.crossfade === true && !this.path.some(hasOpacityCrossfade));\n\n        this.mixTargetDelta = function (latest) {\n          var _a;\n\n          var progress = latest / 1000;\n          mixAxisDelta(targetDelta.x, delta.x, progress);\n          mixAxisDelta(targetDelta.y, delta.y, progress);\n\n          _this.setTargetDelta(targetDelta);\n\n          if (_this.relativeTarget && _this.relativeTargetOrigin && _this.layout && ((_a = _this.relativeParent) === null || _a === void 0 ? void 0 : _a.layout)) {\n            calcRelativePosition(relativeLayout, _this.layout.actual, _this.relativeParent.layout.actual);\n            mixBox(_this.relativeTarget, _this.relativeTargetOrigin, relativeLayout, progress);\n          }\n\n          if (isSharedLayoutAnimation) {\n            _this.animationValues = mixedValues;\n            mixValues(mixedValues, snapshotLatestValues, _this.latestValues, progress, shouldCrossfadeOpacity, isOnlyMember);\n          }\n\n          _this.root.scheduleUpdateProjection();\n\n          _this.scheduleRender();\n        };\n\n        this.mixTargetDelta(0);\n      };\n\n      ProjectionNode.prototype.startAnimation = function (options) {\n        var _this = this;\n\n        var _a, _b;\n\n        (_a = this.currentAnimation) === null || _a === void 0 ? void 0 : _a.stop();\n\n        if (this.resumingFrom) {\n          (_b = this.resumingFrom.currentAnimation) === null || _b === void 0 ? void 0 : _b.stop();\n        }\n\n        if (this.pendingAnimation) {\n          cancelSync.update(this.pendingAnimation);\n          this.pendingAnimation = undefined;\n        }\n        /**\n         * Start the animation in the next frame to have a frame with progress 0,\n         * where the target is the same as when the animation started, so we can\n         * calculate the relative positions correctly for instant transitions.\n         */\n\n\n        this.pendingAnimation = sync.update(function () {\n          globalProjectionState.hasAnimatedSinceResize = true;\n          _this.currentAnimation = animate(0, animationTarget, __assign(__assign({}, options), {\n            onUpdate: function onUpdate(latest) {\n              var _a;\n\n              _this.mixTargetDelta(latest);\n\n              (_a = options.onUpdate) === null || _a === void 0 ? void 0 : _a.call(options, latest);\n            },\n            onComplete: function onComplete() {\n              var _a;\n\n              (_a = options.onComplete) === null || _a === void 0 ? void 0 : _a.call(options);\n\n              _this.completeAnimation();\n            }\n          }));\n\n          if (_this.resumingFrom) {\n            _this.resumingFrom.currentAnimation = _this.currentAnimation;\n          }\n\n          _this.pendingAnimation = undefined;\n        });\n      };\n\n      ProjectionNode.prototype.completeAnimation = function () {\n        var _a;\n\n        if (this.resumingFrom) {\n          this.resumingFrom.currentAnimation = undefined;\n          this.resumingFrom.preserveOpacity = undefined;\n        }\n\n        (_a = this.getStack()) === null || _a === void 0 ? void 0 : _a.exitAnimationComplete();\n        this.resumingFrom = this.currentAnimation = this.animationValues = undefined;\n        this.notifyListeners(\"animationComplete\");\n      };\n\n      ProjectionNode.prototype.finishAnimation = function () {\n        var _a;\n\n        if (this.currentAnimation) {\n          (_a = this.mixTargetDelta) === null || _a === void 0 ? void 0 : _a.call(this, animationTarget);\n          this.currentAnimation.stop();\n        }\n\n        this.completeAnimation();\n      };\n\n      ProjectionNode.prototype.applyTransformsToTarget = function () {\n        var _a = this.getLead(),\n            targetWithTransforms = _a.targetWithTransforms,\n            target = _a.target,\n            layout = _a.layout,\n            latestValues = _a.latestValues;\n\n        if (!targetWithTransforms || !target || !layout) return;\n        copyBoxInto(targetWithTransforms, target);\n        /**\n         * Apply the latest user-set transforms to the targetBox to produce the targetBoxFinal.\n         * This is the final box that we will then project into by calculating a transform delta and\n         * applying it to the corrected box.\n         */\n\n        transformBox(targetWithTransforms, latestValues);\n        /**\n         * Update the delta between the corrected box and the final target box, after\n         * user-set transforms are applied to it. This will be used by the renderer to\n         * create a transform style that will reproject the element from its actual layout\n         * into the desired bounding box.\n         */\n\n        calcBoxDelta(this.projectionDeltaWithTransform, this.layoutCorrected, targetWithTransforms, latestValues);\n      };\n\n      ProjectionNode.prototype.registerSharedNode = function (layoutId, node) {\n        var _a, _b, _c;\n\n        if (!this.sharedNodes.has(layoutId)) {\n          this.sharedNodes.set(layoutId, new NodeStack());\n        }\n\n        var stack = this.sharedNodes.get(layoutId);\n        stack.add(node);\n        node.promote({\n          transition: (_a = node.options.initialPromotionConfig) === null || _a === void 0 ? void 0 : _a.transition,\n          preserveFollowOpacity: (_c = (_b = node.options.initialPromotionConfig) === null || _b === void 0 ? void 0 : _b.shouldPreserveFollowOpacity) === null || _c === void 0 ? void 0 : _c.call(_b, node)\n        });\n      };\n\n      ProjectionNode.prototype.isLead = function () {\n        var stack = this.getStack();\n        return stack ? stack.lead === this : true;\n      };\n\n      ProjectionNode.prototype.getLead = function () {\n        var _a;\n\n        var layoutId = this.options.layoutId;\n        return layoutId ? ((_a = this.getStack()) === null || _a === void 0 ? void 0 : _a.lead) || this : this;\n      };\n\n      ProjectionNode.prototype.getPrevLead = function () {\n        var _a;\n\n        var layoutId = this.options.layoutId;\n        return layoutId ? (_a = this.getStack()) === null || _a === void 0 ? void 0 : _a.prevLead : undefined;\n      };\n\n      ProjectionNode.prototype.getStack = function () {\n        var layoutId = this.options.layoutId;\n        if (layoutId) return this.root.sharedNodes.get(layoutId);\n      };\n\n      ProjectionNode.prototype.promote = function (_a) {\n        var _b = _a === void 0 ? {} : _a,\n            needsReset = _b.needsReset,\n            transition = _b.transition,\n            preserveFollowOpacity = _b.preserveFollowOpacity;\n\n        var stack = this.getStack();\n        if (stack) stack.promote(this, preserveFollowOpacity);\n\n        if (needsReset) {\n          this.projectionDelta = undefined;\n          this.needsReset = true;\n        }\n\n        if (transition) this.setOptions({\n          transition: transition\n        });\n      };\n\n      ProjectionNode.prototype.relegate = function () {\n        var stack = this.getStack();\n\n        if (stack) {\n          return stack.relegate(this);\n        } else {\n          return false;\n        }\n      };\n\n      ProjectionNode.prototype.resetRotation = function () {\n        var visualElement = this.options.visualElement;\n        if (!visualElement) return; // If there's no detected rotation values, we can early return without a forced render.\n\n        var hasRotate = false; // Keep a record of all the values we've reset\n\n        var resetValues = {}; // Check the rotate value of all axes and reset to 0\n\n        for (var i = 0; i < transformAxes.length; i++) {\n          var axis = transformAxes[i];\n          var key = \"rotate\" + axis; // If this rotation doesn't exist as a motion value, then we don't\n          // need to reset it\n\n          if (!visualElement.getStaticValue(key)) {\n            continue;\n          }\n\n          hasRotate = true; // Record the rotation and then temporarily set it to 0\n\n          resetValues[key] = visualElement.getStaticValue(key);\n          visualElement.setStaticValue(key, 0);\n        } // If there's no rotation values, we don't need to do any more.\n\n\n        if (!hasRotate) return; // Force a render of this element to apply the transform with all rotations\n        // set to 0.\n\n        visualElement === null || visualElement === void 0 ? void 0 : visualElement.syncRender(); // Put back all the values we reset\n\n        for (var key in resetValues) {\n          visualElement.setStaticValue(key, resetValues[key]);\n        } // Schedule a render for the next frame. This ensures we won't visually\n        // see the element with the reset rotate value applied.\n\n\n        visualElement.scheduleRender();\n      };\n\n      ProjectionNode.prototype.getProjectionStyles = function (styleProp) {\n        var _a, _b, _c, _d, _e, _f;\n\n        if (styleProp === void 0) {\n          styleProp = {};\n        } // TODO: Return lifecycle-persistent object\n\n\n        var styles = {};\n        if (!this.instance || this.isSVG) return styles;\n\n        if (!this.isVisible) {\n          return {\n            visibility: \"hidden\"\n          };\n        } else {\n          styles.visibility = \"\";\n        }\n\n        var transformTemplate = (_a = this.options.visualElement) === null || _a === void 0 ? void 0 : _a.getProps().transformTemplate;\n\n        if (this.needsReset) {\n          this.needsReset = false;\n          styles.opacity = \"\";\n          styles.pointerEvents = resolveMotionValue(styleProp.pointerEvents) || \"\";\n          styles.transform = transformTemplate ? transformTemplate(this.latestValues, \"\") : \"none\";\n          return styles;\n        }\n\n        var lead = this.getLead();\n\n        if (!this.projectionDelta || !this.layout || !lead.target) {\n          var emptyStyles = {};\n\n          if (this.options.layoutId) {\n            emptyStyles.opacity = (_b = this.latestValues.opacity) !== null && _b !== void 0 ? _b : 1;\n            emptyStyles.pointerEvents = resolveMotionValue(styleProp.pointerEvents) || \"\";\n          }\n\n          if (this.hasProjected && !hasTransform(this.latestValues)) {\n            emptyStyles.transform = transformTemplate ? transformTemplate({}, \"\") : \"none\";\n            this.hasProjected = false;\n          }\n\n          return emptyStyles;\n        }\n\n        var valuesToRender = lead.animationValues || lead.latestValues;\n        this.applyTransformsToTarget();\n        styles.transform = buildProjectionTransform(this.projectionDeltaWithTransform, this.treeScale, valuesToRender);\n\n        if (transformTemplate) {\n          styles.transform = transformTemplate(valuesToRender, styles.transform);\n        }\n\n        var _g = this.projectionDelta,\n            x = _g.x,\n            y = _g.y;\n        styles.transformOrigin = \"\".concat(x.origin * 100, \"% \").concat(y.origin * 100, \"% 0\");\n\n        if (lead.animationValues) {\n          /**\n           * If the lead component is animating, assign this either the entering/leaving\n           * opacity\n           */\n          styles.opacity = lead === this ? (_d = (_c = valuesToRender.opacity) !== null && _c !== void 0 ? _c : this.latestValues.opacity) !== null && _d !== void 0 ? _d : 1 : this.preserveOpacity ? this.latestValues.opacity : valuesToRender.opacityExit;\n        } else {\n          /**\n           * Or we're not animating at all, set the lead component to its actual\n           * opacity and other components to hidden.\n           */\n          styles.opacity = lead === this ? (_e = valuesToRender.opacity) !== null && _e !== void 0 ? _e : \"\" : (_f = valuesToRender.opacityExit) !== null && _f !== void 0 ? _f : 0;\n        }\n        /**\n         * Apply scale correction\n         */\n\n\n        for (var key in scaleCorrectors) {\n          if (valuesToRender[key] === undefined) continue;\n          var _h = scaleCorrectors[key],\n              correct = _h.correct,\n              applyTo = _h.applyTo;\n          var corrected = correct(valuesToRender[key], lead);\n\n          if (applyTo) {\n            var num = applyTo.length;\n\n            for (var i = 0; i < num; i++) {\n              styles[applyTo[i]] = corrected;\n            }\n          } else {\n            styles[key] = corrected;\n          }\n        }\n        /**\n         * Disable pointer events on follow components. This is to ensure\n         * that if a follow component covers a lead component it doesn't block\n         * pointer events on the lead.\n         */\n\n\n        if (this.options.layoutId) {\n          styles.pointerEvents = lead === this ? resolveMotionValue(styleProp.pointerEvents) || \"\" : \"none\";\n        }\n\n        return styles;\n      };\n\n      ProjectionNode.prototype.clearSnapshot = function () {\n        this.resumeFrom = this.snapshot = undefined;\n      }; // Only run on root\n\n\n      ProjectionNode.prototype.resetTree = function () {\n        this.root.nodes.forEach(function (node) {\n          var _a;\n\n          return (_a = node.currentAnimation) === null || _a === void 0 ? void 0 : _a.stop();\n        });\n        this.root.nodes.forEach(clearMeasurements);\n        this.root.sharedNodes.clear();\n      };\n\n      return ProjectionNode;\n    }()\n  );\n}\n\nfunction updateLayout(node) {\n  node.updateLayout();\n}\n\nfunction notifyLayoutUpdate(node) {\n  var _a, _b, _c, _d;\n\n  var snapshot = (_b = (_a = node.resumeFrom) === null || _a === void 0 ? void 0 : _a.snapshot) !== null && _b !== void 0 ? _b : node.snapshot;\n\n  if (node.isLead() && node.layout && snapshot && node.hasListeners(\"didUpdate\")) {\n    var _e = node.layout,\n        layout_1 = _e.actual,\n        measuredLayout = _e.measured; // TODO Maybe we want to also resize the layout snapshot so we don't trigger\n    // animations for instance if layout=\"size\" and an element has only changed position\n\n    if (node.options.animationType === \"size\") {\n      eachAxis(function (axis) {\n        var axisSnapshot = snapshot.isShared ? snapshot.measured[axis] : snapshot.layout[axis];\n        var length = calcLength(axisSnapshot);\n        axisSnapshot.min = layout_1[axis].min;\n        axisSnapshot.max = axisSnapshot.min + length;\n      });\n    } else if (node.options.animationType === \"position\") {\n      eachAxis(function (axis) {\n        var axisSnapshot = snapshot.isShared ? snapshot.measured[axis] : snapshot.layout[axis];\n        var length = calcLength(layout_1[axis]);\n        axisSnapshot.max = axisSnapshot.min + length;\n      });\n    }\n\n    var layoutDelta = createDelta();\n    calcBoxDelta(layoutDelta, layout_1, snapshot.layout);\n    var visualDelta = createDelta();\n\n    if (snapshot.isShared) {\n      calcBoxDelta(visualDelta, node.applyTransform(measuredLayout, true), snapshot.measured);\n    } else {\n      calcBoxDelta(visualDelta, layout_1, snapshot.layout);\n    }\n\n    var hasLayoutChanged = !isDeltaZero(layoutDelta);\n    var hasRelativeTargetChanged = false;\n\n    if (!node.resumeFrom) {\n      node.relativeParent = node.getClosestProjectingParent();\n      /**\n       * If the relativeParent is itself resuming from a different element then\n       * the relative snapshot is not relavent\n       */\n\n      if (node.relativeParent && !node.relativeParent.resumeFrom) {\n        var _f = node.relativeParent,\n            parentSnapshot = _f.snapshot,\n            parentLayout = _f.layout;\n\n        if (parentSnapshot && parentLayout) {\n          var relativeSnapshot = createBox();\n          calcRelativePosition(relativeSnapshot, snapshot.layout, parentSnapshot.layout);\n          var relativeLayout = createBox();\n          calcRelativePosition(relativeLayout, layout_1, parentLayout.actual);\n\n          if (!boxEquals(relativeSnapshot, relativeLayout)) {\n            hasRelativeTargetChanged = true;\n          }\n        }\n      }\n    }\n\n    node.notifyListeners(\"didUpdate\", {\n      layout: layout_1,\n      snapshot: snapshot,\n      delta: visualDelta,\n      layoutDelta: layoutDelta,\n      hasLayoutChanged: hasLayoutChanged,\n      hasRelativeTargetChanged: hasRelativeTargetChanged\n    });\n  } else if (node.isLead()) {\n    (_d = (_c = node.options).onExitComplete) === null || _d === void 0 ? void 0 : _d.call(_c);\n  }\n  /**\n   * Clearing transition\n   * TODO: Investigate why this transition is being passed in as {type: false } from Framer\n   * and why we need it at all\n   */\n\n\n  node.options.transition = undefined;\n}\n\nfunction clearSnapshot(node) {\n  node.clearSnapshot();\n}\n\nfunction clearMeasurements(node) {\n  node.clearMeasurements();\n}\n\nfunction resetTransformStyle(node) {\n  node.resetTransform();\n}\n\nfunction finishAnimation(node) {\n  node.finishAnimation();\n  node.targetDelta = node.relativeTarget = node.target = undefined;\n}\n\nfunction resolveTargetDelta(node) {\n  node.resolveTargetDelta();\n}\n\nfunction calcProjection(node) {\n  node.calcProjection();\n}\n\nfunction resetRotation(node) {\n  node.resetRotation();\n}\n\nfunction removeLeadSnapshots(stack) {\n  stack.removeLeadSnapshot();\n}\n\nfunction mixAxisDelta(output, delta, p) {\n  output.translate = mix(delta.translate, 0, p);\n  output.scale = mix(delta.scale, 1, p);\n  output.origin = delta.origin;\n  output.originPoint = delta.originPoint;\n}\n\nfunction mixAxis(output, from, to, p) {\n  output.min = mix(from.min, to.min, p);\n  output.max = mix(from.max, to.max, p);\n}\n\nfunction mixBox(output, from, to, p) {\n  mixAxis(output.x, from.x, to.x, p);\n  mixAxis(output.y, from.y, to.y, p);\n}\n\nfunction hasOpacityCrossfade(node) {\n  return node.animationValues && node.animationValues.opacityExit !== undefined;\n}\n\nvar defaultLayoutTransition = {\n  duration: 0.45,\n  ease: [0.4, 0, 0.1, 1]\n};\n\nfunction mountNodeEarly(node, id) {\n  /**\n   * Rather than searching the DOM from document we can search the\n   * path for the deepest mounted ancestor and search from there\n   */\n  var searchNode = node.root;\n\n  for (var i = node.path.length - 1; i >= 0; i--) {\n    if (Boolean(node.path[i].instance)) {\n      searchNode = node.path[i];\n      break;\n    }\n  }\n\n  var searchElement = searchNode && searchNode !== node.root ? searchNode.instance : document;\n  var element = searchElement.querySelector(\"[data-projection-id=\\\"\".concat(id, \"\\\"]\"));\n  if (element) node.mount(element, true);\n}\n\nfunction roundAxis(axis) {\n  axis.min = Math.round(axis.min);\n  axis.max = Math.round(axis.max);\n}\n\nfunction roundBox(box) {\n  roundAxis(box.x);\n  roundAxis(box.y);\n}\n\nexport { createProjectionNode, globalProjectionState, mixAxis, mixAxisDelta, mixBox };","var createAxisDelta = function createAxisDelta() {\n  return {\n    translate: 0,\n    scale: 1,\n    origin: 0,\n    originPoint: 0\n  };\n};\n\nvar createDelta = function createDelta() {\n  return {\n    x: createAxisDelta(),\n    y: createAxisDelta()\n  };\n};\n\nvar createAxis = function createAxis() {\n  return {\n    min: 0,\n    max: 0\n  };\n};\n\nvar createBox = function createBox() {\n  return {\n    x: createAxis(),\n    y: createAxis()\n  };\n};\n\nexport { createAxis, createAxisDelta, createBox, createDelta };","import { motionValue } from '../value/index.mjs';\nimport { isMotionValue } from '../value/utils/is-motion-value.mjs';\nimport { startAnimation } from './utils/transitions.mjs';\n/**\n * Animate a single value or a `MotionValue`.\n *\n * The first argument is either a `MotionValue` to animate, or an initial animation value.\n *\n * The second is either a value to animate to, or an array of keyframes to animate through.\n *\n * The third argument can be either tween or spring options, and optional lifecycle methods: `onUpdate`, `onPlay`, `onComplete`, `onRepeat` and `onStop`.\n *\n * Returns `AnimationPlaybackControls`, currently just a `stop` method.\n *\n * ```javascript\n * const x = useMotionValue(0)\n *\n * useEffect(() => {\n *   const controls = animate(x, 100, {\n *     type: \"spring\",\n *     stiffness: 2000,\n *     onComplete: v => {}\n *   })\n *\n *   return controls.stop\n * })\n * ```\n *\n * @public\n */\n\nfunction animate(from, to, transition) {\n  if (transition === void 0) {\n    transition = {};\n  }\n\n  var value = isMotionValue(from) ? from : motionValue(from);\n  startAnimation(\"\", value, to, transition);\n  return {\n    stop: function stop() {\n      return value.stop();\n    },\n    isAnimating: function isAnimating() {\n      return value.isAnimating();\n    }\n  };\n}\n\nexport { animate };","import { useConstant } from '../../utils/use-constant.mjs';\nimport { globalProjectionState } from './create-projection-node.mjs';\nvar id = 1;\n\nfunction useProjectionId() {\n  return useConstant(function () {\n    if (globalProjectionState.hasEverUpdated) {\n      return id++;\n    }\n  });\n}\n\nexport { useProjectionId };","import { createContext } from 'react';\n/**\n * @internal\n */\n\nvar LayoutGroupContext = createContext({});\nexport { LayoutGroupContext };","import { createContext } from 'react';\n/**\n * @internal\n */\n\nvar SwitchLayoutGroupContext = createContext({});\nexport { SwitchLayoutGroupContext };","import { __extends } from 'tslib';\nimport React__default from 'react';\n\nvar VisualElementHandler =\n/** @class */\nfunction (_super) {\n  __extends(VisualElementHandler, _super);\n\n  function VisualElementHandler() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n  /**\n   * Update visual element props as soon as we know this update is going to be commited.\n   */\n\n\n  VisualElementHandler.prototype.getSnapshotBeforeUpdate = function () {\n    this.updateProps();\n    return null;\n  };\n\n  VisualElementHandler.prototype.componentDidUpdate = function () {};\n\n  VisualElementHandler.prototype.updateProps = function () {\n    var _a = this.props,\n        visualElement = _a.visualElement,\n        props = _a.props;\n    if (visualElement) visualElement.setProps(props);\n  };\n\n  VisualElementHandler.prototype.render = function () {\n    return this.props.children;\n  };\n\n  return VisualElementHandler;\n}(React__default.Component);\n\nexport { VisualElementHandler };","import { __assign } from 'tslib';\nimport * as React from 'react';\nimport { forwardRef, useContext } from 'react';\nimport { useFeatures } from './features/use-features.mjs';\nimport { MotionConfigContext } from '../context/MotionConfigContext.mjs';\nimport { MotionContext } from '../context/MotionContext/index.mjs';\nimport { useVisualElement } from './utils/use-visual-element.mjs';\nimport { useMotionRef } from './utils/use-motion-ref.mjs';\nimport { useCreateMotionContext } from '../context/MotionContext/create.mjs';\nimport { loadFeatures, featureDefinitions } from './features/definitions.mjs';\nimport { isBrowser } from '../utils/is-browser.mjs';\nimport { useProjectionId } from '../projection/node/id.mjs';\nimport { LayoutGroupContext } from '../context/LayoutGroupContext.mjs';\nimport { useProjection } from './features/use-projection.mjs';\nimport { VisualElementHandler } from './utils/VisualElementHandler.mjs';\n/**\n * Create a `motion` component.\n *\n * This function accepts a Component argument, which can be either a string (ie \"div\"\n * for `motion.div`), or an actual React component.\n *\n * Alongside this is a config option which provides a way of rendering the provided\n * component \"offline\", or outside the React render cycle.\n *\n * @internal\n */\n\nfunction createMotionComponent(_a) {\n  var preloadedFeatures = _a.preloadedFeatures,\n      createVisualElement = _a.createVisualElement,\n      projectionNodeConstructor = _a.projectionNodeConstructor,\n      useRender = _a.useRender,\n      useVisualState = _a.useVisualState,\n      Component = _a.Component;\n  preloadedFeatures && loadFeatures(preloadedFeatures);\n\n  function MotionComponent(props, externalRef) {\n    var layoutId = useLayoutId(props);\n    props = __assign(__assign({}, props), {\n      layoutId: layoutId\n    });\n    /**\n     * If we're rendering in a static environment, we only visually update the component\n     * as a result of a React-rerender rather than interactions or animations. This\n     * means we don't need to load additional memory structures like VisualElement,\n     * or any gesture/animation features.\n     */\n\n    var config = useContext(MotionConfigContext);\n    var features = null;\n    var context = useCreateMotionContext(props);\n    /**\n     * Create a unique projection ID for this component. If a new component is added\n     * during a layout animation we'll use this to query the DOM and hydrate its ref early, allowing\n     * us to measure it as soon as any layout effect flushes pending layout animations.\n     *\n     * Performance note: It'd be better not to have to search the DOM for these elements.\n     * For newly-entering components it could be enough to only correct treeScale, in which\n     * case we could mount in a scale-correction mode. This wouldn't be enough for\n     * shared element transitions however. Perhaps for those we could revert to a root node\n     * that gets forceRendered and layout animations are triggered on its layout effect.\n     */\n\n    var projectionId = config.isStatic ? undefined : useProjectionId();\n    /**\n     *\n     */\n\n    var visualState = useVisualState(props, config.isStatic);\n\n    if (!config.isStatic && isBrowser) {\n      /**\n       * Create a VisualElement for this component. A VisualElement provides a common\n       * interface to renderer-specific APIs (ie DOM/Three.js etc) as well as\n       * providing a way of rendering to these APIs outside of the React render loop\n       * for more performant animations and interactions\n       */\n      context.visualElement = useVisualElement(Component, visualState, __assign(__assign({}, config), props), createVisualElement);\n      useProjection(projectionId, props, context.visualElement, projectionNodeConstructor || featureDefinitions.projectionNodeConstructor);\n      /**\n       * Load Motion gesture and animation features. These are rendered as renderless\n       * components so each feature can optionally make use of React lifecycle methods.\n       */\n\n      features = useFeatures(props, context.visualElement, preloadedFeatures);\n    }\n    /**\n     * The mount order and hierarchy is specific to ensure our element ref\n     * is hydrated by the time features fire their effects.\n     */\n\n\n    return React.createElement(VisualElementHandler, {\n      visualElement: context.visualElement,\n      props: __assign(__assign({}, config), props)\n    }, features, React.createElement(MotionContext.Provider, {\n      value: context\n    }, useRender(Component, props, projectionId, useMotionRef(visualState, context.visualElement, externalRef), visualState, config.isStatic, context.visualElement)));\n  }\n\n  return forwardRef(MotionComponent);\n}\n\nfunction useLayoutId(_a) {\n  var _b;\n\n  var layoutId = _a.layoutId;\n  var layoutGroupId = (_b = useContext(LayoutGroupContext)) === null || _b === void 0 ? void 0 : _b.id;\n  return layoutGroupId && layoutId !== undefined ? layoutGroupId + \"-\" + layoutId : layoutId;\n}\n\nexport { createMotionComponent };","import { isRefObject } from '../../utils/is-ref-object.mjs';\nimport { useContext } from 'react';\nimport { SwitchLayoutGroupContext } from '../../context/SwitchLayoutGroupContext.mjs';\n\nfunction useProjection(projectionId, _a, visualElement, ProjectionNodeConstructor) {\n  var _b;\n\n  var layoutId = _a.layoutId,\n      layout = _a.layout,\n      drag = _a.drag,\n      dragConstraints = _a.dragConstraints,\n      layoutScroll = _a.layoutScroll;\n  var initialPromotionConfig = useContext(SwitchLayoutGroupContext);\n\n  if (!ProjectionNodeConstructor || !visualElement || (visualElement === null || visualElement === void 0 ? void 0 : visualElement.projection)) {\n    return;\n  }\n\n  visualElement.projection = new ProjectionNodeConstructor(projectionId, visualElement.getLatestValues(), (_b = visualElement.parent) === null || _b === void 0 ? void 0 : _b.projection);\n  visualElement.projection.setOptions({\n    layoutId: layoutId,\n    layout: layout,\n    alwaysMeasureLayout: Boolean(drag) || dragConstraints && isRefObject(dragConstraints),\n    visualElement: visualElement,\n    scheduleRender: function scheduleRender() {\n      return visualElement.scheduleRender();\n    },\n\n    /**\n     * TODO: Update options in an effect. This could be tricky as it'll be too late\n     * to update by the time layout animations run.\n     * We also need to fix this safeToRemove by linking it up to the one returned by usePresence,\n     * ensuring it gets called if there's no potential layout animations.\n     *\n     */\n    animationType: typeof layout === \"string\" ? layout : \"both\",\n    initialPromotionConfig: initialPromotionConfig,\n    layoutScroll: layoutScroll\n  });\n}\n\nexport { useProjection };","import { useCallback } from 'react';\nimport { isRefObject } from '../../utils/is-ref-object.mjs';\n/**\n * Creates a ref function that, when called, hydrates the provided\n * external ref and VisualElement.\n */\n\nfunction useMotionRef(visualState, visualElement, externalRef) {\n  return useCallback(function (instance) {\n    var _a;\n\n    instance && ((_a = visualState.mount) === null || _a === void 0 ? void 0 : _a.call(visualState, instance));\n\n    if (visualElement) {\n      instance ? visualElement.mount(instance) : visualElement.unmount();\n    }\n\n    if (externalRef) {\n      if (typeof externalRef === \"function\") {\n        externalRef(instance);\n      } else if (isRefObject(externalRef)) {\n        externalRef.current = instance;\n      }\n    }\n  },\n  /**\n   * Only pass a new ref callback to React if we've received a visual element\n   * factory. Otherwise we'll be mounting/remounting every time externalRef\n   * or other dependencies change.\n   */\n  [visualElement]);\n}\n\nexport { useMotionRef };","import { createMotionComponent } from '../../motion/index.mjs';\n/**\n * Convert any React component into a `motion` component. The provided component\n * **must** use `React.forwardRef` to the underlying DOM component you want to animate.\n *\n * ```jsx\n * const Component = React.forwardRef((props, ref) => {\n *   return <div ref={ref} />\n * })\n *\n * const MotionComponent = motion(Component)\n * ```\n *\n * @public\n */\n\nfunction createMotionProxy(createConfig) {\n  function custom(Component, customMotionComponentConfig) {\n    if (customMotionComponentConfig === void 0) {\n      customMotionComponentConfig = {};\n    }\n\n    return createMotionComponent(createConfig(Component, customMotionComponentConfig));\n  }\n\n  if (typeof Proxy === \"undefined\") {\n    return custom;\n  }\n  /**\n   * A cache of generated `motion` components, e.g `motion.div`, `motion.input` etc.\n   * Rather than generating them anew every render.\n   */\n\n\n  var componentCache = new Map();\n  return new Proxy(custom, {\n    /**\n     * Called when `motion` is referenced with a prop: `motion.div`, `motion.input` etc.\n     * The prop name is passed through as `key` and we can use that to generate a `motion`\n     * DOM component with that name.\n     */\n    get: function get(_target, key) {\n      /**\n       * If this element doesn't exist in the component cache, create it and cache.\n       */\n      if (!componentCache.has(key)) {\n        componentCache.set(key, custom(key));\n      }\n\n      return componentCache.get(key);\n    }\n  });\n}\n\nexport { createMotionProxy };","/**\n * We keep these listed seperately as we use the lowercase tag names as part\n * of the runtime bundle to detect SVG components\n */\nvar lowercaseSVGElements = [\"animate\", \"circle\", \"defs\", \"desc\", \"ellipse\", \"g\", \"image\", \"line\", \"filter\", \"marker\", \"mask\", \"metadata\", \"path\", \"pattern\", \"polygon\", \"polyline\", \"rect\", \"stop\", \"svg\", \"switch\", \"symbol\", \"text\", \"tspan\", \"use\", \"view\"];\nexport { lowercaseSVGElements };","import { lowercaseSVGElements } from '../../svg/lowercase-elements.mjs';\n\nfunction isSVGComponent(Component) {\n  if (\n  /**\n   * If it's not a string, it's a custom React component. Currently we only support\n   * HTML custom React components.\n   */\n  typeof Component !== \"string\" ||\n  /**\n   * If it contains a dash, the element is a custom HTML webcomponent.\n   */\n  Component.includes(\"-\")) {\n    return false;\n  } else if (\n  /**\n   * If it's in our list of lowercase SVG tags, it's an SVG component\n   */\n  lowercaseSVGElements.indexOf(Component) > -1 ||\n  /**\n   * If it contains a capital letter, it's an SVG component\n   */\n  /[A-Z]/.test(Component)) {\n    return true;\n  }\n\n  return false;\n}\n\nexport { isSVGComponent };","import { scaleCorrectors } from '../../projection/styles/scale-correction.mjs';\nimport { isTransformProp, isTransformOriginProp } from '../../render/html/utils/transform.mjs';\n\nfunction isForcedMotionValue(key, _a) {\n  var layout = _a.layout,\n      layoutId = _a.layoutId;\n  return isTransformProp(key) || isTransformOriginProp(key) || (layout || layoutId !== undefined) && (!!scaleCorrectors[key] || key === \"opacity\");\n}\n\nexport { isForcedMotionValue };","import { sortTransformProps } from './transform.mjs';\nvar translateAlias = {\n  x: \"translateX\",\n  y: \"translateY\",\n  z: \"translateZ\",\n  transformPerspective: \"perspective\"\n};\n/**\n * Build a CSS transform style from individual x/y/scale etc properties.\n *\n * This outputs with a default order of transforms/scales/rotations, this can be customised by\n * providing a transformTemplate function.\n */\n\nfunction buildTransform(_a, _b, transformIsDefault, transformTemplate) {\n  var transform = _a.transform,\n      transformKeys = _a.transformKeys;\n  var _c = _b.enableHardwareAcceleration,\n      enableHardwareAcceleration = _c === void 0 ? true : _c,\n      _d = _b.allowTransformNone,\n      allowTransformNone = _d === void 0 ? true : _d; // The transform string we're going to build into.\n\n  var transformString = \"\"; // Transform keys into their default order - this will determine the output order.\n\n  transformKeys.sort(sortTransformProps); // Track whether the defined transform has a defined z so we don't add a\n  // second to enable hardware acceleration\n\n  var transformHasZ = false; // Loop over each transform and build them into transformString\n\n  var numTransformKeys = transformKeys.length;\n\n  for (var i = 0; i < numTransformKeys; i++) {\n    var key = transformKeys[i];\n    transformString += \"\".concat(translateAlias[key] || key, \"(\").concat(transform[key], \") \");\n    if (key === \"z\") transformHasZ = true;\n  }\n\n  if (!transformHasZ && enableHardwareAcceleration) {\n    transformString += \"translateZ(0)\";\n  } else {\n    transformString = transformString.trim();\n  } // If we have a custom `transform` template, pass our transform values and\n  // generated transformString to that before returning\n\n\n  if (transformTemplate) {\n    transformString = transformTemplate(transform, transformIsDefault ? \"\" : transformString);\n  } else if (allowTransformNone && transformIsDefault) {\n    transformString = \"none\";\n  }\n\n  return transformString;\n}\n/**\n * Build a transformOrigin style. Uses the same defaults as the browser for\n * undefined origins.\n */\n\n\nfunction buildTransformOrigin(_a) {\n  var _b = _a.originX,\n      originX = _b === void 0 ? \"50%\" : _b,\n      _c = _a.originY,\n      originY = _c === void 0 ? \"50%\" : _c,\n      _d = _a.originZ,\n      originZ = _d === void 0 ? 0 : _d;\n  return \"\".concat(originX, \" \").concat(originY, \" \").concat(originZ);\n}\n\nexport { buildTransform, buildTransformOrigin };","/**\n * Returns true if the provided key is a CSS variable\n */\nfunction isCSSVariable(key) {\n  return key.startsWith(\"--\");\n}\n\nexport { isCSSVariable };","/**\n * Provided a value and a ValueType, returns the value as that value type.\n */\nvar getValueAsType = function getValueAsType(value, type) {\n  return type && typeof value === \"number\" ? type.transform(value) : value;\n};\n\nexport { getValueAsType };","import { buildTransform, buildTransformOrigin } from './build-transform.mjs';\nimport { isCSSVariable } from '../../dom/utils/is-css-variable.mjs';\nimport { isTransformProp, isTransformOriginProp } from './transform.mjs';\nimport { getValueAsType } from '../../dom/value-types/get-as-type.mjs';\nimport { numberValueTypes } from '../../dom/value-types/number.mjs';\n\nfunction buildHTMLStyles(state, latestValues, options, transformTemplate) {\n  var _a;\n\n  var style = state.style,\n      vars = state.vars,\n      transform = state.transform,\n      transformKeys = state.transformKeys,\n      transformOrigin = state.transformOrigin; // Empty the transformKeys array. As we're throwing out refs to its items\n  // this might not be as cheap as suspected. Maybe using the array as a buffer\n  // with a manual incrementation would be better.\n\n  transformKeys.length = 0; // Track whether we encounter any transform or transformOrigin values.\n\n  var hasTransform = false;\n  var hasTransformOrigin = false; // Does the calculated transform essentially equal \"none\"?\n\n  var transformIsNone = true;\n  /**\n   * Loop over all our latest animated values and decide whether to handle them\n   * as a style or CSS variable.\n   *\n   * Transforms and transform origins are kept seperately for further processing.\n   */\n\n  for (var key in latestValues) {\n    var value = latestValues[key];\n    /**\n     * If this is a CSS variable we don't do any further processing.\n     */\n\n    if (isCSSVariable(key)) {\n      vars[key] = value;\n      continue;\n    } // Convert the value to its default value type, ie 0 -> \"0px\"\n\n\n    var valueType = numberValueTypes[key];\n    var valueAsType = getValueAsType(value, valueType);\n\n    if (isTransformProp(key)) {\n      // If this is a transform, flag to enable further transform processing\n      hasTransform = true;\n      transform[key] = valueAsType;\n      transformKeys.push(key); // If we already know we have a non-default transform, early return\n\n      if (!transformIsNone) continue; // Otherwise check to see if this is a default transform\n\n      if (value !== ((_a = valueType.default) !== null && _a !== void 0 ? _a : 0)) transformIsNone = false;\n    } else if (isTransformOriginProp(key)) {\n      transformOrigin[key] = valueAsType; // If this is a transform origin, flag and enable further transform-origin processing\n\n      hasTransformOrigin = true;\n    } else {\n      style[key] = valueAsType;\n    }\n  }\n\n  if (hasTransform) {\n    style.transform = buildTransform(state, options, transformIsNone, transformTemplate);\n  } else if (transformTemplate) {\n    style.transform = transformTemplate({}, \"\");\n  }\n\n  if (hasTransformOrigin) {\n    style.transformOrigin = buildTransformOrigin(transformOrigin);\n  }\n}\n\nexport { buildHTMLStyles };","var createHtmlRenderState = function createHtmlRenderState() {\n  return {\n    style: {},\n    transform: {},\n    transformKeys: [],\n    transformOrigin: {},\n    vars: {}\n  };\n};\n\nexport { createHtmlRenderState };","import { __assign } from 'tslib';\nimport { useMemo } from 'react';\nimport { isForcedMotionValue } from '../../motion/utils/is-forced-motion-value.mjs';\nimport { isMotionValue } from '../../value/utils/is-motion-value.mjs';\nimport { buildHTMLStyles } from './utils/build-styles.mjs';\nimport { createHtmlRenderState } from './utils/create-render-state.mjs';\n\nfunction copyRawValuesOnly(target, source, props) {\n  for (var key in source) {\n    if (!isMotionValue(source[key]) && !isForcedMotionValue(key, props)) {\n      target[key] = source[key];\n    }\n  }\n}\n\nfunction useInitialMotionValues(_a, visualState, isStatic) {\n  var transformTemplate = _a.transformTemplate;\n  return useMemo(function () {\n    var state = createHtmlRenderState();\n    buildHTMLStyles(state, visualState, {\n      enableHardwareAcceleration: !isStatic\n    }, transformTemplate);\n    var vars = state.vars,\n        style = state.style;\n    return __assign(__assign({}, vars), style);\n  }, [visualState]);\n}\n\nfunction useStyle(props, visualState, isStatic) {\n  var styleProp = props.style || {};\n  var style = {};\n  /**\n   * Copy non-Motion Values straight into style\n   */\n\n  copyRawValuesOnly(style, styleProp, props);\n  Object.assign(style, useInitialMotionValues(props, visualState, isStatic));\n\n  if (props.transformValues) {\n    style = props.transformValues(style);\n  }\n\n  return style;\n}\n\nfunction useHTMLProps(props, visualState, isStatic) {\n  // The `any` isn't ideal but it is the type of createElement props argument\n  var htmlProps = {};\n  var style = useStyle(props, visualState, isStatic);\n\n  if (Boolean(props.drag) && props.dragListener !== false) {\n    // Disable the ghost element when a user drags\n    htmlProps.draggable = false; // Disable text selection\n\n    style.userSelect = style.WebkitUserSelect = style.WebkitTouchCallout = \"none\"; // Disable scrolling on the draggable direction\n\n    style.touchAction = props.drag === true ? \"none\" : \"pan-\".concat(props.drag === \"x\" ? \"y\" : \"x\");\n  }\n\n  htmlProps.style = style;\n  return htmlProps;\n}\n\nexport { copyRawValuesOnly, useHTMLProps, useStyle };","/**\n * A list of all valid MotionProps.\n *\n * @internalremarks\n * This doesn't throw if a `MotionProp` name is missing - it should.\n */\nvar validMotionProps = new Set([\"initial\", \"animate\", \"exit\", \"style\", \"variants\", \"transition\", \"transformTemplate\", \"transformValues\", \"custom\", \"inherit\", \"layout\", \"layoutId\", \"layoutDependency\", \"onLayoutAnimationComplete\", \"onLayoutMeasure\", \"onBeforeLayoutMeasure\", \"onAnimationStart\", \"onAnimationComplete\", \"onUpdate\", \"onDragStart\", \"onDrag\", \"onDragEnd\", \"onMeasureDragConstraints\", \"onDirectionLock\", \"onDragTransitionEnd\", \"drag\", \"dragControls\", \"dragListener\", \"dragConstraints\", \"dragDirectionLock\", \"dragSnapToOrigin\", \"_dragX\", \"_dragY\", \"dragElastic\", \"dragMomentum\", \"dragPropagation\", \"dragTransition\", \"whileDrag\", \"onPan\", \"onPanStart\", \"onPanEnd\", \"onPanSessionStart\", \"onTap\", \"onTapStart\", \"onTapCancel\", \"onHoverStart\", \"onHoverEnd\", \"whileFocus\", \"whileTap\", \"whileHover\", \"whileInView\", \"onViewportEnter\", \"onViewportLeave\", \"viewport\", \"layoutScroll\"]);\n/**\n * Check whether a prop name is a valid `MotionProp` key.\n *\n * @param key - Name of the property to check\n * @returns `true` is key is a valid `MotionProp`.\n *\n * @public\n */\n\nfunction isValidMotionProp(key) {\n  return validMotionProps.has(key);\n}\n\nexport { isValidMotionProp };","import { isValidMotionProp } from '../../../motion/utils/valid-prop.mjs';\n\nvar shouldForward = function shouldForward(key) {\n  return !isValidMotionProp(key);\n};\n/**\n * Emotion and Styled Components both allow users to pass through arbitrary props to their components\n * to dynamically generate CSS. They both use the `@emotion/is-prop-valid` package to determine which\n * of these should be passed to the underlying DOM node.\n *\n * However, when styling a Motion component `styled(motion.div)`, both packages pass through *all* props\n * as it's seen as an arbitrary component rather than a DOM node. Motion only allows arbitrary props\n * passed through the `custom` prop so it doesn't *need* the payload or computational overhead of\n * `@emotion/is-prop-valid`, however to fix this problem we need to use it.\n *\n * By making it an optionalDependency we can offer this functionality only in the situations where it's\n * actually required.\n */\n\n\ntry {\n  var emotionIsPropValid_1 = require(\"@emotion/is-prop-valid\").default;\n\n  shouldForward = function shouldForward(key) {\n    // Handle events explicitly as Emotion validates them all as true\n    if (key.startsWith(\"on\")) {\n      return !isValidMotionProp(key);\n    } else {\n      return emotionIsPropValid_1(key);\n    }\n  };\n} catch (_a) {// We don't need to actually do anything here - the fallback is the existing `isPropValid`.\n}\n\nfunction filterProps(props, isDom, forwardMotionProps) {\n  var filteredProps = {};\n\n  for (var key in props) {\n    if (shouldForward(key) || forwardMotionProps === true && isValidMotionProp(key) || !isDom && !isValidMotionProp(key) || // If trying to use native HTML drag events, forward drag listeners\n    props[\"draggable\"] && key.startsWith(\"onDrag\")) {\n      filteredProps[key] = props[key];\n    }\n  }\n\n  return filteredProps;\n}\n\nexport { filterProps };","import { px } from 'style-value-types';\n\nfunction calcOrigin(origin, offset, size) {\n  return typeof origin === \"string\" ? origin : px.transform(offset + size * origin);\n}\n/**\n * The SVG transform origin defaults are different to CSS and is less intuitive,\n * so we use the measured dimensions of the SVG to reconcile these.\n */\n\n\nfunction calcSVGTransformOrigin(dimensions, originX, originY) {\n  var pxOriginX = calcOrigin(originX, dimensions.x, dimensions.width);\n  var pxOriginY = calcOrigin(originY, dimensions.y, dimensions.height);\n  return \"\".concat(pxOriginX, \" \").concat(pxOriginY);\n}\n\nexport { calcSVGTransformOrigin };","import { px } from 'style-value-types';\nvar dashKeys = {\n  offset: \"stroke-dashoffset\",\n  array: \"stroke-dasharray\"\n};\nvar camelKeys = {\n  offset: \"strokeDashoffset\",\n  array: \"strokeDasharray\"\n};\n/**\n * Build SVG path properties. Uses the path's measured length to convert\n * our custom pathLength, pathSpacing and pathOffset into stroke-dashoffset\n * and stroke-dasharray attributes.\n *\n * This function is mutative to reduce per-frame GC.\n */\n\nfunction buildSVGPath(attrs, length, spacing, offset, useDashCase) {\n  if (spacing === void 0) {\n    spacing = 1;\n  }\n\n  if (offset === void 0) {\n    offset = 0;\n  }\n\n  if (useDashCase === void 0) {\n    useDashCase = true;\n  } // Normalise path length by setting SVG attribute pathLength to 1\n\n\n  attrs.pathLength = 1; // We use dash case when setting attributes directly to the DOM node and camel case\n  // when defining props on a React component.\n\n  var keys = useDashCase ? dashKeys : camelKeys; // Build the dash offset\n\n  attrs[keys.offset] = px.transform(-offset); // Build the dash array\n\n  var pathLength = px.transform(length);\n  var pathSpacing = px.transform(spacing);\n  attrs[keys.array] = \"\".concat(pathLength, \" \").concat(pathSpacing);\n}\n\nexport { buildSVGPath };","import { __rest } from 'tslib';\nimport { buildHTMLStyles } from '../../html/utils/build-styles.mjs';\nimport { calcSVGTransformOrigin } from './transform-origin.mjs';\nimport { buildSVGPath } from './path.mjs';\n/**\n * Build SVG visual attrbutes, like cx and style.transform\n */\n\nfunction buildSVGAttrs(state, _a, options, transformTemplate) {\n  var attrX = _a.attrX,\n      attrY = _a.attrY,\n      originX = _a.originX,\n      originY = _a.originY,\n      pathLength = _a.pathLength,\n      _b = _a.pathSpacing,\n      pathSpacing = _b === void 0 ? 1 : _b,\n      _c = _a.pathOffset,\n      pathOffset = _c === void 0 ? 0 : _c,\n      // This is object creation, which we try to avoid per-frame.\n  latest = __rest(_a, [\"attrX\", \"attrY\", \"originX\", \"originY\", \"pathLength\", \"pathSpacing\", \"pathOffset\"]);\n\n  buildHTMLStyles(state, latest, options, transformTemplate);\n  state.attrs = state.style;\n  state.style = {};\n  var attrs = state.attrs,\n      style = state.style,\n      dimensions = state.dimensions;\n  /**\n   * However, we apply transforms as CSS transforms. So if we detect a transform we take it from attrs\n   * and copy it into style.\n   */\n\n  if (attrs.transform) {\n    if (dimensions) style.transform = attrs.transform;\n    delete attrs.transform;\n  } // Parse transformOrigin\n\n\n  if (dimensions && (originX !== undefined || originY !== undefined || style.transform)) {\n    style.transformOrigin = calcSVGTransformOrigin(dimensions, originX !== undefined ? originX : 0.5, originY !== undefined ? originY : 0.5);\n  } // Treat x/y not as shortcuts but as actual attributes\n\n\n  if (attrX !== undefined) attrs.x = attrX;\n  if (attrY !== undefined) attrs.y = attrY; // Build SVG path if one has been defined\n\n  if (pathLength !== undefined) {\n    buildSVGPath(attrs, pathLength, pathSpacing, pathOffset, false);\n  }\n}\n\nexport { buildSVGAttrs };","import { __assign } from 'tslib';\nimport { createHtmlRenderState } from '../../html/utils/create-render-state.mjs';\n\nvar createSvgRenderState = function createSvgRenderState() {\n  return __assign(__assign({}, createHtmlRenderState()), {\n    attrs: {}\n  });\n};\n\nexport { createSvgRenderState };","import { __assign } from 'tslib';\nimport { useMemo } from 'react';\nimport { copyRawValuesOnly } from '../html/use-props.mjs';\nimport { buildSVGAttrs } from './utils/build-attrs.mjs';\nimport { createSvgRenderState } from './utils/create-render-state.mjs';\n\nfunction useSVGProps(props, visualState) {\n  var visualProps = useMemo(function () {\n    var state = createSvgRenderState();\n    buildSVGAttrs(state, visualState, {\n      enableHardwareAcceleration: false\n    }, props.transformTemplate);\n    return __assign(__assign({}, state.attrs), {\n      style: __assign({}, state.style)\n    });\n  }, [visualState]);\n\n  if (props.style) {\n    var rawStyles = {};\n    copyRawValuesOnly(rawStyles, props.style, props);\n    visualProps.style = __assign(__assign({}, rawStyles), visualProps.style);\n  }\n\n  return visualProps;\n}\n\nexport { useSVGProps };","import { __assign } from 'tslib';\nimport { createElement } from 'react';\nimport { useHTMLProps } from '../html/use-props.mjs';\nimport { filterProps } from './utils/filter-props.mjs';\nimport { isSVGComponent } from './utils/is-svg-component.mjs';\nimport { useSVGProps } from '../svg/use-props.mjs';\n\nfunction createUseRender(forwardMotionProps) {\n  if (forwardMotionProps === void 0) {\n    forwardMotionProps = false;\n  }\n\n  var useRender = function useRender(Component, props, projectionId, ref, _a, isStatic) {\n    var latestValues = _a.latestValues;\n    var useVisualProps = isSVGComponent(Component) ? useSVGProps : useHTMLProps;\n    var visualProps = useVisualProps(props, latestValues, isStatic);\n    var filteredProps = filterProps(props, typeof Component === \"string\", forwardMotionProps);\n\n    var elementProps = __assign(__assign(__assign({}, filteredProps), visualProps), {\n      ref: ref\n    });\n\n    if (projectionId) {\n      elementProps[\"data-projection-id\"] = projectionId;\n    }\n\n    return createElement(Component, elementProps);\n  };\n\n  return useRender;\n}\n\nexport { createUseRender };","var CAMEL_CASE_PATTERN = /([a-z])([A-Z])/g;\nvar REPLACE_TEMPLATE = \"$1-$2\";\n/**\n * Convert camelCase to dash-case properties.\n */\n\nvar camelToDash = function camelToDash(str) {\n  return str.replace(CAMEL_CASE_PATTERN, REPLACE_TEMPLATE).toLowerCase();\n};\n\nexport { camelToDash };","function renderHTML(element, _a, styleProp, projection) {\n  var style = _a.style,\n      vars = _a.vars;\n  Object.assign(element.style, style, projection && projection.getProjectionStyles(styleProp)); // Loop over any CSS variables and assign those.\n\n  for (var key in vars) {\n    element.style.setProperty(key, vars[key]);\n  }\n}\n\nexport { renderHTML };","/**\n * A set of attribute names that are always read/written as camel case.\n */\nvar camelCaseAttributes = new Set([\"baseFrequency\", \"diffuseConstant\", \"kernelMatrix\", \"kernelUnitLength\", \"keySplines\", \"keyTimes\", \"limitingConeAngle\", \"markerHeight\", \"markerWidth\", \"numOctaves\", \"targetX\", \"targetY\", \"surfaceScale\", \"specularConstant\", \"specularExponent\", \"stdDeviation\", \"tableValues\", \"viewBox\", \"gradientTransform\", \"pathLength\"]);\nexport { camelCaseAttributes };","import { camelToDash } from '../../dom/utils/camel-to-dash.mjs';\nimport { renderHTML } from '../../html/utils/render.mjs';\nimport { camelCaseAttributes } from './camel-case-attrs.mjs';\n\nfunction renderSVG(element, renderState) {\n  renderHTML(element, renderState);\n\n  for (var key in renderState.attrs) {\n    element.setAttribute(!camelCaseAttributes.has(key) ? camelToDash(key) : key, renderState.attrs[key]);\n  }\n}\n\nexport { renderSVG };","import { isForcedMotionValue } from '../../../motion/utils/is-forced-motion-value.mjs';\nimport { isMotionValue } from '../../../value/utils/is-motion-value.mjs';\n\nfunction scrapeMotionValuesFromProps(props) {\n  var style = props.style;\n  var newValues = {};\n\n  for (var key in style) {\n    if (isMotionValue(style[key]) || isForcedMotionValue(key, props)) {\n      newValues[key] = style[key];\n    }\n  }\n\n  return newValues;\n}\n\nexport { scrapeMotionValuesFromProps };","import { isMotionValue } from '../../../value/utils/is-motion-value.mjs';\nimport { scrapeMotionValuesFromProps as scrapeMotionValuesFromProps$1 } from '../../html/utils/scrape-motion-values.mjs';\n\nfunction scrapeMotionValuesFromProps(props) {\n  var newValues = scrapeMotionValuesFromProps$1(props);\n\n  for (var key in props) {\n    if (isMotionValue(props[key])) {\n      var targetKey = key === \"x\" || key === \"y\" ? \"attr\" + key.toUpperCase() : key;\n      newValues[targetKey] = props[key];\n    }\n  }\n\n  return newValues;\n}\n\nexport { scrapeMotionValuesFromProps };","function isAnimationControls(v) {\n  return typeof v === \"object\" && typeof v.start === \"function\";\n}\n\nexport { isAnimationControls };","import { __rest } from 'tslib';\nimport { useContext } from 'react';\nimport { isAnimationControls } from '../../animation/utils/is-animation-controls.mjs';\nimport { PresenceContext } from '../../context/PresenceContext.mjs';\nimport { checkIfControllingVariants, checkIfVariantNode, resolveVariantFromProps } from '../../render/utils/variants.mjs';\nimport { useConstant } from '../../utils/use-constant.mjs';\nimport { resolveMotionValue } from '../../value/utils/resolve-motion-value.mjs';\nimport { MotionContext } from '../../context/MotionContext/index.mjs';\n\nfunction makeState(_a, props, context, presenceContext) {\n  var scrapeMotionValuesFromProps = _a.scrapeMotionValuesFromProps,\n      createRenderState = _a.createRenderState,\n      onMount = _a.onMount;\n  var state = {\n    latestValues: makeLatestValues(props, context, presenceContext, scrapeMotionValuesFromProps),\n    renderState: createRenderState()\n  };\n\n  if (onMount) {\n    state.mount = function (instance) {\n      return onMount(props, instance, state);\n    };\n  }\n\n  return state;\n}\n\nvar makeUseVisualState = function makeUseVisualState(config) {\n  return function (props, isStatic) {\n    var context = useContext(MotionContext);\n    var presenceContext = useContext(PresenceContext);\n    return isStatic ? makeState(config, props, context, presenceContext) : useConstant(function () {\n      return makeState(config, props, context, presenceContext);\n    });\n  };\n};\n\nfunction makeLatestValues(props, context, presenceContext, scrapeMotionValues) {\n  var values = {};\n  var blockInitialAnimation = (presenceContext === null || presenceContext === void 0 ? void 0 : presenceContext.initial) === false;\n  var motionValues = scrapeMotionValues(props);\n\n  for (var key in motionValues) {\n    values[key] = resolveMotionValue(motionValues[key]);\n  }\n\n  var initial = props.initial,\n      animate = props.animate;\n  var isControllingVariants = checkIfControllingVariants(props);\n  var isVariantNode = checkIfVariantNode(props);\n\n  if (context && isVariantNode && !isControllingVariants && props.inherit !== false) {\n    initial !== null && initial !== void 0 ? initial : initial = context.initial;\n    animate !== null && animate !== void 0 ? animate : animate = context.animate;\n  }\n\n  var initialAnimationIsBlocked = blockInitialAnimation || initial === false;\n  var variantToSet = initialAnimationIsBlocked ? animate : initial;\n\n  if (variantToSet && typeof variantToSet !== \"boolean\" && !isAnimationControls(variantToSet)) {\n    var list = Array.isArray(variantToSet) ? variantToSet : [variantToSet];\n    list.forEach(function (definition) {\n      var resolved = resolveVariantFromProps(props, definition);\n      if (!resolved) return;\n      var transitionEnd = resolved.transitionEnd;\n      resolved.transition;\n\n      var target = __rest(resolved, [\"transitionEnd\", \"transition\"]);\n\n      for (var key in target) {\n        var valueTarget = target[key];\n\n        if (Array.isArray(valueTarget)) {\n          /**\n           * Take final keyframe if the initial animation is blocked because\n           * we want to initialise at the end of that blocked animation.\n           */\n          var index = initialAnimationIsBlocked ? valueTarget.length - 1 : 0;\n          valueTarget = valueTarget[index];\n        }\n\n        if (valueTarget !== null) {\n          values[key] = valueTarget;\n        }\n      }\n\n      for (var key in transitionEnd) {\n        values[key] = transitionEnd[key];\n      }\n    });\n  }\n\n  return values;\n}\n\nexport { makeUseVisualState };","import { renderSVG } from './utils/render.mjs';\nimport { scrapeMotionValuesFromProps } from './utils/scrape-motion-values.mjs';\nimport { makeUseVisualState } from '../../motion/utils/use-visual-state.mjs';\nimport { createSvgRenderState } from './utils/create-render-state.mjs';\nimport { buildSVGAttrs } from './utils/build-attrs.mjs';\nvar svgMotionConfig = {\n  useVisualState: makeUseVisualState({\n    scrapeMotionValuesFromProps: scrapeMotionValuesFromProps,\n    createRenderState: createSvgRenderState,\n    onMount: function onMount(props, instance, _a) {\n      var renderState = _a.renderState,\n          latestValues = _a.latestValues;\n\n      try {\n        renderState.dimensions = typeof instance.getBBox === \"function\" ? instance.getBBox() : instance.getBoundingClientRect();\n      } catch (e) {\n        // Most likely trying to measure an unrendered element under Firefox\n        renderState.dimensions = {\n          x: 0,\n          y: 0,\n          width: 0,\n          height: 0\n        };\n      }\n\n      buildSVGAttrs(renderState, latestValues, {\n        enableHardwareAcceleration: false\n      }, props.transformTemplate); // TODO: Replace with direct assignment\n\n      renderSVG(instance, renderState);\n    }\n  })\n};\nexport { svgMotionConfig };","var AnimationType;\n\n(function (AnimationType) {\n  AnimationType[\"Animate\"] = \"animate\";\n  AnimationType[\"Hover\"] = \"whileHover\";\n  AnimationType[\"Tap\"] = \"whileTap\";\n  AnimationType[\"Drag\"] = \"whileDrag\";\n  AnimationType[\"Focus\"] = \"whileFocus\";\n  AnimationType[\"InView\"] = \"whileInView\";\n  AnimationType[\"Exit\"] = \"exit\";\n})(AnimationType || (AnimationType = {}));\n\nexport { AnimationType };","import { makeUseVisualState } from '../../motion/utils/use-visual-state.mjs';\nimport { scrapeMotionValuesFromProps } from './utils/scrape-motion-values.mjs';\nimport { createHtmlRenderState } from './utils/create-render-state.mjs';\nvar htmlMotionConfig = {\n  useVisualState: makeUseVisualState({\n    scrapeMotionValuesFromProps: scrapeMotionValuesFromProps,\n    createRenderState: createHtmlRenderState\n  })\n};\nexport { htmlMotionConfig };","import { useEffect } from 'react';\n\nfunction addDomEvent(target, eventName, handler, options) {\n  target.addEventListener(eventName, handler, options);\n  return function () {\n    return target.removeEventListener(eventName, handler, options);\n  };\n}\n/**\n * Attaches an event listener directly to the provided DOM element.\n *\n * Bypassing React's event system can be desirable, for instance when attaching non-passive\n * event handlers.\n *\n * ```jsx\n * const ref = useRef(null)\n *\n * useDomEvent(ref, 'wheel', onWheel, { passive: false })\n *\n * return <div ref={ref} />\n * ```\n *\n * @param ref - React.RefObject that's been provided to the element you want to bind the listener to.\n * @param eventName - Name of the event you want listen for.\n * @param handler - Function to fire when receiving the event.\n * @param options - Options to pass to `Event.addEventListener`.\n *\n * @public\n */\n\n\nfunction useDomEvent(ref, eventName, handler, options) {\n  useEffect(function () {\n    var element = ref.current;\n\n    if (handler && element) {\n      return addDomEvent(element, eventName, handler, options);\n    }\n  }, [ref, eventName, handler, options]);\n}\n\nexport { addDomEvent, useDomEvent };","function isMouseEvent(event) {\n  // PointerEvent inherits from MouseEvent so we can't use a straight instanceof check.\n  if (typeof PointerEvent !== \"undefined\" && event instanceof PointerEvent) {\n    return !!(event.pointerType === \"mouse\");\n  }\n\n  return event instanceof MouseEvent;\n}\n\nfunction isTouchEvent(event) {\n  var hasTouches = !!event.touches;\n  return hasTouches;\n}\n\nexport { isMouseEvent, isTouchEvent };","import { isTouchEvent } from '../gestures/utils/event-type.mjs';\n/**\n * Filters out events not attached to the primary pointer (currently left mouse button)\n * @param eventHandler\n */\n\nfunction filterPrimaryPointer(eventHandler) {\n  return function (event) {\n    var isMouseEvent = event instanceof MouseEvent;\n    var isPrimaryPointer = !isMouseEvent || isMouseEvent && event.button === 0;\n\n    if (isPrimaryPointer) {\n      eventHandler(event);\n    }\n  };\n}\n\nvar defaultPagePoint = {\n  pageX: 0,\n  pageY: 0\n};\n\nfunction pointFromTouch(e, pointType) {\n  if (pointType === void 0) {\n    pointType = \"page\";\n  }\n\n  var primaryTouch = e.touches[0] || e.changedTouches[0];\n  var point = primaryTouch || defaultPagePoint;\n  return {\n    x: point[pointType + \"X\"],\n    y: point[pointType + \"Y\"]\n  };\n}\n\nfunction pointFromMouse(point, pointType) {\n  if (pointType === void 0) {\n    pointType = \"page\";\n  }\n\n  return {\n    x: point[pointType + \"X\"],\n    y: point[pointType + \"Y\"]\n  };\n}\n\nfunction extractEventInfo(event, pointType) {\n  if (pointType === void 0) {\n    pointType = \"page\";\n  }\n\n  return {\n    point: isTouchEvent(event) ? pointFromTouch(event, pointType) : pointFromMouse(event, pointType)\n  };\n}\n\nvar wrapHandler = function wrapHandler(handler, shouldFilterPrimaryPointer) {\n  if (shouldFilterPrimaryPointer === void 0) {\n    shouldFilterPrimaryPointer = false;\n  }\n\n  var listener = function listener(event) {\n    return handler(event, extractEventInfo(event));\n  };\n\n  return shouldFilterPrimaryPointer ? filterPrimaryPointer(listener) : listener;\n};\n\nexport { extractEventInfo, wrapHandler };","import { useDomEvent, addDomEvent } from './use-dom-event.mjs';\nimport { wrapHandler } from './event-info.mjs';\nimport { supportsPointerEvents, supportsTouchEvents, supportsMouseEvents } from './utils.mjs';\nvar mouseEventNames = {\n  pointerdown: \"mousedown\",\n  pointermove: \"mousemove\",\n  pointerup: \"mouseup\",\n  pointercancel: \"mousecancel\",\n  pointerover: \"mouseover\",\n  pointerout: \"mouseout\",\n  pointerenter: \"mouseenter\",\n  pointerleave: \"mouseleave\"\n};\nvar touchEventNames = {\n  pointerdown: \"touchstart\",\n  pointermove: \"touchmove\",\n  pointerup: \"touchend\",\n  pointercancel: \"touchcancel\"\n};\n\nfunction getPointerEventName(name) {\n  if (supportsPointerEvents()) {\n    return name;\n  } else if (supportsTouchEvents()) {\n    return touchEventNames[name];\n  } else if (supportsMouseEvents()) {\n    return mouseEventNames[name];\n  }\n\n  return name;\n}\n\nfunction addPointerEvent(target, eventName, handler, options) {\n  return addDomEvent(target, getPointerEventName(eventName), wrapHandler(handler, eventName === \"pointerdown\"), options);\n}\n\nfunction usePointerEvent(ref, eventName, handler, options) {\n  return useDomEvent(ref, getPointerEventName(eventName), handler && wrapHandler(handler, eventName === \"pointerdown\"), options);\n}\n\nexport { addPointerEvent, usePointerEvent };","import { isBrowser } from '../utils/is-browser.mjs'; // We check for event support via functions in case they've been mocked by a testing suite.\n\nvar supportsPointerEvents = function supportsPointerEvents() {\n  return isBrowser && window.onpointerdown === null;\n};\n\nvar supportsTouchEvents = function supportsTouchEvents() {\n  return isBrowser && window.ontouchstart === null;\n};\n\nvar supportsMouseEvents = function supportsMouseEvents() {\n  return isBrowser && window.onmousedown === null;\n};\n\nexport { supportsMouseEvents, supportsPointerEvents, supportsTouchEvents };","function createLock(name) {\n  var lock = null;\n  return function () {\n    var openLock = function openLock() {\n      lock = null;\n    };\n\n    if (lock === null) {\n      lock = name;\n      return openLock;\n    }\n\n    return false;\n  };\n}\n\nvar globalHorizontalLock = createLock(\"dragHorizontal\");\nvar globalVerticalLock = createLock(\"dragVertical\");\n\nfunction getGlobalLock(drag) {\n  var lock = false;\n\n  if (drag === \"y\") {\n    lock = globalVerticalLock();\n  } else if (drag === \"x\") {\n    lock = globalHorizontalLock();\n  } else {\n    var openHorizontal_1 = globalHorizontalLock();\n    var openVertical_1 = globalVerticalLock();\n\n    if (openHorizontal_1 && openVertical_1) {\n      lock = function lock() {\n        openHorizontal_1();\n        openVertical_1();\n      };\n    } else {\n      // Release the locks because we don't use them\n      if (openHorizontal_1) openHorizontal_1();\n      if (openVertical_1) openVertical_1();\n    }\n  }\n\n  return lock;\n}\n\nfunction isDragActive() {\n  // Check the gesture lock - if we get it, it means no drag gesture is active\n  // and we can safely fire the tap gesture.\n  var openGestureLock = getGlobalLock(true);\n  if (!openGestureLock) return true;\n  openGestureLock();\n  return false;\n}\n\nexport { createLock, getGlobalLock, isDragActive };","import { isMouseEvent } from './utils/event-type.mjs';\nimport { AnimationType } from '../render/utils/types.mjs';\nimport { usePointerEvent } from '../events/use-pointer-event.mjs';\nimport { isDragActive } from './drag/utils/lock.mjs';\n\nfunction createHoverEvent(visualElement, isActive, callback) {\n  return function (event, info) {\n    var _a;\n\n    if (!isMouseEvent(event) || isDragActive()) return;\n    /**\n     * Ensure we trigger animations before firing event callback\n     */\n\n    (_a = visualElement.animationState) === null || _a === void 0 ? void 0 : _a.setActive(AnimationType.Hover, isActive);\n    callback === null || callback === void 0 ? void 0 : callback(event, info);\n  };\n}\n\nfunction useHoverGesture(_a) {\n  var onHoverStart = _a.onHoverStart,\n      onHoverEnd = _a.onHoverEnd,\n      whileHover = _a.whileHover,\n      visualElement = _a.visualElement;\n  usePointerEvent(visualElement, \"pointerenter\", onHoverStart || whileHover ? createHoverEvent(visualElement, true, onHoverStart) : undefined);\n  usePointerEvent(visualElement, \"pointerleave\", onHoverEnd || whileHover ? createHoverEvent(visualElement, false, onHoverEnd) : undefined);\n}\n\nexport { useHoverGesture };","/**\n * Recursively traverse up the tree to check whether the provided child node\n * is the parent or a descendant of it.\n *\n * @param parent - Element to find\n * @param child - Element to test against parent\n */\nvar isNodeOrChild = function isNodeOrChild(parent, child) {\n  if (!child) {\n    return false;\n  } else if (parent === child) {\n    return true;\n  } else {\n    return isNodeOrChild(parent, child.parentElement);\n  }\n};\n\nexport { isNodeOrChild };","import { useEffect } from 'react';\n\nfunction useUnmountEffect(callback) {\n  return useEffect(function () {\n    return function () {\n      return callback();\n    };\n  }, []);\n}\n\nexport { useUnmountEffect };","import { __rest, __assign } from 'tslib';\n/**\n * Map an IntersectionHandler callback to an element. We only ever make one handler for one\n * element, so even though these handlers might all be triggered by different\n * observers, we can keep them in the same map.\n */\n\nvar observerCallbacks = new WeakMap();\n/**\n * Multiple observers can be created for multiple element/document roots. Each with\n * different settings. So here we store dictionaries of observers to each root,\n * using serialised settings (threshold/margin) as lookup keys.\n */\n\nvar observers = new WeakMap();\n\nvar fireObserverCallback = function fireObserverCallback(entry) {\n  var _a;\n\n  (_a = observerCallbacks.get(entry.target)) === null || _a === void 0 ? void 0 : _a(entry);\n};\n\nvar fireAllObserverCallbacks = function fireAllObserverCallbacks(entries) {\n  entries.forEach(fireObserverCallback);\n};\n\nfunction initIntersectionObserver(_a) {\n  var root = _a.root,\n      options = __rest(_a, [\"root\"]);\n\n  var lookupRoot = root || document;\n  /**\n   * If we don't have an observer lookup map for this root, create one.\n   */\n\n  if (!observers.has(lookupRoot)) {\n    observers.set(lookupRoot, {});\n  }\n\n  var rootObservers = observers.get(lookupRoot);\n  var key = JSON.stringify(options);\n  /**\n   * If we don't have an observer for this combination of root and settings,\n   * create one.\n   */\n\n  if (!rootObservers[key]) {\n    rootObservers[key] = new IntersectionObserver(fireAllObserverCallbacks, __assign({\n      root: root\n    }, options));\n  }\n\n  return rootObservers[key];\n}\n\nfunction observeIntersection(element, options, callback) {\n  var rootInteresectionObserver = initIntersectionObserver(options);\n  observerCallbacks.set(element, callback);\n  rootInteresectionObserver.observe(element);\n  return function () {\n    observerCallbacks.delete(element);\n    rootInteresectionObserver.unobserve(element);\n  };\n}\n\nexport { observeIntersection };","import { useRef, useEffect } from 'react';\nimport { AnimationType } from '../../../render/utils/types.mjs';\nimport { warnOnce } from '../../../utils/warn-once.mjs';\nimport { observeIntersection } from './observers.mjs';\n\nfunction useViewport(_a) {\n  var visualElement = _a.visualElement,\n      whileInView = _a.whileInView,\n      onViewportEnter = _a.onViewportEnter,\n      onViewportLeave = _a.onViewportLeave,\n      _b = _a.viewport,\n      viewport = _b === void 0 ? {} : _b;\n  var state = useRef({\n    hasEnteredView: false,\n    isInView: false\n  });\n  var shouldObserve = Boolean(whileInView || onViewportEnter || onViewportLeave);\n  if (viewport.once && state.current.hasEnteredView) shouldObserve = false;\n  var useObserver = typeof IntersectionObserver === \"undefined\" ? useMissingIntersectionObserver : useIntersectionObserver;\n  useObserver(shouldObserve, state.current, visualElement, viewport);\n}\n\nvar thresholdNames = {\n  some: 0,\n  all: 1\n};\n\nfunction useIntersectionObserver(shouldObserve, state, visualElement, _a) {\n  var root = _a.root,\n      rootMargin = _a.margin,\n      _b = _a.amount,\n      amount = _b === void 0 ? \"some\" : _b,\n      once = _a.once;\n  useEffect(function () {\n    if (!shouldObserve) return;\n    var options = {\n      root: root === null || root === void 0 ? void 0 : root.current,\n      rootMargin: rootMargin,\n      threshold: typeof amount === \"number\" ? amount : thresholdNames[amount]\n    };\n\n    var intersectionCallback = function intersectionCallback(entry) {\n      var _a;\n\n      var isIntersecting = entry.isIntersecting;\n      /**\n       * If there's been no change in the viewport state, early return.\n       */\n\n      if (state.isInView === isIntersecting) return;\n      state.isInView = isIntersecting;\n      /**\n       * Handle hasEnteredView. If this is only meant to run once, and\n       * element isn't visible, early return. Otherwise set hasEnteredView to true.\n       */\n\n      if (once && !isIntersecting && state.hasEnteredView) {\n        return;\n      } else if (isIntersecting) {\n        state.hasEnteredView = true;\n      }\n\n      (_a = visualElement.animationState) === null || _a === void 0 ? void 0 : _a.setActive(AnimationType.InView, isIntersecting);\n      /**\n       * Use the latest committed props rather than the ones in scope\n       * when this observer is created\n       */\n\n      var props = visualElement.getProps();\n      var callback = isIntersecting ? props.onViewportEnter : props.onViewportLeave;\n      callback === null || callback === void 0 ? void 0 : callback(entry);\n    };\n\n    return observeIntersection(visualElement.getInstance(), options, intersectionCallback);\n  }, [shouldObserve, root, rootMargin, amount]);\n}\n/**\n * If IntersectionObserver is missing, we activate inView and fire onViewportEnter\n * on mount. This way, the page will be in the state the author expects users\n * to see it in for everyone.\n */\n\n\nfunction useMissingIntersectionObserver(shouldObserve, state, visualElement) {\n  useEffect(function () {\n    if (!shouldObserve) return;\n\n    if (process.env.NODE_ENV !== \"production\") {\n      warnOnce(false, \"IntersectionObserver not available on this device. whileInView animations will trigger on mount.\");\n    }\n    /**\n     * Fire this in an rAF because, at this point, the animation state\n     * won't have flushed for the first time and there's certain logic in\n     * there that behaves differently on the initial animation.\n     *\n     * This hook should be quite rarely called so setting this in an rAF\n     * is preferred to changing the behaviour of the animation state.\n     */\n\n\n    requestAnimationFrame(function () {\n      var _a;\n\n      state.hasEnteredView = true;\n      var onViewportEnter = visualElement.getProps().onViewportEnter;\n      onViewportEnter === null || onViewportEnter === void 0 ? void 0 : onViewportEnter(null);\n      (_a = visualElement.animationState) === null || _a === void 0 ? void 0 : _a.setActive(AnimationType.InView, true);\n    });\n  }, [shouldObserve]);\n}\n\nexport { useViewport };","var makeRenderlessComponent = function makeRenderlessComponent(hook) {\n  return function (props) {\n    hook(props);\n    return null;\n  };\n};\n\nexport { makeRenderlessComponent };","import { useFocusGesture } from '../../gestures/use-focus-gesture.mjs';\nimport { useHoverGesture } from '../../gestures/use-hover-gesture.mjs';\nimport { useTapGesture } from '../../gestures/use-tap-gesture.mjs';\nimport { useViewport } from './viewport/use-viewport.mjs';\nimport { makeRenderlessComponent } from '../utils/make-renderless-component.mjs';\nvar gestureAnimations = {\n  inView: makeRenderlessComponent(useViewport),\n  tap: makeRenderlessComponent(useTapGesture),\n  focus: makeRenderlessComponent(useFocusGesture),\n  hover: makeRenderlessComponent(useHoverGesture)\n};\nexport { gestureAnimations };","import { useRef } from 'react';\nimport { isNodeOrChild } from './utils/is-node-or-child.mjs';\nimport { usePointerEvent, addPointerEvent } from '../events/use-pointer-event.mjs';\nimport { useUnmountEffect } from '../utils/use-unmount-effect.mjs';\nimport { pipe } from 'popmotion';\nimport { AnimationType } from '../render/utils/types.mjs';\nimport { isDragActive } from './drag/utils/lock.mjs';\n/**\n * @param handlers -\n * @internal\n */\n\nfunction useTapGesture(_a) {\n  var onTap = _a.onTap,\n      onTapStart = _a.onTapStart,\n      onTapCancel = _a.onTapCancel,\n      whileTap = _a.whileTap,\n      visualElement = _a.visualElement;\n  var hasPressListeners = onTap || onTapStart || onTapCancel || whileTap;\n  var isPressing = useRef(false);\n  var cancelPointerEndListeners = useRef(null);\n\n  function removePointerEndListener() {\n    var _a;\n\n    (_a = cancelPointerEndListeners.current) === null || _a === void 0 ? void 0 : _a.call(cancelPointerEndListeners);\n    cancelPointerEndListeners.current = null;\n  }\n\n  function checkPointerEnd() {\n    var _a;\n\n    removePointerEndListener();\n    isPressing.current = false;\n    (_a = visualElement.animationState) === null || _a === void 0 ? void 0 : _a.setActive(AnimationType.Tap, false);\n    return !isDragActive();\n  }\n\n  function onPointerUp(event, info) {\n    if (!checkPointerEnd()) return;\n    /**\n     * We only count this as a tap gesture if the event.target is the same\n     * as, or a child of, this component's element\n     */\n\n    !isNodeOrChild(visualElement.getInstance(), event.target) ? onTapCancel === null || onTapCancel === void 0 ? void 0 : onTapCancel(event, info) : onTap === null || onTap === void 0 ? void 0 : onTap(event, info);\n  }\n\n  function onPointerCancel(event, info) {\n    if (!checkPointerEnd()) return;\n    onTapCancel === null || onTapCancel === void 0 ? void 0 : onTapCancel(event, info);\n  }\n\n  function onPointerDown(event, info) {\n    var _a;\n\n    removePointerEndListener();\n    if (isPressing.current) return;\n    isPressing.current = true;\n    cancelPointerEndListeners.current = pipe(addPointerEvent(window, \"pointerup\", onPointerUp), addPointerEvent(window, \"pointercancel\", onPointerCancel));\n    /**\n     * Ensure we trigger animations before firing event callback\n     */\n\n    (_a = visualElement.animationState) === null || _a === void 0 ? void 0 : _a.setActive(AnimationType.Tap, true);\n    onTapStart === null || onTapStart === void 0 ? void 0 : onTapStart(event, info);\n  }\n\n  usePointerEvent(visualElement, \"pointerdown\", hasPressListeners ? onPointerDown : undefined);\n  useUnmountEffect(removePointerEndListener);\n}\n\nexport { useTapGesture };","import { AnimationType } from '../render/utils/types.mjs';\nimport { useDomEvent } from '../events/use-dom-event.mjs';\n/**\n *\n * @param props\n * @param ref\n * @internal\n */\n\nfunction useFocusGesture(_a) {\n  var whileFocus = _a.whileFocus,\n      visualElement = _a.visualElement;\n\n  var onFocus = function onFocus() {\n    var _a;\n\n    (_a = visualElement.animationState) === null || _a === void 0 ? void 0 : _a.setActive(AnimationType.Focus, true);\n  };\n\n  var onBlur = function onBlur() {\n    var _a;\n\n    (_a = visualElement.animationState) === null || _a === void 0 ? void 0 : _a.setActive(AnimationType.Focus, false);\n  };\n\n  useDomEvent(visualElement, \"focus\", whileFocus ? onFocus : undefined);\n  useDomEvent(visualElement, \"blur\", whileFocus ? onBlur : undefined);\n}\n\nexport { useFocusGesture };","import { useContext, useEffect } from 'react';\nimport { PresenceContext } from '../../context/PresenceContext.mjs';\nimport { useConstant } from '../../utils/use-constant.mjs';\n/**\n * When a component is the child of `AnimatePresence`, it can use `usePresence`\n * to access information about whether it's still present in the React tree.\n *\n * ```jsx\n * import { usePresence } from \"framer-motion\"\n *\n * export const Component = () => {\n *   const [isPresent, safeToRemove] = usePresence()\n *\n *   useEffect(() => {\n *     !isPresent && setTimeout(safeToRemove, 1000)\n *   }, [isPresent])\n *\n *   return <div />\n * }\n * ```\n *\n * If `isPresent` is `false`, it means that a component has been removed the tree, but\n * `AnimatePresence` won't really remove it until `safeToRemove` has been called.\n *\n * @public\n */\n\nfunction usePresence() {\n  var context = useContext(PresenceContext);\n  if (context === null) return [true, null];\n  var isPresent = context.isPresent,\n      onExitComplete = context.onExitComplete,\n      register = context.register; // It's safe to call the following hooks conditionally (after an early return) because the context will always\n  // either be null or non-null for the lifespan of the component.\n  // Replace with useOpaqueId when released in React\n\n  var id = useUniqueId();\n  useEffect(function () {\n    return register(id);\n  }, []);\n\n  var safeToRemove = function safeToRemove() {\n    return onExitComplete === null || onExitComplete === void 0 ? void 0 : onExitComplete(id);\n  };\n\n  return !isPresent && onExitComplete ? [false, safeToRemove] : [true];\n}\n/**\n * Similar to `usePresence`, except `useIsPresent` simply returns whether or not the component is present.\n * There is no `safeToRemove` function.\n *\n * ```jsx\n * import { useIsPresent } from \"framer-motion\"\n *\n * export const Component = () => {\n *   const isPresent = useIsPresent()\n *\n *   useEffect(() => {\n *     !isPresent && console.log(\"I've been removed!\")\n *   }, [isPresent])\n *\n *   return <div />\n * }\n * ```\n *\n * @public\n */\n\n\nfunction useIsPresent() {\n  return isPresent(useContext(PresenceContext));\n}\n\nfunction isPresent(context) {\n  return context === null ? true : context.isPresent;\n}\n\nvar counter = 0;\n\nvar incrementId = function incrementId() {\n  return counter++;\n};\n\nvar useUniqueId = function useUniqueId() {\n  return useConstant(incrementId);\n};\n\nexport { isPresent, useIsPresent, usePresence };","function shallowCompare(next, prev) {\n  if (!Array.isArray(prev)) return false;\n  var prevLength = prev.length;\n  if (prevLength !== next.length) return false;\n\n  for (var i = 0; i < prevLength; i++) {\n    if (prev[i] !== next[i]) return false;\n  }\n\n  return true;\n}\n\nexport { shallowCompare };","/**\n * Check if value is a numerical string, ie a string that is purely a number eg \"100\" or \"-100.1\"\n */\nvar isNumericalString = function isNumericalString(v) {\n  return /^\\-?\\d*\\.?\\d+$/.test(v);\n};\n\nexport { isNumericalString };","/**\n * Check if the value is a zero value string like \"0px\" or \"0%\"\n */\nvar isZeroValueString = function isZeroValueString(v) {\n  return /^0[^.\\s]+$/.test(v);\n};\n\nexport { isZeroValueString };","/**\n * Tests a provided value against a ValueType\n */\nvar testValueType = function testValueType(v) {\n  return function (type) {\n    return type.test(v);\n  };\n};\n\nexport { testValueType };","import { number, px, percent, degrees, vw, vh } from 'style-value-types';\nimport { testValueType } from './test.mjs';\nimport { auto } from './type-auto.mjs';\n/**\n * A list of value types commonly used for dimensions\n */\n\nvar dimensionValueTypes = [number, px, percent, degrees, vw, vh, auto];\n/**\n * Tests a dimensional value against the list of dimension ValueTypes\n */\n\nvar findDimensionValueType = function findDimensionValueType(v) {\n  return dimensionValueTypes.find(testValueType(v));\n};\n\nexport { dimensionValueTypes, findDimensionValueType };","/**\n * ValueType for \"auto\"\n */\nvar auto = {\n  test: function test(v) {\n    return v === \"auto\";\n  },\n  parse: function parse(v) {\n    return v;\n  }\n};\nexport { auto };","import { __spreadArray, __read } from 'tslib';\nimport { color, complex } from 'style-value-types';\nimport { dimensionValueTypes } from './dimensions.mjs';\nimport { testValueType } from './test.mjs';\n/**\n * A list of all ValueTypes\n */\n\nvar valueTypes = __spreadArray(__spreadArray([], __read(dimensionValueTypes), false), [color, complex], false);\n/**\n * Tests a value against the list of ValueTypes\n */\n\n\nvar findValueType = function findValueType(v) {\n  return valueTypes.find(testValueType(v));\n};\n\nexport { findValueType };","import { __rest, __assign, __spreadArray, __read } from 'tslib';\nimport { complex } from 'style-value-types';\nimport { isNumericalString } from '../../utils/is-numerical-string.mjs';\nimport { isZeroValueString } from '../../utils/is-zero-value-string.mjs';\nimport { resolveFinalValueInKeyframes } from '../../utils/resolve-value.mjs';\nimport { motionValue } from '../../value/index.mjs';\nimport { getAnimatableNone } from '../dom/value-types/animatable-none.mjs';\nimport { findValueType } from '../dom/value-types/find.mjs';\nimport { resolveVariant } from './variants.mjs';\n/**\n * Set VisualElement's MotionValue, creating a new MotionValue for it if\n * it doesn't exist.\n */\n\nfunction setMotionValue(visualElement, key, value) {\n  if (visualElement.hasValue(key)) {\n    visualElement.getValue(key).set(value);\n  } else {\n    visualElement.addValue(key, motionValue(value));\n  }\n}\n\nfunction setTarget(visualElement, definition) {\n  var resolved = resolveVariant(visualElement, definition);\n\n  var _a = resolved ? visualElement.makeTargetAnimatable(resolved, false) : {},\n      _b = _a.transitionEnd,\n      transitionEnd = _b === void 0 ? {} : _b;\n\n  _a.transition;\n\n  var target = __rest(_a, [\"transitionEnd\", \"transition\"]);\n\n  target = __assign(__assign({}, target), transitionEnd);\n\n  for (var key in target) {\n    var value = resolveFinalValueInKeyframes(target[key]);\n    setMotionValue(visualElement, key, value);\n  }\n}\n\nfunction setVariants(visualElement, variantLabels) {\n  var reversedLabels = __spreadArray([], __read(variantLabels), false).reverse();\n\n  reversedLabels.forEach(function (key) {\n    var _a;\n\n    var variant = visualElement.getVariant(key);\n    variant && setTarget(visualElement, variant);\n    (_a = visualElement.variantChildren) === null || _a === void 0 ? void 0 : _a.forEach(function (child) {\n      setVariants(child, variantLabels);\n    });\n  });\n}\n\nfunction setValues(visualElement, definition) {\n  if (Array.isArray(definition)) {\n    return setVariants(visualElement, definition);\n  } else if (typeof definition === \"string\") {\n    return setVariants(visualElement, [definition]);\n  } else {\n    setTarget(visualElement, definition);\n  }\n}\n\nfunction checkTargetForNewValues(visualElement, target, origin) {\n  var _a, _b, _c;\n\n  var _d;\n\n  var newValueKeys = Object.keys(target).filter(function (key) {\n    return !visualElement.hasValue(key);\n  });\n  var numNewValues = newValueKeys.length;\n  if (!numNewValues) return;\n\n  for (var i = 0; i < numNewValues; i++) {\n    var key = newValueKeys[i];\n    var targetValue = target[key];\n    var value = null;\n    /**\n     * If the target is a series of keyframes, we can use the first value\n     * in the array. If this first value is null, we'll still need to read from the DOM.\n     */\n\n    if (Array.isArray(targetValue)) {\n      value = targetValue[0];\n    }\n    /**\n     * If the target isn't keyframes, or the first keyframe was null, we need to\n     * first check if an origin value was explicitly defined in the transition as \"from\",\n     * if not read the value from the DOM. As an absolute fallback, take the defined target value.\n     */\n\n\n    if (value === null) {\n      value = (_b = (_a = origin[key]) !== null && _a !== void 0 ? _a : visualElement.readValue(key)) !== null && _b !== void 0 ? _b : target[key];\n    }\n    /**\n     * If value is still undefined or null, ignore it. Preferably this would throw,\n     * but this was causing issues in Framer.\n     */\n\n\n    if (value === undefined || value === null) continue;\n\n    if (typeof value === \"string\" && (isNumericalString(value) || isZeroValueString(value))) {\n      // If this is a number read as a string, ie \"0\" or \"200\", convert it to a number\n      value = parseFloat(value);\n    } else if (!findValueType(value) && complex.test(targetValue)) {\n      value = getAnimatableNone(key, targetValue);\n    }\n\n    visualElement.addValue(key, motionValue(value));\n    (_c = (_d = origin)[key]) !== null && _c !== void 0 ? _c : _d[key] = value;\n    visualElement.setBaseTarget(key, value);\n  }\n}\n\nfunction getOriginFromTransition(key, transition) {\n  if (!transition) return;\n  var valueTransition = transition[key] || transition[\"default\"] || transition;\n  return valueTransition.from;\n}\n\nfunction getOrigin(target, transition, visualElement) {\n  var _a, _b;\n\n  var origin = {};\n\n  for (var key in target) {\n    origin[key] = (_a = getOriginFromTransition(key, transition)) !== null && _a !== void 0 ? _a : (_b = visualElement.getValue(key)) === null || _b === void 0 ? void 0 : _b.get();\n  }\n\n  return origin;\n}\n\nexport { checkTargetForNewValues, getOrigin, getOriginFromTransition, setTarget, setValues };","import { __read, __rest, __assign } from 'tslib';\nimport { startAnimation } from '../../animation/utils/transitions.mjs';\nimport { setTarget } from './setters.mjs';\nimport { resolveVariant } from './variants.mjs';\n/**\n * @internal\n */\n\nfunction animateVisualElement(visualElement, definition, options) {\n  if (options === void 0) {\n    options = {};\n  }\n\n  visualElement.notifyAnimationStart(definition);\n  var animation;\n\n  if (Array.isArray(definition)) {\n    var animations = definition.map(function (variant) {\n      return animateVariant(visualElement, variant, options);\n    });\n    animation = Promise.all(animations);\n  } else if (typeof definition === \"string\") {\n    animation = animateVariant(visualElement, definition, options);\n  } else {\n    var resolvedDefinition = typeof definition === \"function\" ? resolveVariant(visualElement, definition, options.custom) : definition;\n    animation = animateTarget(visualElement, resolvedDefinition, options);\n  }\n\n  return animation.then(function () {\n    return visualElement.notifyAnimationComplete(definition);\n  });\n}\n\nfunction animateVariant(visualElement, variant, options) {\n  var _a;\n\n  if (options === void 0) {\n    options = {};\n  }\n\n  var resolved = resolveVariant(visualElement, variant, options.custom);\n  var _b = (resolved || {}).transition,\n      transition = _b === void 0 ? visualElement.getDefaultTransition() || {} : _b;\n\n  if (options.transitionOverride) {\n    transition = options.transitionOverride;\n  }\n  /**\n   * If we have a variant, create a callback that runs it as an animation.\n   * Otherwise, we resolve a Promise immediately for a composable no-op.\n   */\n\n\n  var getAnimation = resolved ? function () {\n    return animateTarget(visualElement, resolved, options);\n  } : function () {\n    return Promise.resolve();\n  };\n  /**\n   * If we have children, create a callback that runs all their animations.\n   * Otherwise, we resolve a Promise immediately for a composable no-op.\n   */\n\n  var getChildAnimations = ((_a = visualElement.variantChildren) === null || _a === void 0 ? void 0 : _a.size) ? function (forwardDelay) {\n    if (forwardDelay === void 0) {\n      forwardDelay = 0;\n    }\n\n    var _a = transition.delayChildren,\n        delayChildren = _a === void 0 ? 0 : _a,\n        staggerChildren = transition.staggerChildren,\n        staggerDirection = transition.staggerDirection;\n    return animateChildren(visualElement, variant, delayChildren + forwardDelay, staggerChildren, staggerDirection, options);\n  } : function () {\n    return Promise.resolve();\n  };\n  /**\n   * If the transition explicitly defines a \"when\" option, we need to resolve either\n   * this animation or all children animations before playing the other.\n   */\n\n  var when = transition.when;\n\n  if (when) {\n    var _c = __read(when === \"beforeChildren\" ? [getAnimation, getChildAnimations] : [getChildAnimations, getAnimation], 2),\n        first = _c[0],\n        last = _c[1];\n\n    return first().then(last);\n  } else {\n    return Promise.all([getAnimation(), getChildAnimations(options.delay)]);\n  }\n}\n/**\n * @internal\n */\n\n\nfunction animateTarget(visualElement, definition, _a) {\n  var _b;\n\n  var _c = _a === void 0 ? {} : _a,\n      _d = _c.delay,\n      delay = _d === void 0 ? 0 : _d,\n      transitionOverride = _c.transitionOverride,\n      type = _c.type;\n\n  var _e = visualElement.makeTargetAnimatable(definition),\n      _f = _e.transition,\n      transition = _f === void 0 ? visualElement.getDefaultTransition() : _f,\n      transitionEnd = _e.transitionEnd,\n      target = __rest(_e, [\"transition\", \"transitionEnd\"]);\n\n  if (transitionOverride) transition = transitionOverride;\n  var animations = [];\n  var animationTypeState = type && ((_b = visualElement.animationState) === null || _b === void 0 ? void 0 : _b.getState()[type]);\n\n  for (var key in target) {\n    var value = visualElement.getValue(key);\n    var valueTarget = target[key];\n\n    if (!value || valueTarget === undefined || animationTypeState && shouldBlockAnimation(animationTypeState, key)) {\n      continue;\n    }\n\n    var animation = startAnimation(key, value, valueTarget, __assign({\n      delay: delay\n    }, transition));\n    animations.push(animation);\n  }\n\n  return Promise.all(animations).then(function () {\n    transitionEnd && setTarget(visualElement, transitionEnd);\n  });\n}\n\nfunction animateChildren(visualElement, variant, delayChildren, staggerChildren, staggerDirection, options) {\n  if (delayChildren === void 0) {\n    delayChildren = 0;\n  }\n\n  if (staggerChildren === void 0) {\n    staggerChildren = 0;\n  }\n\n  if (staggerDirection === void 0) {\n    staggerDirection = 1;\n  }\n\n  var animations = [];\n  var maxStaggerDuration = (visualElement.variantChildren.size - 1) * staggerChildren;\n  var generateStaggerDuration = staggerDirection === 1 ? function (i) {\n    if (i === void 0) {\n      i = 0;\n    }\n\n    return i * staggerChildren;\n  } : function (i) {\n    if (i === void 0) {\n      i = 0;\n    }\n\n    return maxStaggerDuration - i * staggerChildren;\n  };\n  Array.from(visualElement.variantChildren).sort(sortByTreeOrder).forEach(function (child, i) {\n    animations.push(animateVariant(child, variant, __assign(__assign({}, options), {\n      delay: delayChildren + generateStaggerDuration(i)\n    })).then(function () {\n      return child.notifyAnimationComplete(variant);\n    }));\n  });\n  return Promise.all(animations);\n}\n\nfunction stopAnimation(visualElement) {\n  visualElement.forEachValue(function (value) {\n    return value.stop();\n  });\n}\n\nfunction sortByTreeOrder(a, b) {\n  return a.sortNodePosition(b);\n}\n/**\n * Decide whether we should block this animation. Previously, we achieved this\n * just by checking whether the key was listed in protectedKeys, but this\n * posed problems if an animation was triggered by afterChildren and protectedKeys\n * had been set to true in the meantime.\n */\n\n\nfunction shouldBlockAnimation(_a, key) {\n  var protectedKeys = _a.protectedKeys,\n      needsAnimating = _a.needsAnimating;\n  var shouldBlock = protectedKeys.hasOwnProperty(key) && needsAnimating[key] !== true;\n  needsAnimating[key] = false;\n  return shouldBlock;\n}\n\nexport { animateVisualElement, sortByTreeOrder, stopAnimation };","import { __spreadArray, __read, __assign, __rest } from 'tslib';\nimport { isAnimationControls } from '../../animation/utils/is-animation-controls.mjs';\nimport { isKeyframesTarget } from '../../animation/utils/is-keyframes-target.mjs';\nimport { shallowCompare } from '../../utils/shallow-compare.mjs';\nimport { animateVisualElement } from './animation.mjs';\nimport { AnimationType } from './types.mjs';\nimport { isVariantLabels, resolveVariant, isVariantLabel } from './variants.mjs';\nvar variantPriorityOrder = [AnimationType.Animate, AnimationType.InView, AnimationType.Focus, AnimationType.Hover, AnimationType.Tap, AnimationType.Drag, AnimationType.Exit];\n\nvar reversePriorityOrder = __spreadArray([], __read(variantPriorityOrder), false).reverse();\n\nvar numAnimationTypes = variantPriorityOrder.length;\n\nfunction animateList(visualElement) {\n  return function (animations) {\n    return Promise.all(animations.map(function (_a) {\n      var animation = _a.animation,\n          options = _a.options;\n      return animateVisualElement(visualElement, animation, options);\n    }));\n  };\n}\n\nfunction createAnimationState(visualElement) {\n  var animate = animateList(visualElement);\n  var state = createState();\n  var allAnimatedKeys = {};\n  var isInitialRender = true;\n  /**\n   * This function will be used to reduce the animation definitions for\n   * each active animation type into an object of resolved values for it.\n   */\n\n  var buildResolvedTypeValues = function buildResolvedTypeValues(acc, definition) {\n    var resolved = resolveVariant(visualElement, definition);\n\n    if (resolved) {\n      resolved.transition;\n\n      var transitionEnd = resolved.transitionEnd,\n          target = __rest(resolved, [\"transition\", \"transitionEnd\"]);\n\n      acc = __assign(__assign(__assign({}, acc), target), transitionEnd);\n    }\n\n    return acc;\n  };\n\n  function isAnimated(key) {\n    return allAnimatedKeys[key] !== undefined;\n  }\n  /**\n   * This just allows us to inject mocked animation functions\n   * @internal\n   */\n\n\n  function setAnimateFunction(makeAnimator) {\n    animate = makeAnimator(visualElement);\n  }\n  /**\n   * When we receive new props, we need to:\n   * 1. Create a list of protected keys for each type. This is a directory of\n   *    value keys that are currently being \"handled\" by types of a higher priority\n   *    so that whenever an animation is played of a given type, these values are\n   *    protected from being animated.\n   * 2. Determine if an animation type needs animating.\n   * 3. Determine if any values have been removed from a type and figure out\n   *    what to animate those to.\n   */\n\n\n  function animateChanges(options, changedActiveType) {\n    var _a;\n\n    var props = visualElement.getProps();\n    var context = visualElement.getVariantContext(true) || {};\n    /**\n     * A list of animations that we'll build into as we iterate through the animation\n     * types. This will get executed at the end of the function.\n     */\n\n    var animations = [];\n    /**\n     * Keep track of which values have been removed. Then, as we hit lower priority\n     * animation types, we can check if they contain removed values and animate to that.\n     */\n\n    var removedKeys = new Set();\n    /**\n     * A dictionary of all encountered keys. This is an object to let us build into and\n     * copy it without iteration. Each time we hit an animation type we set its protected\n     * keys - the keys its not allowed to animate - to the latest version of this object.\n     */\n\n    var encounteredKeys = {};\n    /**\n     * If a variant has been removed at a given index, and this component is controlling\n     * variant animations, we want to ensure lower-priority variants are forced to animate.\n     */\n\n    var removedVariantIndex = Infinity;\n\n    var _loop_1 = function _loop_1(i) {\n      var type = reversePriorityOrder[i];\n      var typeState = state[type];\n      var prop = (_a = props[type]) !== null && _a !== void 0 ? _a : context[type];\n      var propIsVariant = isVariantLabel(prop);\n      /**\n       * If this type has *just* changed isActive status, set activeDelta\n       * to that status. Otherwise set to null.\n       */\n\n      var activeDelta = type === changedActiveType ? typeState.isActive : null;\n      if (activeDelta === false) removedVariantIndex = i;\n      /**\n       * If this prop is an inherited variant, rather than been set directly on the\n       * component itself, we want to make sure we allow the parent to trigger animations.\n       *\n       * TODO: Can probably change this to a !isControllingVariants check\n       */\n\n      var isInherited = prop === context[type] && prop !== props[type] && propIsVariant;\n      /**\n       *\n       */\n\n      if (isInherited && isInitialRender && visualElement.manuallyAnimateOnMount) {\n        isInherited = false;\n      }\n      /**\n       * Set all encountered keys so far as the protected keys for this type. This will\n       * be any key that has been animated or otherwise handled by active, higher-priortiy types.\n       */\n\n\n      typeState.protectedKeys = __assign({}, encounteredKeys); // Check if we can skip analysing this prop early\n\n      if ( // If it isn't active and hasn't *just* been set as inactive\n      !typeState.isActive && activeDelta === null || // If we didn't and don't have any defined prop for this animation type\n      !prop && !typeState.prevProp || // Or if the prop doesn't define an animation\n      isAnimationControls(prop) || typeof prop === \"boolean\") {\n        return \"continue\";\n      }\n      /**\n       * As we go look through the values defined on this type, if we detect\n       * a changed value or a value that was removed in a higher priority, we set\n       * this to true and add this prop to the animation list.\n       */\n\n\n      var variantDidChange = checkVariantsDidChange(typeState.prevProp, prop);\n      var shouldAnimateType = variantDidChange || // If we're making this variant active, we want to always make it active\n      type === changedActiveType && typeState.isActive && !isInherited && propIsVariant || // If we removed a higher-priority variant (i is in reverse order)\n      i > removedVariantIndex && propIsVariant;\n      /**\n       * As animations can be set as variant lists, variants or target objects, we\n       * coerce everything to an array if it isn't one already\n       */\n\n      var definitionList = Array.isArray(prop) ? prop : [prop];\n      /**\n       * Build an object of all the resolved values. We'll use this in the subsequent\n       * animateChanges calls to determine whether a value has changed.\n       */\n\n      var resolvedValues = definitionList.reduce(buildResolvedTypeValues, {});\n      if (activeDelta === false) resolvedValues = {};\n      /**\n       * Now we need to loop through all the keys in the prev prop and this prop,\n       * and decide:\n       * 1. If the value has changed, and needs animating\n       * 2. If it has been removed, and needs adding to the removedKeys set\n       * 3. If it has been removed in a higher priority type and needs animating\n       * 4. If it hasn't been removed in a higher priority but hasn't changed, and\n       *    needs adding to the type's protectedKeys list.\n       */\n\n      var _b = typeState.prevResolvedValues,\n          prevResolvedValues = _b === void 0 ? {} : _b;\n\n      var allKeys = __assign(__assign({}, prevResolvedValues), resolvedValues);\n\n      var markToAnimate = function markToAnimate(key) {\n        shouldAnimateType = true;\n        removedKeys.delete(key);\n        typeState.needsAnimating[key] = true;\n      };\n\n      for (var key in allKeys) {\n        var next = resolvedValues[key];\n        var prev = prevResolvedValues[key]; // If we've already handled this we can just skip ahead\n\n        if (encounteredKeys.hasOwnProperty(key)) continue;\n        /**\n         * If the value has changed, we probably want to animate it.\n         */\n\n        if (next !== prev) {\n          /**\n           * If both values are keyframes, we need to shallow compare them to\n           * detect whether any value has changed. If it has, we animate it.\n           */\n          if (isKeyframesTarget(next) && isKeyframesTarget(prev)) {\n            if (!shallowCompare(next, prev) || variantDidChange) {\n              markToAnimate(key);\n            } else {\n              /**\n               * If it hasn't changed, we want to ensure it doesn't animate by\n               * adding it to the list of protected keys.\n               */\n              typeState.protectedKeys[key] = true;\n            }\n          } else if (next !== undefined) {\n            // If next is defined and doesn't equal prev, it needs animating\n            markToAnimate(key);\n          } else {\n            // If it's undefined, it's been removed.\n            removedKeys.add(key);\n          }\n        } else if (next !== undefined && removedKeys.has(key)) {\n          /**\n           * If next hasn't changed and it isn't undefined, we want to check if it's\n           * been removed by a higher priority\n           */\n          markToAnimate(key);\n        } else {\n          /**\n           * If it hasn't changed, we add it to the list of protected values\n           * to ensure it doesn't get animated.\n           */\n          typeState.protectedKeys[key] = true;\n        }\n      }\n      /**\n       * Update the typeState so next time animateChanges is called we can compare the\n       * latest prop and resolvedValues to these.\n       */\n\n\n      typeState.prevProp = prop;\n      typeState.prevResolvedValues = resolvedValues;\n      /**\n       *\n       */\n\n      if (typeState.isActive) {\n        encounteredKeys = __assign(__assign({}, encounteredKeys), resolvedValues);\n      }\n\n      if (isInitialRender && visualElement.blockInitialAnimation) {\n        shouldAnimateType = false;\n      }\n      /**\n       * If this is an inherited prop we want to hard-block animations\n       * TODO: Test as this should probably still handle animations triggered\n       * by removed values?\n       */\n\n\n      if (shouldAnimateType && !isInherited) {\n        animations.push.apply(animations, __spreadArray([], __read(definitionList.map(function (animation) {\n          return {\n            animation: animation,\n            options: __assign({\n              type: type\n            }, options)\n          };\n        })), false));\n      }\n    };\n    /**\n     * Iterate through all animation types in reverse priority order. For each, we want to\n     * detect which values it's handling and whether or not they've changed (and therefore\n     * need to be animated). If any values have been removed, we want to detect those in\n     * lower priority props and flag for animation.\n     */\n\n\n    for (var i = 0; i < numAnimationTypes; i++) {\n      _loop_1(i);\n    }\n\n    allAnimatedKeys = __assign({}, encounteredKeys);\n    /**\n     * If there are some removed value that haven't been dealt with,\n     * we need to create a new animation that falls back either to the value\n     * defined in the style prop, or the last read value.\n     */\n\n    if (removedKeys.size) {\n      var fallbackAnimation_1 = {};\n      removedKeys.forEach(function (key) {\n        var fallbackTarget = visualElement.getBaseTarget(key);\n\n        if (fallbackTarget !== undefined) {\n          fallbackAnimation_1[key] = fallbackTarget;\n        }\n      });\n      animations.push({\n        animation: fallbackAnimation_1\n      });\n    }\n\n    var shouldAnimate = Boolean(animations.length);\n\n    if (isInitialRender && props.initial === false && !visualElement.manuallyAnimateOnMount) {\n      shouldAnimate = false;\n    }\n\n    isInitialRender = false;\n    return shouldAnimate ? animate(animations) : Promise.resolve();\n  }\n  /**\n   * Change whether a certain animation type is active.\n   */\n\n\n  function setActive(type, isActive, options) {\n    var _a; // If the active state hasn't changed, we can safely do nothing here\n\n\n    if (state[type].isActive === isActive) return Promise.resolve(); // Propagate active change to children\n\n    (_a = visualElement.variantChildren) === null || _a === void 0 ? void 0 : _a.forEach(function (child) {\n      var _a;\n\n      return (_a = child.animationState) === null || _a === void 0 ? void 0 : _a.setActive(type, isActive);\n    });\n    state[type].isActive = isActive;\n    return animateChanges(options, type);\n  }\n\n  return {\n    isAnimated: isAnimated,\n    animateChanges: animateChanges,\n    setActive: setActive,\n    setAnimateFunction: setAnimateFunction,\n    getState: function getState() {\n      return state;\n    }\n  };\n}\n\nfunction checkVariantsDidChange(prev, next) {\n  if (typeof next === \"string\") {\n    return next !== prev;\n  } else if (isVariantLabels(next)) {\n    return !shallowCompare(next, prev);\n  }\n\n  return false;\n}\n\nfunction createTypeState(isActive) {\n  if (isActive === void 0) {\n    isActive = false;\n  }\n\n  return {\n    isActive: isActive,\n    protectedKeys: {},\n    needsAnimating: {},\n    prevResolvedValues: {}\n  };\n}\n\nfunction createState() {\n  var _a;\n\n  return _a = {}, _a[AnimationType.Animate] = createTypeState(true), _a[AnimationType.InView] = createTypeState(), _a[AnimationType.Hover] = createTypeState(), _a[AnimationType.Tap] = createTypeState(), _a[AnimationType.Drag] = createTypeState(), _a[AnimationType.Focus] = createTypeState(), _a[AnimationType.Exit] = createTypeState(), _a;\n}\n\nexport { checkVariantsDidChange, createAnimationState, variantPriorityOrder };","import { __read } from 'tslib';\nimport { useEffect, useContext } from 'react';\nimport { isAnimationControls } from '../../animation/utils/is-animation-controls.mjs';\nimport { usePresence } from '../../components/AnimatePresence/use-presence.mjs';\nimport { PresenceContext } from '../../context/PresenceContext.mjs';\nimport { createAnimationState } from '../../render/utils/animation-state.mjs';\nimport { AnimationType } from '../../render/utils/types.mjs';\nimport { makeRenderlessComponent } from '../utils/make-renderless-component.mjs';\nvar animations = {\n  animation: makeRenderlessComponent(function (_a) {\n    var visualElement = _a.visualElement,\n        animate = _a.animate;\n    /**\n     * We dynamically generate the AnimationState manager as it contains a reference\n     * to the underlying animation library. We only want to load that if we load this,\n     * so people can optionally code split it out using the `m` component.\n     */\n\n    visualElement.animationState || (visualElement.animationState = createAnimationState(visualElement));\n    /**\n     * Subscribe any provided AnimationControls to the component's VisualElement\n     */\n\n    if (isAnimationControls(animate)) {\n      useEffect(function () {\n        return animate.subscribe(visualElement);\n      }, [animate]);\n    }\n  }),\n  exit: makeRenderlessComponent(function (props) {\n    var custom = props.custom,\n        visualElement = props.visualElement;\n\n    var _a = __read(usePresence(), 2),\n        isPresent = _a[0],\n        safeToRemove = _a[1];\n\n    var presenceContext = useContext(PresenceContext);\n    useEffect(function () {\n      var _a, _b;\n\n      visualElement.isPresent = isPresent;\n      var animation = (_a = visualElement.animationState) === null || _a === void 0 ? void 0 : _a.setActive(AnimationType.Exit, !isPresent, {\n        custom: (_b = presenceContext === null || presenceContext === void 0 ? void 0 : presenceContext.custom) !== null && _b !== void 0 ? _b : custom\n      });\n      !isPresent && (animation === null || animation === void 0 ? void 0 : animation.then(safeToRemove));\n    }, [isPresent]);\n  })\n};\nexport { animations };","import { __assign } from 'tslib';\nimport { isMouseEvent, isTouchEvent } from './utils/event-type.mjs';\nimport { extractEventInfo } from '../events/event-info.mjs';\nimport sync, { getFrameData, cancelSync } from 'framesync';\nimport { secondsToMilliseconds } from '../utils/time-conversion.mjs';\nimport { addPointerEvent } from '../events/use-pointer-event.mjs';\nimport { distance, pipe } from 'popmotion';\n/**\n * @internal\n */\n\nvar PanSession =\n/** @class */\nfunction () {\n  function PanSession(event, handlers, _a) {\n    var _this = this;\n\n    var _b = _a === void 0 ? {} : _a,\n        transformPagePoint = _b.transformPagePoint;\n    /**\n     * @internal\n     */\n\n\n    this.startEvent = null;\n    /**\n     * @internal\n     */\n\n    this.lastMoveEvent = null;\n    /**\n     * @internal\n     */\n\n    this.lastMoveEventInfo = null;\n    /**\n     * @internal\n     */\n\n    this.handlers = {};\n\n    this.updatePoint = function () {\n      if (!(_this.lastMoveEvent && _this.lastMoveEventInfo)) return;\n      var info = getPanInfo(_this.lastMoveEventInfo, _this.history);\n      var isPanStarted = _this.startEvent !== null; // Only start panning if the offset is larger than 3 pixels. If we make it\n      // any larger than this we'll want to reset the pointer history\n      // on the first update to avoid visual snapping to the cursoe.\n\n      var isDistancePastThreshold = distance(info.offset, {\n        x: 0,\n        y: 0\n      }) >= 3;\n      if (!isPanStarted && !isDistancePastThreshold) return;\n      var point = info.point;\n      var timestamp = getFrameData().timestamp;\n\n      _this.history.push(__assign(__assign({}, point), {\n        timestamp: timestamp\n      }));\n\n      var _a = _this.handlers,\n          onStart = _a.onStart,\n          onMove = _a.onMove;\n\n      if (!isPanStarted) {\n        onStart && onStart(_this.lastMoveEvent, info);\n        _this.startEvent = _this.lastMoveEvent;\n      }\n\n      onMove && onMove(_this.lastMoveEvent, info);\n    };\n\n    this.handlePointerMove = function (event, info) {\n      _this.lastMoveEvent = event;\n      _this.lastMoveEventInfo = transformPoint(info, _this.transformPagePoint); // Because Safari doesn't trigger mouseup events when it's above a `<select>`\n\n      if (isMouseEvent(event) && event.buttons === 0) {\n        _this.handlePointerUp(event, info);\n\n        return;\n      } // Throttle mouse move event to once per frame\n\n\n      sync.update(_this.updatePoint, true);\n    };\n\n    this.handlePointerUp = function (event, info) {\n      _this.end();\n\n      var _a = _this.handlers,\n          onEnd = _a.onEnd,\n          onSessionEnd = _a.onSessionEnd;\n      var panInfo = getPanInfo(transformPoint(info, _this.transformPagePoint), _this.history);\n\n      if (_this.startEvent && onEnd) {\n        onEnd(event, panInfo);\n      }\n\n      onSessionEnd && onSessionEnd(event, panInfo);\n    }; // If we have more than one touch, don't start detecting this gesture\n\n\n    if (isTouchEvent(event) && event.touches.length > 1) return;\n    this.handlers = handlers;\n    this.transformPagePoint = transformPagePoint;\n    var info = extractEventInfo(event);\n    var initialInfo = transformPoint(info, this.transformPagePoint);\n    var point = initialInfo.point;\n    var timestamp = getFrameData().timestamp;\n    this.history = [__assign(__assign({}, point), {\n      timestamp: timestamp\n    })];\n    var onSessionStart = handlers.onSessionStart;\n    onSessionStart && onSessionStart(event, getPanInfo(initialInfo, this.history));\n    this.removeListeners = pipe(addPointerEvent(window, \"pointermove\", this.handlePointerMove), addPointerEvent(window, \"pointerup\", this.handlePointerUp), addPointerEvent(window, \"pointercancel\", this.handlePointerUp));\n  }\n\n  PanSession.prototype.updateHandlers = function (handlers) {\n    this.handlers = handlers;\n  };\n\n  PanSession.prototype.end = function () {\n    this.removeListeners && this.removeListeners();\n    cancelSync.update(this.updatePoint);\n  };\n\n  return PanSession;\n}();\n\nfunction transformPoint(info, transformPagePoint) {\n  return transformPagePoint ? {\n    point: transformPagePoint(info.point)\n  } : info;\n}\n\nfunction subtractPoint(a, b) {\n  return {\n    x: a.x - b.x,\n    y: a.y - b.y\n  };\n}\n\nfunction getPanInfo(_a, history) {\n  var point = _a.point;\n  return {\n    point: point,\n    delta: subtractPoint(point, lastDevicePoint(history)),\n    offset: subtractPoint(point, startDevicePoint(history)),\n    velocity: getVelocity(history, 0.1)\n  };\n}\n\nfunction startDevicePoint(history) {\n  return history[0];\n}\n\nfunction lastDevicePoint(history) {\n  return history[history.length - 1];\n}\n\nfunction getVelocity(history, timeDelta) {\n  if (history.length < 2) {\n    return {\n      x: 0,\n      y: 0\n    };\n  }\n\n  var i = history.length - 1;\n  var timestampedPoint = null;\n  var lastPoint = lastDevicePoint(history);\n\n  while (i >= 0) {\n    timestampedPoint = history[i];\n\n    if (lastPoint.timestamp - timestampedPoint.timestamp > secondsToMilliseconds(timeDelta)) {\n      break;\n    }\n\n    i--;\n  }\n\n  if (!timestampedPoint) {\n    return {\n      x: 0,\n      y: 0\n    };\n  }\n\n  var time = (lastPoint.timestamp - timestampedPoint.timestamp) / 1000;\n\n  if (time === 0) {\n    return {\n      x: 0,\n      y: 0\n    };\n  }\n\n  var currentVelocity = {\n    x: (lastPoint.x - timestampedPoint.x) / time,\n    y: (lastPoint.y - timestampedPoint.y) / time\n  };\n\n  if (currentVelocity.x === Infinity) {\n    currentVelocity.x = 0;\n  }\n\n  if (currentVelocity.y === Infinity) {\n    currentVelocity.y = 0;\n  }\n\n  return currentVelocity;\n}\n\nexport { PanSession };","import { __read } from 'tslib';\nimport { clamp, mix, progress } from 'popmotion';\nimport { calcLength } from '../../../projection/geometry/delta-calc.mjs';\n/**\n * Apply constraints to a point. These constraints are both physical along an\n * axis, and an elastic factor that determines how much to constrain the point\n * by if it does lie outside the defined parameters.\n */\n\nfunction applyConstraints(point, _a, elastic) {\n  var min = _a.min,\n      max = _a.max;\n\n  if (min !== undefined && point < min) {\n    // If we have a min point defined, and this is outside of that, constrain\n    point = elastic ? mix(min, point, elastic.min) : Math.max(point, min);\n  } else if (max !== undefined && point > max) {\n    // If we have a max point defined, and this is outside of that, constrain\n    point = elastic ? mix(max, point, elastic.max) : Math.min(point, max);\n  }\n\n  return point;\n}\n/**\n * Calculate constraints in terms of the viewport when defined relatively to the\n * measured axis. This is measured from the nearest edge, so a max constraint of 200\n * on an axis with a max value of 300 would return a constraint of 500 - axis length\n */\n\n\nfunction calcRelativeAxisConstraints(axis, min, max) {\n  return {\n    min: min !== undefined ? axis.min + min : undefined,\n    max: max !== undefined ? axis.max + max - (axis.max - axis.min) : undefined\n  };\n}\n/**\n * Calculate constraints in terms of the viewport when\n * defined relatively to the measured bounding box.\n */\n\n\nfunction calcRelativeConstraints(layoutBox, _a) {\n  var top = _a.top,\n      left = _a.left,\n      bottom = _a.bottom,\n      right = _a.right;\n  return {\n    x: calcRelativeAxisConstraints(layoutBox.x, left, right),\n    y: calcRelativeAxisConstraints(layoutBox.y, top, bottom)\n  };\n}\n/**\n * Calculate viewport constraints when defined as another viewport-relative axis\n */\n\n\nfunction calcViewportAxisConstraints(layoutAxis, constraintsAxis) {\n  var _a;\n\n  var min = constraintsAxis.min - layoutAxis.min;\n  var max = constraintsAxis.max - layoutAxis.max; // If the constraints axis is actually smaller than the layout axis then we can\n  // flip the constraints\n\n  if (constraintsAxis.max - constraintsAxis.min < layoutAxis.max - layoutAxis.min) {\n    _a = __read([max, min], 2), min = _a[0], max = _a[1];\n  }\n\n  return {\n    min: min,\n    max: max\n  };\n}\n/**\n * Calculate viewport constraints when defined as another viewport-relative box\n */\n\n\nfunction calcViewportConstraints(layoutBox, constraintsBox) {\n  return {\n    x: calcViewportAxisConstraints(layoutBox.x, constraintsBox.x),\n    y: calcViewportAxisConstraints(layoutBox.y, constraintsBox.y)\n  };\n}\n/**\n * Calculate a transform origin relative to the source axis, between 0-1, that results\n * in an asthetically pleasing scale/transform needed to project from source to target.\n */\n\n\nfunction calcOrigin(source, target) {\n  var origin = 0.5;\n  var sourceLength = calcLength(source);\n  var targetLength = calcLength(target);\n\n  if (targetLength > sourceLength) {\n    origin = progress(target.min, target.max - sourceLength, source.min);\n  } else if (sourceLength > targetLength) {\n    origin = progress(source.min, source.max - targetLength, target.min);\n  }\n\n  return clamp(0, 1, origin);\n}\n/**\n * Rebase the calculated viewport constraints relative to the layout.min point.\n */\n\n\nfunction rebaseAxisConstraints(layout, constraints) {\n  var relativeConstraints = {};\n\n  if (constraints.min !== undefined) {\n    relativeConstraints.min = constraints.min - layout.min;\n  }\n\n  if (constraints.max !== undefined) {\n    relativeConstraints.max = constraints.max - layout.min;\n  }\n\n  return relativeConstraints;\n}\n\nvar defaultElastic = 0.35;\n/**\n * Accepts a dragElastic prop and returns resolved elastic values for each axis.\n */\n\nfunction resolveDragElastic(dragElastic) {\n  if (dragElastic === void 0) {\n    dragElastic = defaultElastic;\n  }\n\n  if (dragElastic === false) {\n    dragElastic = 0;\n  } else if (dragElastic === true) {\n    dragElastic = defaultElastic;\n  }\n\n  return {\n    x: resolveAxisElastic(dragElastic, \"left\", \"right\"),\n    y: resolveAxisElastic(dragElastic, \"top\", \"bottom\")\n  };\n}\n\nfunction resolveAxisElastic(dragElastic, minLabel, maxLabel) {\n  return {\n    min: resolvePointElastic(dragElastic, minLabel),\n    max: resolvePointElastic(dragElastic, maxLabel)\n  };\n}\n\nfunction resolvePointElastic(dragElastic, label) {\n  var _a;\n\n  return typeof dragElastic === \"number\" ? dragElastic : (_a = dragElastic[label]) !== null && _a !== void 0 ? _a : 0;\n}\n\nexport { applyConstraints, calcOrigin, calcRelativeAxisConstraints, calcRelativeConstraints, calcViewportAxisConstraints, calcViewportConstraints, defaultElastic, rebaseAxisConstraints, resolveAxisElastic, resolveDragElastic, resolvePointElastic };","/**\n * Bounding boxes tend to be defined as top, left, right, bottom. For various operations\n * it's easier to consider each axis individually. This function returns a bounding box\n * as a map of single-axis min/max values.\n */\nfunction convertBoundingBoxToBox(_a) {\n  var top = _a.top,\n      left = _a.left,\n      right = _a.right,\n      bottom = _a.bottom;\n  return {\n    x: {\n      min: left,\n      max: right\n    },\n    y: {\n      min: top,\n      max: bottom\n    }\n  };\n}\n\nfunction convertBoxToBoundingBox(_a) {\n  var x = _a.x,\n      y = _a.y;\n  return {\n    top: y.min,\n    right: x.max,\n    bottom: y.max,\n    left: x.min\n  };\n}\n/**\n * Applies a TransformPoint function to a bounding box. TransformPoint is usually a function\n * provided by Framer to allow measured points to be corrected for device scaling. This is used\n * when measuring DOM elements and DOM event points.\n */\n\n\nfunction transformBoxPoints(point, transformPoint) {\n  if (!transformPoint) return point;\n  var topLeft = transformPoint({\n    x: point.left,\n    y: point.top\n  });\n  var bottomRight = transformPoint({\n    x: point.right,\n    y: point.bottom\n  });\n  return {\n    top: topLeft.y,\n    left: topLeft.x,\n    bottom: bottomRight.y,\n    right: bottomRight.x\n  };\n}\n\nexport { convertBoundingBoxToBox, convertBoxToBoundingBox, transformBoxPoints };","import { convertBoundingBoxToBox, transformBoxPoints } from '../geometry/conversion.mjs';\nimport { translateAxis } from '../geometry/delta-apply.mjs';\n\nfunction measureViewportBox(instance, transformPoint) {\n  return convertBoundingBoxToBox(transformBoxPoints(instance.getBoundingClientRect(), transformPoint));\n}\n\nfunction measurePageBox(element, rootProjectionNode, transformPagePoint) {\n  var viewportBox = measureViewportBox(element, transformPagePoint);\n  var scroll = rootProjectionNode.scroll;\n\n  if (scroll) {\n    translateAxis(viewportBox.x, scroll.x);\n    translateAxis(viewportBox.y, scroll.y);\n  }\n\n  return viewportBox;\n}\n\nexport { measurePageBox, measureViewportBox };","import { __assign } from 'tslib';\nimport { invariant } from 'hey-listen';\nimport { PanSession } from '../PanSession.mjs';\nimport { getGlobalLock } from './utils/lock.mjs';\nimport { isRefObject } from '../../utils/is-ref-object.mjs';\nimport { addPointerEvent } from '../../events/use-pointer-event.mjs';\nimport { applyConstraints, calcRelativeConstraints, resolveDragElastic, rebaseAxisConstraints, calcViewportConstraints, calcOrigin, defaultElastic } from './utils/constraints.mjs';\nimport { AnimationType } from '../../render/utils/types.mjs';\nimport { createBox } from '../../projection/geometry/models.mjs';\nimport { eachAxis } from '../../projection/utils/each-axis.mjs';\nimport { measurePageBox } from '../../projection/utils/measure.mjs';\nimport { extractEventInfo } from '../../events/event-info.mjs';\nimport { startAnimation } from '../../animation/utils/transitions.mjs';\nimport { convertBoxToBoundingBox, convertBoundingBoxToBox } from '../../projection/geometry/conversion.mjs';\nimport { addDomEvent } from '../../events/use-dom-event.mjs';\nimport { mix } from 'popmotion';\nimport { percent } from 'style-value-types';\nimport { calcLength } from '../../projection/geometry/delta-calc.mjs';\nvar elementDragControls = new WeakMap();\n/**\n *\n */\n// let latestPointerEvent: AnyPointerEvent\n\nvar VisualElementDragControls =\n/** @class */\nfunction () {\n  function VisualElementDragControls(visualElement) {\n    // This is a reference to the global drag gesture lock, ensuring only one component\n    // can \"capture\" the drag of one or both axes.\n    // TODO: Look into moving this into pansession?\n    this.openGlobalLock = null;\n    this.isDragging = false;\n    this.currentDirection = null;\n    this.originPoint = {\n      x: 0,\n      y: 0\n    };\n    /**\n     * The permitted boundaries of travel, in pixels.\n     */\n\n    this.constraints = false;\n    this.hasMutatedConstraints = false;\n    /**\n     * The per-axis resolved elastic values.\n     */\n\n    this.elastic = createBox();\n    this.visualElement = visualElement;\n  }\n\n  VisualElementDragControls.prototype.start = function (originEvent, _a) {\n    var _this = this;\n\n    var _b = _a === void 0 ? {} : _a,\n        _c = _b.snapToCursor,\n        snapToCursor = _c === void 0 ? false : _c;\n    /**\n     * Don't start dragging if this component is exiting\n     */\n\n\n    if (this.visualElement.isPresent === false) return;\n\n    var onSessionStart = function onSessionStart(event) {\n      // Stop any animations on both axis values immediately. This allows the user to throw and catch\n      // the component.\n      _this.stopAnimation();\n\n      if (snapToCursor) {\n        _this.snapToCursor(extractEventInfo(event, \"page\").point);\n      }\n    };\n\n    var onStart = function onStart(event, info) {\n      var _a; // Attempt to grab the global drag gesture lock - maybe make this part of PanSession\n\n\n      var _b = _this.getProps(),\n          drag = _b.drag,\n          dragPropagation = _b.dragPropagation,\n          onDragStart = _b.onDragStart;\n\n      if (drag && !dragPropagation) {\n        if (_this.openGlobalLock) _this.openGlobalLock();\n        _this.openGlobalLock = getGlobalLock(drag); // If we don 't have the lock, don't start dragging\n\n        if (!_this.openGlobalLock) return;\n      }\n\n      _this.isDragging = true;\n      _this.currentDirection = null;\n\n      _this.resolveConstraints();\n\n      if (_this.visualElement.projection) {\n        _this.visualElement.projection.isAnimationBlocked = true;\n        _this.visualElement.projection.target = undefined;\n      }\n      /**\n       * Record gesture origin\n       */\n\n\n      eachAxis(function (axis) {\n        var _a, _b;\n\n        var current = _this.getAxisMotionValue(axis).get() || 0;\n        /**\n         * If the MotionValue is a percentage value convert to px\n         */\n\n        if (percent.test(current)) {\n          var measuredAxis = (_b = (_a = _this.visualElement.projection) === null || _a === void 0 ? void 0 : _a.layout) === null || _b === void 0 ? void 0 : _b.actual[axis];\n\n          if (measuredAxis) {\n            var length_1 = calcLength(measuredAxis);\n            current = length_1 * (parseFloat(current) / 100);\n          }\n        }\n\n        _this.originPoint[axis] = current;\n      }); // Fire onDragStart event\n\n      onDragStart === null || onDragStart === void 0 ? void 0 : onDragStart(event, info);\n      (_a = _this.visualElement.animationState) === null || _a === void 0 ? void 0 : _a.setActive(AnimationType.Drag, true);\n    };\n\n    var onMove = function onMove(event, info) {\n      // latestPointerEvent = event\n      var _a = _this.getProps(),\n          dragPropagation = _a.dragPropagation,\n          dragDirectionLock = _a.dragDirectionLock,\n          onDirectionLock = _a.onDirectionLock,\n          onDrag = _a.onDrag; // If we didn't successfully receive the gesture lock, early return.\n\n\n      if (!dragPropagation && !_this.openGlobalLock) return;\n      var offset = info.offset; // Attempt to detect drag direction if directionLock is true\n\n      if (dragDirectionLock && _this.currentDirection === null) {\n        _this.currentDirection = getCurrentDirection(offset); // If we've successfully set a direction, notify listener\n\n        if (_this.currentDirection !== null) {\n          onDirectionLock === null || onDirectionLock === void 0 ? void 0 : onDirectionLock(_this.currentDirection);\n        }\n\n        return;\n      } // Update each point with the latest position\n\n\n      _this.updateAxis(\"x\", info.point, offset);\n\n      _this.updateAxis(\"y\", info.point, offset);\n      /**\n       * Ideally we would leave the renderer to fire naturally at the end of\n       * this frame but if the element is about to change layout as the result\n       * of a re-render we want to ensure the browser can read the latest\n       * bounding box to ensure the pointer and element don't fall out of sync.\n       */\n\n\n      _this.visualElement.syncRender();\n      /**\n       * This must fire after the syncRender call as it might trigger a state\n       * change which itself might trigger a layout update.\n       */\n\n\n      onDrag === null || onDrag === void 0 ? void 0 : onDrag(event, info);\n    };\n\n    var onSessionEnd = function onSessionEnd(event, info) {\n      return _this.stop(event, info);\n    };\n\n    this.panSession = new PanSession(originEvent, {\n      onSessionStart: onSessionStart,\n      onStart: onStart,\n      onMove: onMove,\n      onSessionEnd: onSessionEnd\n    }, {\n      transformPagePoint: this.visualElement.getTransformPagePoint()\n    });\n  };\n\n  VisualElementDragControls.prototype.stop = function (event, info) {\n    var isDragging = this.isDragging;\n    this.cancel();\n    if (!isDragging) return;\n    var velocity = info.velocity;\n    this.startAnimation(velocity);\n    var onDragEnd = this.getProps().onDragEnd;\n    onDragEnd === null || onDragEnd === void 0 ? void 0 : onDragEnd(event, info);\n  };\n\n  VisualElementDragControls.prototype.cancel = function () {\n    var _a, _b;\n\n    this.isDragging = false;\n\n    if (this.visualElement.projection) {\n      this.visualElement.projection.isAnimationBlocked = false;\n    }\n\n    (_a = this.panSession) === null || _a === void 0 ? void 0 : _a.end();\n    this.panSession = undefined;\n    var dragPropagation = this.getProps().dragPropagation;\n\n    if (!dragPropagation && this.openGlobalLock) {\n      this.openGlobalLock();\n      this.openGlobalLock = null;\n    }\n\n    (_b = this.visualElement.animationState) === null || _b === void 0 ? void 0 : _b.setActive(AnimationType.Drag, false);\n  };\n\n  VisualElementDragControls.prototype.updateAxis = function (axis, _point, offset) {\n    var drag = this.getProps().drag; // If we're not dragging this axis, do an early return.\n\n    if (!offset || !shouldDrag(axis, drag, this.currentDirection)) return;\n    var axisValue = this.getAxisMotionValue(axis);\n    var next = this.originPoint[axis] + offset[axis]; // Apply constraints\n\n    if (this.constraints && this.constraints[axis]) {\n      next = applyConstraints(next, this.constraints[axis], this.elastic[axis]);\n    }\n\n    axisValue.set(next);\n  };\n\n  VisualElementDragControls.prototype.resolveConstraints = function () {\n    var _this = this;\n\n    var _a = this.getProps(),\n        dragConstraints = _a.dragConstraints,\n        dragElastic = _a.dragElastic;\n\n    var layout = (this.visualElement.projection || {}).layout;\n    var prevConstraints = this.constraints;\n\n    if (dragConstraints && isRefObject(dragConstraints)) {\n      if (!this.constraints) {\n        this.constraints = this.resolveRefConstraints();\n      }\n    } else {\n      if (dragConstraints && layout) {\n        this.constraints = calcRelativeConstraints(layout.actual, dragConstraints);\n      } else {\n        this.constraints = false;\n      }\n    }\n\n    this.elastic = resolveDragElastic(dragElastic);\n    /**\n     * If we're outputting to external MotionValues, we want to rebase the measured constraints\n     * from viewport-relative to component-relative.\n     */\n\n    if (prevConstraints !== this.constraints && layout && this.constraints && !this.hasMutatedConstraints) {\n      eachAxis(function (axis) {\n        if (_this.getAxisMotionValue(axis)) {\n          _this.constraints[axis] = rebaseAxisConstraints(layout.actual[axis], _this.constraints[axis]);\n        }\n      });\n    }\n  };\n\n  VisualElementDragControls.prototype.resolveRefConstraints = function () {\n    var _a = this.getProps(),\n        constraints = _a.dragConstraints,\n        onMeasureDragConstraints = _a.onMeasureDragConstraints;\n\n    if (!constraints || !isRefObject(constraints)) return false;\n    var constraintsElement = constraints.current;\n    invariant(constraintsElement !== null, \"If `dragConstraints` is set as a React ref, that ref must be passed to another component's `ref` prop.\");\n    var projection = this.visualElement.projection; // TODO\n\n    if (!projection || !projection.layout) return false;\n    var constraintsBox = measurePageBox(constraintsElement, projection.root, this.visualElement.getTransformPagePoint());\n    var measuredConstraints = calcViewportConstraints(projection.layout.actual, constraintsBox);\n    /**\n     * If there's an onMeasureDragConstraints listener we call it and\n     * if different constraints are returned, set constraints to that\n     */\n\n    if (onMeasureDragConstraints) {\n      var userConstraints = onMeasureDragConstraints(convertBoxToBoundingBox(measuredConstraints));\n      this.hasMutatedConstraints = !!userConstraints;\n\n      if (userConstraints) {\n        measuredConstraints = convertBoundingBoxToBox(userConstraints);\n      }\n    }\n\n    return measuredConstraints;\n  };\n\n  VisualElementDragControls.prototype.startAnimation = function (velocity) {\n    var _this = this;\n\n    var _a = this.getProps(),\n        drag = _a.drag,\n        dragMomentum = _a.dragMomentum,\n        dragElastic = _a.dragElastic,\n        dragTransition = _a.dragTransition,\n        dragSnapToOrigin = _a.dragSnapToOrigin,\n        onDragTransitionEnd = _a.onDragTransitionEnd;\n\n    var constraints = this.constraints || {};\n    var momentumAnimations = eachAxis(function (axis) {\n      var _a;\n\n      if (!shouldDrag(axis, drag, _this.currentDirection)) {\n        return;\n      }\n\n      var transition = (_a = constraints === null || constraints === void 0 ? void 0 : constraints[axis]) !== null && _a !== void 0 ? _a : {};\n      if (dragSnapToOrigin) transition = {\n        min: 0,\n        max: 0\n      };\n      /**\n       * Overdamp the boundary spring if `dragElastic` is disabled. There's still a frame\n       * of spring animations so we should look into adding a disable spring option to `inertia`.\n       * We could do something here where we affect the `bounceStiffness` and `bounceDamping`\n       * using the value of `dragElastic`.\n       */\n\n      var bounceStiffness = dragElastic ? 200 : 1000000;\n      var bounceDamping = dragElastic ? 40 : 10000000;\n\n      var inertia = __assign(__assign({\n        type: \"inertia\",\n        velocity: dragMomentum ? velocity[axis] : 0,\n        bounceStiffness: bounceStiffness,\n        bounceDamping: bounceDamping,\n        timeConstant: 750,\n        restDelta: 1,\n        restSpeed: 10\n      }, dragTransition), transition); // If we're not animating on an externally-provided `MotionValue` we can use the\n      // component's animation controls which will handle interactions with whileHover (etc),\n      // otherwise we just have to animate the `MotionValue` itself.\n\n\n      return _this.startAxisValueAnimation(axis, inertia);\n    }); // Run all animations and then resolve the new drag constraints.\n\n    return Promise.all(momentumAnimations).then(onDragTransitionEnd);\n  };\n\n  VisualElementDragControls.prototype.startAxisValueAnimation = function (axis, transition) {\n    var axisValue = this.getAxisMotionValue(axis);\n    return startAnimation(axis, axisValue, 0, transition);\n  };\n\n  VisualElementDragControls.prototype.stopAnimation = function () {\n    var _this = this;\n\n    eachAxis(function (axis) {\n      return _this.getAxisMotionValue(axis).stop();\n    });\n  };\n  /**\n   * Drag works differently depending on which props are provided.\n   *\n   * - If _dragX and _dragY are provided, we output the gesture delta directly to those motion values.\n   * - Otherwise, we apply the delta to the x/y motion values.\n   */\n\n\n  VisualElementDragControls.prototype.getAxisMotionValue = function (axis) {\n    var _a, _b;\n\n    var dragKey = \"_drag\" + axis.toUpperCase();\n    var externalMotionValue = this.visualElement.getProps()[dragKey];\n    return externalMotionValue ? externalMotionValue : this.visualElement.getValue(axis, (_b = (_a = this.visualElement.getProps().initial) === null || _a === void 0 ? void 0 : _a[axis]) !== null && _b !== void 0 ? _b : 0);\n  };\n\n  VisualElementDragControls.prototype.snapToCursor = function (point) {\n    var _this = this;\n\n    eachAxis(function (axis) {\n      var drag = _this.getProps().drag; // If we're not dragging this axis, do an early return.\n\n\n      if (!shouldDrag(axis, drag, _this.currentDirection)) return;\n      var projection = _this.visualElement.projection;\n\n      var axisValue = _this.getAxisMotionValue(axis);\n\n      if (projection && projection.layout) {\n        var _a = projection.layout.actual[axis],\n            min = _a.min,\n            max = _a.max;\n        axisValue.set(point[axis] - mix(min, max, 0.5));\n      }\n    });\n  };\n  /**\n   * When the viewport resizes we want to check if the measured constraints\n   * have changed and, if so, reposition the element within those new constraints\n   * relative to where it was before the resize.\n   */\n\n\n  VisualElementDragControls.prototype.scalePositionWithinConstraints = function () {\n    var _this = this;\n\n    var _a;\n\n    var _b = this.getProps(),\n        drag = _b.drag,\n        dragConstraints = _b.dragConstraints;\n\n    var projection = this.visualElement.projection;\n    if (!isRefObject(dragConstraints) || !projection || !this.constraints) return;\n    /**\n     * Stop current animations as there can be visual glitching if we try to do\n     * this mid-animation\n     */\n\n    this.stopAnimation();\n    /**\n     * Record the relative position of the dragged element relative to the\n     * constraints box and save as a progress value.\n     */\n\n    var boxProgress = {\n      x: 0,\n      y: 0\n    };\n    eachAxis(function (axis) {\n      var axisValue = _this.getAxisMotionValue(axis);\n\n      if (axisValue) {\n        var latest = axisValue.get();\n        boxProgress[axis] = calcOrigin({\n          min: latest,\n          max: latest\n        }, _this.constraints[axis]);\n      }\n    });\n    /**\n     * Update the layout of this element and resolve the latest drag constraints\n     */\n\n    var transformTemplate = this.visualElement.getProps().transformTemplate;\n    this.visualElement.getInstance().style.transform = transformTemplate ? transformTemplate({}, \"\") : \"none\";\n    (_a = projection.root) === null || _a === void 0 ? void 0 : _a.updateScroll();\n    projection.updateLayout();\n    this.resolveConstraints();\n    /**\n     * For each axis, calculate the current progress of the layout axis\n     * within the new constraints.\n     */\n\n    eachAxis(function (axis) {\n      if (!shouldDrag(axis, drag, null)) return;\n      /**\n       * Calculate a new transform based on the previous box progress\n       */\n\n      var axisValue = _this.getAxisMotionValue(axis);\n\n      var _a = _this.constraints[axis],\n          min = _a.min,\n          max = _a.max;\n      axisValue.set(mix(min, max, boxProgress[axis]));\n    });\n  };\n\n  VisualElementDragControls.prototype.addListeners = function () {\n    var _this = this;\n\n    var _a;\n\n    elementDragControls.set(this.visualElement, this);\n    var element = this.visualElement.getInstance();\n    /**\n     * Attach a pointerdown event listener on this DOM element to initiate drag tracking.\n     */\n\n    var stopPointerListener = addPointerEvent(element, \"pointerdown\", function (event) {\n      var _a = _this.getProps(),\n          drag = _a.drag,\n          _b = _a.dragListener,\n          dragListener = _b === void 0 ? true : _b;\n\n      drag && dragListener && _this.start(event);\n    });\n\n    var measureDragConstraints = function measureDragConstraints() {\n      var dragConstraints = _this.getProps().dragConstraints;\n\n      if (isRefObject(dragConstraints)) {\n        _this.constraints = _this.resolveRefConstraints();\n      }\n    };\n\n    var projection = this.visualElement.projection;\n    var stopMeasureLayoutListener = projection.addEventListener(\"measure\", measureDragConstraints);\n\n    if (projection && !projection.layout) {\n      (_a = projection.root) === null || _a === void 0 ? void 0 : _a.updateScroll();\n      projection.updateLayout();\n    }\n\n    measureDragConstraints();\n    /**\n     * Attach a window resize listener to scale the draggable target within its defined\n     * constraints as the window resizes.\n     */\n\n    var stopResizeListener = addDomEvent(window, \"resize\", function () {\n      _this.scalePositionWithinConstraints();\n    });\n    /**\n     * If the element's layout changes, calculate the delta and apply that to\n     * the drag gesture's origin point.\n     */\n\n    projection.addEventListener(\"didUpdate\", function (_a) {\n      var delta = _a.delta,\n          hasLayoutChanged = _a.hasLayoutChanged;\n\n      if (_this.isDragging && hasLayoutChanged) {\n        eachAxis(function (axis) {\n          var motionValue = _this.getAxisMotionValue(axis);\n\n          if (!motionValue) return;\n          _this.originPoint[axis] += delta[axis].translate;\n          motionValue.set(motionValue.get() + delta[axis].translate);\n        });\n\n        _this.visualElement.syncRender();\n      }\n    });\n    return function () {\n      stopResizeListener();\n      stopPointerListener();\n      stopMeasureLayoutListener();\n    };\n  };\n\n  VisualElementDragControls.prototype.getProps = function () {\n    var props = this.visualElement.getProps();\n    var _a = props.drag,\n        drag = _a === void 0 ? false : _a,\n        _b = props.dragDirectionLock,\n        dragDirectionLock = _b === void 0 ? false : _b,\n        _c = props.dragPropagation,\n        dragPropagation = _c === void 0 ? false : _c,\n        _d = props.dragConstraints,\n        dragConstraints = _d === void 0 ? false : _d,\n        _e = props.dragElastic,\n        dragElastic = _e === void 0 ? defaultElastic : _e,\n        _f = props.dragMomentum,\n        dragMomentum = _f === void 0 ? true : _f;\n    return __assign(__assign({}, props), {\n      drag: drag,\n      dragDirectionLock: dragDirectionLock,\n      dragPropagation: dragPropagation,\n      dragConstraints: dragConstraints,\n      dragElastic: dragElastic,\n      dragMomentum: dragMomentum\n    });\n  };\n\n  return VisualElementDragControls;\n}();\n\nfunction shouldDrag(direction, drag, currentDirection) {\n  return (drag === true || drag === direction) && (currentDirection === null || currentDirection === direction);\n}\n/**\n * Based on an x/y offset determine the current drag direction. If both axis' offsets are lower\n * than the provided threshold, return `null`.\n *\n * @param offset - The x/y offset from origin.\n * @param lockThreshold - (Optional) - the minimum absolute offset before we can determine a drag direction.\n */\n\n\nfunction getCurrentDirection(offset, lockThreshold) {\n  if (lockThreshold === void 0) {\n    lockThreshold = 10;\n  }\n\n  var direction = null;\n\n  if (Math.abs(offset.y) > lockThreshold) {\n    direction = \"y\";\n  } else if (Math.abs(offset.x) > lockThreshold) {\n    direction = \"x\";\n  }\n\n  return direction;\n}\n\nexport { VisualElementDragControls, elementDragControls };","import { useDrag } from '../../gestures/drag/use-drag.mjs';\nimport { usePanGesture } from '../../gestures/use-pan-gesture.mjs';\nimport { makeRenderlessComponent } from '../utils/make-renderless-component.mjs';\nvar drag = {\n  pan: makeRenderlessComponent(usePanGesture),\n  drag: makeRenderlessComponent(useDrag)\n};\nexport { drag };","import { useRef, useContext, useEffect } from 'react';\nimport { MotionConfigContext } from '../context/MotionConfigContext.mjs';\nimport { useUnmountEffect } from '../utils/use-unmount-effect.mjs';\nimport { usePointerEvent } from '../events/use-pointer-event.mjs';\nimport { PanSession } from './PanSession.mjs';\n/**\n *\n * @param handlers -\n * @param ref -\n *\n * @internalremarks\n * Currently this sets new pan gesture functions every render. The memo route has been explored\n * in the past but ultimately we're still creating new functions every render. An optimisation\n * to explore is creating the pan gestures and loading them into a `ref`.\n *\n * @internal\n */\n\nfunction usePanGesture(_a) {\n  var onPan = _a.onPan,\n      onPanStart = _a.onPanStart,\n      onPanEnd = _a.onPanEnd,\n      onPanSessionStart = _a.onPanSessionStart,\n      visualElement = _a.visualElement;\n  var hasPanEvents = onPan || onPanStart || onPanEnd || onPanSessionStart;\n  var panSession = useRef(null);\n  var transformPagePoint = useContext(MotionConfigContext).transformPagePoint;\n  var handlers = {\n    onSessionStart: onPanSessionStart,\n    onStart: onPanStart,\n    onMove: onPan,\n    onEnd: function onEnd(event, info) {\n      panSession.current = null;\n      onPanEnd && onPanEnd(event, info);\n    }\n  };\n  useEffect(function () {\n    if (panSession.current !== null) {\n      panSession.current.updateHandlers(handlers);\n    }\n  });\n\n  function onPointerDown(event) {\n    panSession.current = new PanSession(event, handlers, {\n      transformPagePoint: transformPagePoint\n    });\n  }\n\n  usePointerEvent(visualElement, \"pointerdown\", hasPanEvents && onPointerDown);\n  useUnmountEffect(function () {\n    return panSession.current && panSession.current.end();\n  });\n}\n\nexport { usePanGesture };","import { useEffect } from 'react';\nimport { VisualElementDragControls } from './VisualElementDragControls.mjs';\nimport { useConstant } from '../../utils/use-constant.mjs';\n/**\n * A hook that allows an element to be dragged.\n *\n * @internal\n */\n\nfunction useDrag(props) {\n  var groupDragControls = props.dragControls,\n      visualElement = props.visualElement;\n  var dragControls = useConstant(function () {\n    return new VisualElementDragControls(visualElement);\n  }); // If we've been provided a DragControls for manual control over the drag gesture,\n  // subscribe this component to it on mount.\n\n  useEffect(function () {\n    return groupDragControls && groupDragControls.subscribe(dragControls);\n  }, [dragControls, groupDragControls]); // Apply the event listeners to the element\n\n  useEffect(function () {\n    return dragControls.addListeners();\n  }, [dragControls]);\n}\n\nexport { useDrag };","import { __spreadArray, __read } from 'tslib';\nimport { SubscriptionManager } from '../../utils/subscription-manager.mjs';\nvar names = [\"LayoutMeasure\", \"BeforeLayoutMeasure\", \"LayoutUpdate\", \"ViewportBoxUpdate\", \"Update\", \"Render\", \"AnimationComplete\", \"LayoutAnimationComplete\", \"AnimationStart\", \"SetAxisTarget\", \"Unmount\"];\n\nfunction createLifecycles() {\n  var managers = names.map(function () {\n    return new SubscriptionManager();\n  });\n  var propSubscriptions = {};\n  var lifecycles = {\n    clearAllListeners: function clearAllListeners() {\n      return managers.forEach(function (manager) {\n        return manager.clear();\n      });\n    },\n    updatePropListeners: function updatePropListeners(props) {\n      names.forEach(function (name) {\n        var _a;\n\n        var on = \"on\" + name;\n        var propListener = props[on]; // Unsubscribe existing subscription\n\n        (_a = propSubscriptions[name]) === null || _a === void 0 ? void 0 : _a.call(propSubscriptions); // Add new subscription\n\n        if (propListener) {\n          propSubscriptions[name] = lifecycles[on](propListener);\n        }\n      });\n    }\n  };\n  managers.forEach(function (manager, i) {\n    lifecycles[\"on\" + names[i]] = function (handler) {\n      return manager.add(handler);\n    };\n\n    lifecycles[\"notify\" + names[i]] = function () {\n      var args = [];\n\n      for (var _i = 0; _i < arguments.length; _i++) {\n        args[_i] = arguments[_i];\n      }\n\n      manager.notify.apply(manager, __spreadArray([], __read(args), false));\n    };\n  });\n  return lifecycles;\n}\n\nexport { createLifecycles };","import { __assign, __spreadArray, __read } from 'tslib';\nimport sync, { cancelSync } from 'framesync';\nimport { motionValue } from '../value/index.mjs';\nimport { isMotionValue } from '../value/utils/is-motion-value.mjs';\nimport { variantPriorityOrder } from './utils/animation-state.mjs';\nimport { createLifecycles } from './utils/lifecycles.mjs';\nimport { updateMotionValuesFromProps } from './utils/motion-values.mjs';\nimport { checkIfControllingVariants, checkIfVariantNode, isVariantLabel } from './utils/variants.mjs';\n\nvar visualElement = function visualElement(_a) {\n  var _b = _a.treeType,\n      treeType = _b === void 0 ? \"\" : _b,\n      build = _a.build,\n      _getBaseTarget = _a.getBaseTarget,\n      _makeTargetAnimatable = _a.makeTargetAnimatable,\n      _measureViewportBox = _a.measureViewportBox,\n      renderInstance = _a.render,\n      readValueFromInstance = _a.readValueFromInstance,\n      removeValueFromRenderState = _a.removeValueFromRenderState,\n      _sortNodePosition = _a.sortNodePosition,\n      scrapeMotionValuesFromProps = _a.scrapeMotionValuesFromProps;\n  return function (_a, options) {\n    var parent = _a.parent,\n        props = _a.props,\n        presenceId = _a.presenceId,\n        blockInitialAnimation = _a.blockInitialAnimation,\n        visualState = _a.visualState;\n\n    if (options === void 0) {\n      options = {};\n    }\n\n    var isMounted = false;\n    var latestValues = visualState.latestValues,\n        renderState = visualState.renderState;\n    /**\n     * The instance of the render-specific node that will be hydrated by the\n     * exposed React ref. So for example, this visual element can host a\n     * HTMLElement, plain object, or Three.js object. The functions provided\n     * in VisualElementConfig allow us to interface with this instance.\n     */\n\n    var instance;\n    /**\n     * Manages the subscriptions for a visual element's lifecycle, for instance\n     * onRender\n     */\n\n    var lifecycles = createLifecycles();\n    /**\n     * A map of all motion values attached to this visual element. Motion\n     * values are source of truth for any given animated value. A motion\n     * value might be provided externally by the component via props.\n     */\n\n    var values = new Map();\n    /**\n     * A map of every subscription that binds the provided or generated\n     * motion values onChange listeners to this visual element.\n     */\n\n    var valueSubscriptions = new Map();\n    /**\n     * A reference to the previously-provided motion values as returned\n     * from scrapeMotionValuesFromProps. We use the keys in here to determine\n     * if any motion values need to be removed after props are updated.\n     */\n\n    var prevMotionValues = {};\n    /**\n     * When values are removed from all animation props we need to search\n     * for a fallback value to animate to. These values are tracked in baseTarget.\n     */\n\n    var baseTarget = __assign({}, latestValues); // Internal methods ========================\n\n    /**\n     * On mount, this will be hydrated with a callback to disconnect\n     * this visual element from its parent on unmount.\n     */\n\n\n    var removeFromVariantTree;\n    /**\n     * Render the element with the latest styles outside of the React\n     * render lifecycle\n     */\n\n    function render() {\n      if (!instance || !isMounted) return;\n      triggerBuild();\n      renderInstance(instance, renderState, props.style, element.projection);\n    }\n\n    function triggerBuild() {\n      build(element, renderState, latestValues, options, props);\n    }\n\n    function update() {\n      lifecycles.notifyUpdate(latestValues);\n    }\n    /**\n     *\n     */\n\n\n    function bindToMotionValue(key, value) {\n      var removeOnChange = value.onChange(function (latestValue) {\n        latestValues[key] = latestValue;\n        props.onUpdate && sync.update(update, false, true);\n      });\n      var removeOnRenderRequest = value.onRenderRequest(element.scheduleRender);\n      valueSubscriptions.set(key, function () {\n        removeOnChange();\n        removeOnRenderRequest();\n      });\n    }\n    /**\n     * Any motion values that are provided to the element when created\n     * aren't yet bound to the element, as this would technically be impure.\n     * However, we iterate through the motion values and set them to the\n     * initial values for this component.\n     *\n     * TODO: This is impure and we should look at changing this to run on mount.\n     * Doing so will break some tests but this isn't neccessarily a breaking change,\n     * more a reflection of the test.\n     */\n\n\n    var initialMotionValues = scrapeMotionValuesFromProps(props);\n\n    for (var key in initialMotionValues) {\n      var value = initialMotionValues[key];\n\n      if (latestValues[key] !== undefined && isMotionValue(value)) {\n        value.set(latestValues[key], false);\n      }\n    }\n    /**\n     * Determine what role this visual element should take in the variant tree.\n     */\n\n\n    var isControllingVariants = checkIfControllingVariants(props);\n    var isVariantNode = checkIfVariantNode(props);\n\n    var element = __assign(__assign({\n      treeType: treeType,\n\n      /**\n       * This is a mirror of the internal instance prop, which keeps\n       * VisualElement type-compatible with React's RefObject.\n       */\n      current: null,\n\n      /**\n       * The depth of this visual element within the visual element tree.\n       */\n      depth: parent ? parent.depth + 1 : 0,\n      parent: parent,\n      children: new Set(),\n\n      /**\n       *\n       */\n      presenceId: presenceId,\n\n      /**\n       * If this component is part of the variant tree, it should track\n       * any children that are also part of the tree. This is essentially\n       * a shadow tree to simplify logic around how to stagger over children.\n       */\n      variantChildren: isVariantNode ? new Set() : undefined,\n\n      /**\n       * Whether this instance is visible. This can be changed imperatively\n       * by the projection tree, is analogous to CSS's visibility in that\n       * hidden elements should take up layout, and needs enacting by the configured\n       * render function.\n       */\n      isVisible: undefined,\n\n      /**\n       * Normally, if a component is controlled by a parent's variants, it can\n       * rely on that ancestor to trigger animations further down the tree.\n       * However, if a component is created after its parent is mounted, the parent\n       * won't trigger that mount animation so the child needs to.\n       *\n       * TODO: This might be better replaced with a method isParentMounted\n       */\n      manuallyAnimateOnMount: Boolean(parent === null || parent === void 0 ? void 0 : parent.isMounted()),\n\n      /**\n       * This can be set by AnimatePresence to force components that mount\n       * at the same time as it to mount as if they have initial={false} set.\n       */\n      blockInitialAnimation: blockInitialAnimation,\n\n      /**\n       * Determine whether this component has mounted yet. This is mostly used\n       * by variant children to determine whether they need to trigger their\n       * own animations on mount.\n       */\n      isMounted: function isMounted() {\n        return Boolean(instance);\n      },\n      mount: function mount(newInstance) {\n        isMounted = true;\n        instance = element.current = newInstance;\n\n        if (element.projection) {\n          element.projection.mount(newInstance);\n        }\n\n        if (isVariantNode && parent && !isControllingVariants) {\n          removeFromVariantTree = parent === null || parent === void 0 ? void 0 : parent.addVariantChild(element);\n        }\n\n        parent === null || parent === void 0 ? void 0 : parent.children.add(element);\n        element.setProps(props);\n      },\n\n      /**\n       *\n       */\n      unmount: function unmount() {\n        var _a;\n\n        (_a = element.projection) === null || _a === void 0 ? void 0 : _a.unmount();\n        cancelSync.update(update);\n        cancelSync.render(render);\n        valueSubscriptions.forEach(function (remove) {\n          return remove();\n        });\n        removeFromVariantTree === null || removeFromVariantTree === void 0 ? void 0 : removeFromVariantTree();\n        parent === null || parent === void 0 ? void 0 : parent.children.delete(element);\n        lifecycles.clearAllListeners();\n        instance = undefined;\n        isMounted = false;\n      },\n\n      /**\n       * Add a child visual element to our set of children.\n       */\n      addVariantChild: function addVariantChild(child) {\n        var _a;\n\n        var closestVariantNode = element.getClosestVariantNode();\n\n        if (closestVariantNode) {\n          (_a = closestVariantNode.variantChildren) === null || _a === void 0 ? void 0 : _a.add(child);\n          return function () {\n            return closestVariantNode.variantChildren.delete(child);\n          };\n        }\n      },\n      sortNodePosition: function sortNodePosition(other) {\n        /**\n         * If these nodes aren't even of the same type we can't compare their depth.\n         */\n        if (!_sortNodePosition || treeType !== other.treeType) return 0;\n        return _sortNodePosition(element.getInstance(), other.getInstance());\n      },\n\n      /**\n       * Returns the closest variant node in the tree starting from\n       * this visual element.\n       */\n      getClosestVariantNode: function getClosestVariantNode() {\n        return isVariantNode ? element : parent === null || parent === void 0 ? void 0 : parent.getClosestVariantNode();\n      },\n\n      /**\n       * Expose the latest layoutId prop.\n       */\n      getLayoutId: function getLayoutId() {\n        return props.layoutId;\n      },\n\n      /**\n       * Returns the current instance.\n       */\n      getInstance: function getInstance() {\n        return instance;\n      },\n\n      /**\n       * Get/set the latest static values.\n       */\n      getStaticValue: function getStaticValue(key) {\n        return latestValues[key];\n      },\n      setStaticValue: function setStaticValue(key, value) {\n        return latestValues[key] = value;\n      },\n\n      /**\n       * Returns the latest motion value state. Currently only used to take\n       * a snapshot of the visual element - perhaps this can return the whole\n       * visual state\n       */\n      getLatestValues: function getLatestValues() {\n        return latestValues;\n      },\n\n      /**\n       * Set the visiblity of the visual element. If it's changed, schedule\n       * a render to reflect these changes.\n       */\n      setVisibility: function setVisibility(visibility) {\n        if (element.isVisible === visibility) return;\n        element.isVisible = visibility;\n        element.scheduleRender();\n      },\n\n      /**\n       * Make a target animatable by Popmotion. For instance, if we're\n       * trying to animate width from 100px to 100vw we need to measure 100vw\n       * in pixels to determine what we really need to animate to. This is also\n       * pluggable to support Framer's custom value types like Color,\n       * and CSS variables.\n       */\n      makeTargetAnimatable: function makeTargetAnimatable(target, canMutate) {\n        if (canMutate === void 0) {\n          canMutate = true;\n        }\n\n        return _makeTargetAnimatable(element, target, props, canMutate);\n      },\n\n      /**\n       * Measure the current viewport box with or without transforms.\n       * Only measures axis-aligned boxes, rotate and skew must be manually\n       * removed with a re-render to work.\n       */\n      measureViewportBox: function measureViewportBox() {\n        return _measureViewportBox(instance, props);\n      },\n      // Motion values ========================\n\n      /**\n       * Add a motion value and bind it to this visual element.\n       */\n      addValue: function addValue(key, value) {\n        // Remove existing value if it exists\n        if (element.hasValue(key)) element.removeValue(key);\n        values.set(key, value);\n        latestValues[key] = value.get();\n        bindToMotionValue(key, value);\n      },\n\n      /**\n       * Remove a motion value and unbind any active subscriptions.\n       */\n      removeValue: function removeValue(key) {\n        var _a;\n\n        values.delete(key);\n        (_a = valueSubscriptions.get(key)) === null || _a === void 0 ? void 0 : _a();\n        valueSubscriptions.delete(key);\n        delete latestValues[key];\n        removeValueFromRenderState(key, renderState);\n      },\n\n      /**\n       * Check whether we have a motion value for this key\n       */\n      hasValue: function hasValue(key) {\n        return values.has(key);\n      },\n\n      /**\n       * Get a motion value for this key. If called with a default\n       * value, we'll create one if none exists.\n       */\n      getValue: function getValue(key, defaultValue) {\n        var value = values.get(key);\n\n        if (value === undefined && defaultValue !== undefined) {\n          value = motionValue(defaultValue);\n          element.addValue(key, value);\n        }\n\n        return value;\n      },\n\n      /**\n       * Iterate over our motion values.\n       */\n      forEachValue: function forEachValue(callback) {\n        return values.forEach(callback);\n      },\n\n      /**\n       * If we're trying to animate to a previously unencountered value,\n       * we need to check for it in our state and as a last resort read it\n       * directly from the instance (which might have performance implications).\n       */\n      readValue: function readValue(key) {\n        var _a;\n\n        return (_a = latestValues[key]) !== null && _a !== void 0 ? _a : readValueFromInstance(instance, key, options);\n      },\n\n      /**\n       * Set the base target to later animate back to. This is currently\n       * only hydrated on creation and when we first read a value.\n       */\n      setBaseTarget: function setBaseTarget(key, value) {\n        baseTarget[key] = value;\n      },\n\n      /**\n       * Find the base target for a value thats been removed from all animation\n       * props.\n       */\n      getBaseTarget: function getBaseTarget(key) {\n        if (_getBaseTarget) {\n          var target = _getBaseTarget(props, key);\n\n          if (target !== undefined && !isMotionValue(target)) return target;\n        }\n\n        return baseTarget[key];\n      }\n    }, lifecycles), {\n      /**\n       * Build the renderer state based on the latest visual state.\n       */\n      build: function build() {\n        triggerBuild();\n        return renderState;\n      },\n\n      /**\n       * Schedule a render on the next animation frame.\n       */\n      scheduleRender: function scheduleRender() {\n        sync.render(render, false, true);\n      },\n\n      /**\n       * Synchronously fire render. It's prefered that we batch renders but\n       * in many circumstances, like layout measurement, we need to run this\n       * synchronously. However in those instances other measures should be taken\n       * to batch reads/writes.\n       */\n      syncRender: render,\n\n      /**\n       * Update the provided props. Ensure any newly-added motion values are\n       * added to our map, old ones removed, and listeners updated.\n       */\n      setProps: function setProps(newProps) {\n        props = newProps;\n        lifecycles.updatePropListeners(newProps);\n        prevMotionValues = updateMotionValuesFromProps(element, scrapeMotionValuesFromProps(props), prevMotionValues);\n      },\n      getProps: function getProps() {\n        return props;\n      },\n      // Variants ==============================\n\n      /**\n       * Returns the variant definition with a given name.\n       */\n      getVariant: function getVariant(name) {\n        var _a;\n\n        return (_a = props.variants) === null || _a === void 0 ? void 0 : _a[name];\n      },\n\n      /**\n       * Returns the defined default transition on this component.\n       */\n      getDefaultTransition: function getDefaultTransition() {\n        return props.transition;\n      },\n      getTransformPagePoint: function getTransformPagePoint() {\n        return props.transformPagePoint;\n      },\n\n      /**\n       * Used by child variant nodes to get the closest ancestor variant props.\n       */\n      getVariantContext: function getVariantContext(startAtParent) {\n        if (startAtParent === void 0) {\n          startAtParent = false;\n        }\n\n        if (startAtParent) return parent === null || parent === void 0 ? void 0 : parent.getVariantContext();\n\n        if (!isControllingVariants) {\n          var context_1 = (parent === null || parent === void 0 ? void 0 : parent.getVariantContext()) || {};\n\n          if (props.initial !== undefined) {\n            context_1.initial = props.initial;\n          }\n\n          return context_1;\n        }\n\n        var context = {};\n\n        for (var i = 0; i < numVariantProps; i++) {\n          var name_1 = variantProps[i];\n          var prop = props[name_1];\n\n          if (isVariantLabel(prop) || prop === false) {\n            context[name_1] = prop;\n          }\n        }\n\n        return context;\n      }\n    });\n\n    return element;\n  };\n};\n\nvar variantProps = __spreadArray([\"initial\"], __read(variantPriorityOrder), false);\n\nvar numVariantProps = variantProps.length;\nexport { visualElement };","import { motionValue } from '../../value/index.mjs';\nimport { isMotionValue } from '../../value/utils/is-motion-value.mjs';\n\nfunction updateMotionValuesFromProps(element, next, prev) {\n  var _a;\n\n  for (var key in next) {\n    var nextValue = next[key];\n    var prevValue = prev[key];\n\n    if (isMotionValue(nextValue)) {\n      /**\n       * If this is a motion value found in props or style, we want to add it\n       * to our visual element's motion value map.\n       */\n      element.addValue(key, nextValue);\n    } else if (isMotionValue(prevValue)) {\n      /**\n       * If we're swapping to a new motion value, create a new motion value\n       * from that\n       */\n      element.addValue(key, motionValue(nextValue));\n    } else if (prevValue !== nextValue) {\n      /**\n       * If this is a flat value that has changed, update the motion value\n       * or create one if it doesn't exist. We only want to do this if we're\n       * not handling the value with our animation state.\n       */\n      if (element.hasValue(key)) {\n        var existingValue = element.getValue(key); // TODO: Only update values that aren't being animated or even looked at\n\n        !existingValue.hasAnimated && existingValue.set(nextValue);\n      } else {\n        element.addValue(key, motionValue((_a = element.getStaticValue(key)) !== null && _a !== void 0 ? _a : nextValue));\n      }\n    }\n  } // Handle removed values\n\n\n  for (var key in prev) {\n    if (next[key] === undefined) element.removeValue(key);\n  }\n\n  return next;\n}\n\nexport { updateMotionValuesFromProps };","import { __rest, __assign, __read } from 'tslib';\nimport { invariant } from 'hey-listen';\n\nfunction isCSSVariable(value) {\n  return typeof value === \"string\" && value.startsWith(\"var(--\");\n}\n/**\n * Parse Framer's special CSS variable format into a CSS token and a fallback.\n *\n * ```\n * `var(--foo, #fff)` => [`--foo`, '#fff']\n * ```\n *\n * @param current\n */\n\n\nvar cssVariableRegex = /var\\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\\)/;\n\nfunction parseCSSVariable(current) {\n  var match = cssVariableRegex.exec(current);\n  if (!match) return [,];\n\n  var _a = __read(match, 3),\n      token = _a[1],\n      fallback = _a[2];\n\n  return [token, fallback];\n}\n\nvar maxDepth = 4;\n\nfunction getVariableValue(current, element, depth) {\n  if (depth === void 0) {\n    depth = 1;\n  }\n\n  invariant(depth <= maxDepth, \"Max CSS variable fallback depth detected in property \\\"\".concat(current, \"\\\". This may indicate a circular fallback dependency.\"));\n\n  var _a = __read(parseCSSVariable(current), 2),\n      token = _a[0],\n      fallback = _a[1]; // No CSS variable detected\n\n\n  if (!token) return; // Attempt to read this CSS variable off the element\n\n  var resolved = window.getComputedStyle(element).getPropertyValue(token);\n\n  if (resolved) {\n    return resolved.trim();\n  } else if (isCSSVariable(fallback)) {\n    // The fallback might itself be a CSS variable, in which case we attempt to resolve it too.\n    return getVariableValue(fallback, element, depth + 1);\n  } else {\n    return fallback;\n  }\n}\n/**\n * Resolve CSS variables from\n *\n * @internal\n */\n\n\nfunction resolveCSSVariables(visualElement, _a, transitionEnd) {\n  var _b;\n\n  var target = __rest(_a, []);\n\n  var element = visualElement.getInstance();\n  if (!(element instanceof Element)) return {\n    target: target,\n    transitionEnd: transitionEnd\n  }; // If `transitionEnd` isn't `undefined`, clone it. We could clone `target` and `transitionEnd`\n  // only if they change but I think this reads clearer and this isn't a performance-critical path.\n\n  if (transitionEnd) {\n    transitionEnd = __assign({}, transitionEnd);\n  } // Go through existing `MotionValue`s and ensure any existing CSS variables are resolved\n\n\n  visualElement.forEachValue(function (value) {\n    var current = value.get();\n    if (!isCSSVariable(current)) return;\n    var resolved = getVariableValue(current, element);\n    if (resolved) value.set(resolved);\n  }); // Cycle through every target property and resolve CSS variables. Currently\n  // we only read single-var properties like `var(--foo)`, not `calc(var(--foo) + 20px)`\n\n  for (var key in target) {\n    var current = target[key];\n    if (!isCSSVariable(current)) continue;\n    var resolved = getVariableValue(current, element);\n    if (!resolved) continue; // Clone target if it hasn't already been\n\n    target[key] = resolved; // If the user hasn't already set this key on `transitionEnd`, set it to the unresolved\n    // CSS variable. This will ensure that after the animation the component will reflect\n    // changes in the value of the CSS variable.\n\n    if (transitionEnd) (_b = transitionEnd[key]) !== null && _b !== void 0 ? _b : transitionEnd[key] = current;\n  }\n\n  return {\n    target: target,\n    transitionEnd: transitionEnd\n  };\n}\n\nexport { cssVariableRegex, parseCSSVariable, resolveCSSVariables };","import { __assign, __read } from 'tslib';\nimport { number, px } from 'style-value-types';\nimport { isKeyframesTarget } from '../../../animation/utils/is-keyframes-target.mjs';\nimport { invariant } from 'hey-listen';\nimport { transformProps } from '../../html/utils/transform.mjs';\nimport { findDimensionValueType } from '../value-types/dimensions.mjs';\nvar positionalKeys = new Set([\"width\", \"height\", \"top\", \"left\", \"right\", \"bottom\", \"x\", \"y\"]);\n\nvar isPositionalKey = function isPositionalKey(key) {\n  return positionalKeys.has(key);\n};\n\nvar hasPositionalKey = function hasPositionalKey(target) {\n  return Object.keys(target).some(isPositionalKey);\n};\n\nvar setAndResetVelocity = function setAndResetVelocity(value, to) {\n  // Looks odd but setting it twice doesn't render, it'll just\n  // set both prev and current to the latest value\n  value.set(to, false);\n  value.set(to);\n};\n\nvar isNumOrPxType = function isNumOrPxType(v) {\n  return v === number || v === px;\n};\n\nvar BoundingBoxDimension;\n\n(function (BoundingBoxDimension) {\n  BoundingBoxDimension[\"width\"] = \"width\";\n  BoundingBoxDimension[\"height\"] = \"height\";\n  BoundingBoxDimension[\"left\"] = \"left\";\n  BoundingBoxDimension[\"right\"] = \"right\";\n  BoundingBoxDimension[\"top\"] = \"top\";\n  BoundingBoxDimension[\"bottom\"] = \"bottom\";\n})(BoundingBoxDimension || (BoundingBoxDimension = {}));\n\nvar getPosFromMatrix = function getPosFromMatrix(matrix, pos) {\n  return parseFloat(matrix.split(\", \")[pos]);\n};\n\nvar getTranslateFromMatrix = function getTranslateFromMatrix(pos2, pos3) {\n  return function (_bbox, _a) {\n    var transform = _a.transform;\n    if (transform === \"none\" || !transform) return 0;\n    var matrix3d = transform.match(/^matrix3d\\((.+)\\)$/);\n\n    if (matrix3d) {\n      return getPosFromMatrix(matrix3d[1], pos3);\n    } else {\n      var matrix = transform.match(/^matrix\\((.+)\\)$/);\n\n      if (matrix) {\n        return getPosFromMatrix(matrix[1], pos2);\n      } else {\n        return 0;\n      }\n    }\n  };\n};\n\nvar transformKeys = new Set([\"x\", \"y\", \"z\"]);\nvar nonTranslationalTransformKeys = transformProps.filter(function (key) {\n  return !transformKeys.has(key);\n});\n\nfunction removeNonTranslationalTransform(visualElement) {\n  var removedTransforms = [];\n  nonTranslationalTransformKeys.forEach(function (key) {\n    var value = visualElement.getValue(key);\n\n    if (value !== undefined) {\n      removedTransforms.push([key, value.get()]);\n      value.set(key.startsWith(\"scale\") ? 1 : 0);\n    }\n  }); // Apply changes to element before measurement\n\n  if (removedTransforms.length) visualElement.syncRender();\n  return removedTransforms;\n}\n\nvar positionalValues = {\n  // Dimensions\n  width: function width(_a, _b) {\n    var x = _a.x;\n    var _c = _b.paddingLeft,\n        paddingLeft = _c === void 0 ? \"0\" : _c,\n        _d = _b.paddingRight,\n        paddingRight = _d === void 0 ? \"0\" : _d;\n    return x.max - x.min - parseFloat(paddingLeft) - parseFloat(paddingRight);\n  },\n  height: function height(_a, _b) {\n    var y = _a.y;\n    var _c = _b.paddingTop,\n        paddingTop = _c === void 0 ? \"0\" : _c,\n        _d = _b.paddingBottom,\n        paddingBottom = _d === void 0 ? \"0\" : _d;\n    return y.max - y.min - parseFloat(paddingTop) - parseFloat(paddingBottom);\n  },\n  top: function top(_bbox, _a) {\n    var top = _a.top;\n    return parseFloat(top);\n  },\n  left: function left(_bbox, _a) {\n    var left = _a.left;\n    return parseFloat(left);\n  },\n  bottom: function bottom(_a, _b) {\n    var y = _a.y;\n    var top = _b.top;\n    return parseFloat(top) + (y.max - y.min);\n  },\n  right: function right(_a, _b) {\n    var x = _a.x;\n    var left = _b.left;\n    return parseFloat(left) + (x.max - x.min);\n  },\n  // Transform\n  x: getTranslateFromMatrix(4, 13),\n  y: getTranslateFromMatrix(5, 14)\n};\n\nvar convertChangedValueTypes = function convertChangedValueTypes(target, visualElement, changedKeys) {\n  var originBbox = visualElement.measureViewportBox();\n  var element = visualElement.getInstance();\n  var elementComputedStyle = getComputedStyle(element);\n  var display = elementComputedStyle.display;\n  var origin = {}; // If the element is currently set to display: \"none\", make it visible before\n  // measuring the target bounding box\n\n  if (display === \"none\") {\n    visualElement.setStaticValue(\"display\", target.display || \"block\");\n  }\n  /**\n   * Record origins before we render and update styles\n   */\n\n\n  changedKeys.forEach(function (key) {\n    origin[key] = positionalValues[key](originBbox, elementComputedStyle);\n  }); // Apply the latest values (as set in checkAndConvertChangedValueTypes)\n\n  visualElement.syncRender();\n  var targetBbox = visualElement.measureViewportBox();\n  changedKeys.forEach(function (key) {\n    // Restore styles to their **calculated computed style**, not their actual\n    // originally set style. This allows us to animate between equivalent pixel units.\n    var value = visualElement.getValue(key);\n    setAndResetVelocity(value, origin[key]);\n    target[key] = positionalValues[key](targetBbox, elementComputedStyle);\n  });\n  return target;\n};\n\nvar checkAndConvertChangedValueTypes = function checkAndConvertChangedValueTypes(visualElement, target, origin, transitionEnd) {\n  if (origin === void 0) {\n    origin = {};\n  }\n\n  if (transitionEnd === void 0) {\n    transitionEnd = {};\n  }\n\n  target = __assign({}, target);\n  transitionEnd = __assign({}, transitionEnd);\n  var targetPositionalKeys = Object.keys(target).filter(isPositionalKey); // We want to remove any transform values that could affect the element's bounding box before\n  // it's measured. We'll reapply these later.\n\n  var removedTransformValues = [];\n  var hasAttemptedToRemoveTransformValues = false;\n  var changedValueTypeKeys = [];\n  targetPositionalKeys.forEach(function (key) {\n    var value = visualElement.getValue(key);\n    if (!visualElement.hasValue(key)) return;\n    var from = origin[key];\n    var fromType = findDimensionValueType(from);\n    var to = target[key];\n    var toType; // TODO: The current implementation of this basically throws an error\n    // if you try and do value conversion via keyframes. There's probably\n    // a way of doing this but the performance implications would need greater scrutiny,\n    // as it'd be doing multiple resize-remeasure operations.\n\n    if (isKeyframesTarget(to)) {\n      var numKeyframes = to.length;\n      var fromIndex = to[0] === null ? 1 : 0;\n      from = to[fromIndex];\n      fromType = findDimensionValueType(from);\n\n      for (var i = fromIndex; i < numKeyframes; i++) {\n        if (!toType) {\n          toType = findDimensionValueType(to[i]);\n          invariant(toType === fromType || isNumOrPxType(fromType) && isNumOrPxType(toType), \"Keyframes must be of the same dimension as the current value\");\n        } else {\n          invariant(findDimensionValueType(to[i]) === toType, \"All keyframes must be of the same type\");\n        }\n      }\n    } else {\n      toType = findDimensionValueType(to);\n    }\n\n    if (fromType !== toType) {\n      // If they're both just number or px, convert them both to numbers rather than\n      // relying on resize/remeasure to convert (which is wasteful in this situation)\n      if (isNumOrPxType(fromType) && isNumOrPxType(toType)) {\n        var current = value.get();\n\n        if (typeof current === \"string\") {\n          value.set(parseFloat(current));\n        }\n\n        if (typeof to === \"string\") {\n          target[key] = parseFloat(to);\n        } else if (Array.isArray(to) && toType === px) {\n          target[key] = to.map(parseFloat);\n        }\n      } else if ((fromType === null || fromType === void 0 ? void 0 : fromType.transform) && (toType === null || toType === void 0 ? void 0 : toType.transform) && (from === 0 || to === 0)) {\n        // If one or the other value is 0, it's safe to coerce it to the\n        // type of the other without measurement\n        if (from === 0) {\n          value.set(toType.transform(from));\n        } else {\n          target[key] = fromType.transform(to);\n        }\n      } else {\n        // If we're going to do value conversion via DOM measurements, we first\n        // need to remove non-positional transform values that could affect the bbox measurements.\n        if (!hasAttemptedToRemoveTransformValues) {\n          removedTransformValues = removeNonTranslationalTransform(visualElement);\n          hasAttemptedToRemoveTransformValues = true;\n        }\n\n        changedValueTypeKeys.push(key);\n        transitionEnd[key] = transitionEnd[key] !== undefined ? transitionEnd[key] : target[key];\n        setAndResetVelocity(value, to);\n      }\n    }\n  });\n\n  if (changedValueTypeKeys.length) {\n    var convertedTarget = convertChangedValueTypes(target, visualElement, changedValueTypeKeys); // If we removed transform values, reapply them before the next render\n\n    if (removedTransformValues.length) {\n      removedTransformValues.forEach(function (_a) {\n        var _b = __read(_a, 2),\n            key = _b[0],\n            value = _b[1];\n\n        visualElement.getValue(key).set(value);\n      });\n    } // Reapply original values\n\n\n    visualElement.syncRender();\n    return {\n      target: convertedTarget,\n      transitionEnd: transitionEnd\n    };\n  } else {\n    return {\n      target: target,\n      transitionEnd: transitionEnd\n    };\n  }\n};\n/**\n * Convert value types for x/y/width/height/top/left/bottom/right\n *\n * Allows animation between `'auto'` -> `'100%'` or `0` -> `'calc(50% - 10vw)'`\n *\n * @internal\n */\n\n\nfunction unitConversion(visualElement, target, origin, transitionEnd) {\n  return hasPositionalKey(target) ? checkAndConvertChangedValueTypes(visualElement, target, origin, transitionEnd) : {\n    target: target,\n    transitionEnd: transitionEnd\n  };\n}\n\nexport { BoundingBoxDimension, positionalValues, unitConversion };","import { resolveCSSVariables } from './css-variables-conversion.mjs';\nimport { unitConversion } from './unit-conversion.mjs';\n/**\n * Parse a DOM variant to make it animatable. This involves resolving CSS variables\n * and ensuring animations like \"20%\" => \"calc(50vw)\" are performed in pixels.\n */\n\nvar parseDomVariant = function parseDomVariant(visualElement, target, origin, transitionEnd) {\n  var resolved = resolveCSSVariables(visualElement, target, transitionEnd);\n  target = resolved.target;\n  transitionEnd = resolved.transitionEnd;\n  return unitConversion(visualElement, target, origin, transitionEnd);\n};\n\nexport { parseDomVariant };","import { __rest, __assign } from 'tslib';\nimport { visualElement } from '../index.mjs';\nimport { getOrigin, checkTargetForNewValues } from '../utils/setters.mjs';\nimport { buildHTMLStyles } from './utils/build-styles.mjs';\nimport { isCSSVariable } from '../dom/utils/is-css-variable.mjs';\nimport { parseDomVariant } from '../dom/utils/parse-dom-variant.mjs';\nimport { isTransformProp } from './utils/transform.mjs';\nimport { scrapeMotionValuesFromProps } from './utils/scrape-motion-values.mjs';\nimport { renderHTML } from './utils/render.mjs';\nimport { getDefaultValueType } from '../dom/value-types/defaults.mjs';\nimport { measureViewportBox as _measureViewportBox } from '../../projection/utils/measure.mjs';\n\nfunction getComputedStyle(element) {\n  return window.getComputedStyle(element);\n}\n\nvar htmlConfig = {\n  treeType: \"dom\",\n  readValueFromInstance: function readValueFromInstance(domElement, key) {\n    if (isTransformProp(key)) {\n      var defaultType = getDefaultValueType(key);\n      return defaultType ? defaultType.default || 0 : 0;\n    } else {\n      var computedStyle = getComputedStyle(domElement);\n      return (isCSSVariable(key) ? computedStyle.getPropertyValue(key) : computedStyle[key]) || 0;\n    }\n  },\n  sortNodePosition: function sortNodePosition(a, b) {\n    /**\n     * compareDocumentPosition returns a bitmask, by using the bitwise &\n     * we're returning true if 2 in that bitmask is set to true. 2 is set\n     * to true if b preceeds a.\n     */\n    return a.compareDocumentPosition(b) & 2 ? 1 : -1;\n  },\n  getBaseTarget: function getBaseTarget(props, key) {\n    var _a;\n\n    return (_a = props.style) === null || _a === void 0 ? void 0 : _a[key];\n  },\n  measureViewportBox: function measureViewportBox(element, _a) {\n    var transformPagePoint = _a.transformPagePoint;\n    return _measureViewportBox(element, transformPagePoint);\n  },\n\n  /**\n   * Reset the transform on the current Element. This is called as part\n   * of a batched process across the entire layout tree. To remove this write\n   * cycle it'd be interesting to see if it's possible to \"undo\" all the current\n   * layout transforms up the tree in the same way this.getBoundingBoxWithoutTransforms\n   * works\n   */\n  resetTransform: function resetTransform(element, domElement, props) {\n    var transformTemplate = props.transformTemplate;\n    domElement.style.transform = transformTemplate ? transformTemplate({}, \"\") : \"none\"; // Ensure that whatever happens next, we restore our transform on the next frame\n\n    element.scheduleRender();\n  },\n  restoreTransform: function restoreTransform(instance, mutableState) {\n    instance.style.transform = mutableState.style.transform;\n  },\n  removeValueFromRenderState: function removeValueFromRenderState(key, _a) {\n    var vars = _a.vars,\n        style = _a.style;\n    delete vars[key];\n    delete style[key];\n  },\n\n  /**\n   * Ensure that HTML and Framer-specific value types like `px`->`%` and `Color`\n   * can be animated by Motion.\n   */\n  makeTargetAnimatable: function makeTargetAnimatable(element, _a, _b, isMounted) {\n    var transformValues = _b.transformValues;\n\n    if (isMounted === void 0) {\n      isMounted = true;\n    }\n\n    var transition = _a.transition,\n        transitionEnd = _a.transitionEnd,\n        target = __rest(_a, [\"transition\", \"transitionEnd\"]);\n\n    var origin = getOrigin(target, transition || {}, element);\n    /**\n     * If Framer has provided a function to convert `Color` etc value types, convert them\n     */\n\n    if (transformValues) {\n      if (transitionEnd) transitionEnd = transformValues(transitionEnd);\n      if (target) target = transformValues(target);\n      if (origin) origin = transformValues(origin);\n    }\n\n    if (isMounted) {\n      checkTargetForNewValues(element, target, origin);\n      var parsed = parseDomVariant(element, target, origin, transitionEnd);\n      transitionEnd = parsed.transitionEnd;\n      target = parsed.target;\n    }\n\n    return __assign({\n      transition: transition,\n      transitionEnd: transitionEnd\n    }, target);\n  },\n  scrapeMotionValuesFromProps: scrapeMotionValuesFromProps,\n  build: function build(element, renderState, latestValues, options, props) {\n    if (element.isVisible !== undefined) {\n      renderState.style.visibility = element.isVisible ? \"visible\" : \"hidden\";\n    }\n\n    buildHTMLStyles(renderState, latestValues, options, props.transformTemplate);\n  },\n  render: renderHTML\n};\nvar htmlVisualElement = visualElement(htmlConfig);\nexport { getComputedStyle, htmlConfig, htmlVisualElement };","import { __assign } from 'tslib';\nimport { visualElement } from '../index.mjs';\nimport { scrapeMotionValuesFromProps } from './utils/scrape-motion-values.mjs';\nimport { htmlConfig } from '../html/visual-element.mjs';\nimport { buildSVGAttrs } from './utils/build-attrs.mjs';\nimport { camelToDash } from '../dom/utils/camel-to-dash.mjs';\nimport { camelCaseAttributes } from './utils/camel-case-attrs.mjs';\nimport { isTransformProp } from '../html/utils/transform.mjs';\nimport { renderSVG } from './utils/render.mjs';\nimport { getDefaultValueType } from '../dom/value-types/defaults.mjs';\nvar svgVisualElement = visualElement(__assign(__assign({}, htmlConfig), {\n  getBaseTarget: function getBaseTarget(props, key) {\n    return props[key];\n  },\n  readValueFromInstance: function readValueFromInstance(domElement, key) {\n    var _a;\n\n    if (isTransformProp(key)) {\n      return ((_a = getDefaultValueType(key)) === null || _a === void 0 ? void 0 : _a.default) || 0;\n    }\n\n    key = !camelCaseAttributes.has(key) ? camelToDash(key) : key;\n    return domElement.getAttribute(key);\n  },\n  scrapeMotionValuesFromProps: scrapeMotionValuesFromProps,\n  build: function build(_element, renderState, latestValues, options, props) {\n    buildSVGAttrs(renderState, latestValues, options, props.transformTemplate);\n  },\n  render: renderSVG\n}));\nexport { svgVisualElement };","import { htmlVisualElement } from '../html/visual-element.mjs';\nimport { svgVisualElement } from '../svg/visual-element.mjs';\nimport { isSVGComponent } from './utils/is-svg-component.mjs';\n\nvar createDomVisualElement = function createDomVisualElement(Component, options) {\n  return isSVGComponent(Component) ? svgVisualElement(options, {\n    enableHardwareAcceleration: false\n  }) : htmlVisualElement(options, {\n    enableHardwareAcceleration: true\n  });\n};\n\nexport { createDomVisualElement };","import { px } from 'style-value-types';\n\nfunction pixelsToPercent(pixels, axis) {\n  if (axis.max === axis.min) return 0;\n  return pixels / (axis.max - axis.min) * 100;\n}\n/**\n * We always correct borderRadius as a percentage rather than pixels to reduce paints.\n * For example, if you are projecting a box that is 100px wide with a 10px borderRadius\n * into a box that is 200px wide with a 20px borderRadius, that is actually a 10%\n * borderRadius in both states. If we animate between the two in pixels that will trigger\n * a paint each time. If we animate between the two in percentage we'll avoid a paint.\n */\n\n\nvar correctBorderRadius = {\n  correct: function correct(latest, node) {\n    if (!node.target) return latest;\n    /**\n     * If latest is a string, if it's a percentage we can return immediately as it's\n     * going to be stretched appropriately. Otherwise, if it's a pixel, convert it to a number.\n     */\n\n    if (typeof latest === \"string\") {\n      if (px.test(latest)) {\n        latest = parseFloat(latest);\n      } else {\n        return latest;\n      }\n    }\n    /**\n     * If latest is a number, it's a pixel value. We use the current viewportBox to calculate that\n     * pixel value as a percentage of each axis\n     */\n\n\n    var x = pixelsToPercent(latest, node.target.x);\n    var y = pixelsToPercent(latest, node.target.y);\n    return \"\".concat(x, \"% \").concat(y, \"%\");\n  }\n};\nexport { correctBorderRadius, pixelsToPercent };","import { mix } from 'popmotion';\nimport { complex } from 'style-value-types';\nimport { cssVariableRegex } from '../../render/dom/utils/css-variables-conversion.mjs';\nvar varToken = \"_$css\";\nvar correctBoxShadow = {\n  correct: function correct(latest, _a) {\n    var treeScale = _a.treeScale,\n        projectionDelta = _a.projectionDelta;\n    var original = latest;\n    /**\n     * We need to first strip and store CSS variables from the string.\n     */\n\n    var containsCSSVariables = latest.includes(\"var(\");\n    var cssVariables = [];\n\n    if (containsCSSVariables) {\n      latest = latest.replace(cssVariableRegex, function (match) {\n        cssVariables.push(match);\n        return varToken;\n      });\n    }\n\n    var shadow = complex.parse(latest); // TODO: Doesn't support multiple shadows\n\n    if (shadow.length > 5) return original;\n    var template = complex.createTransformer(latest);\n    var offset = typeof shadow[0] !== \"number\" ? 1 : 0; // Calculate the overall context scale\n\n    var xScale = projectionDelta.x.scale * treeScale.x;\n    var yScale = projectionDelta.y.scale * treeScale.y;\n    shadow[0 + offset] /= xScale;\n    shadow[1 + offset] /= yScale;\n    /**\n     * Ideally we'd correct x and y scales individually, but because blur and\n     * spread apply to both we have to take a scale average and apply that instead.\n     * We could potentially improve the outcome of this by incorporating the ratio between\n     * the two scales.\n     */\n\n    var averageScale = mix(xScale, yScale, 0.5); // Blur\n\n    if (typeof shadow[2 + offset] === \"number\") shadow[2 + offset] /= averageScale; // Spread\n\n    if (typeof shadow[3 + offset] === \"number\") shadow[3 + offset] /= averageScale;\n    var output = template(shadow);\n\n    if (containsCSSVariables) {\n      var i_1 = 0;\n      output = output.replace(varToken, function () {\n        var cssVariable = cssVariables[i_1];\n        i_1++;\n        return cssVariable;\n      });\n    }\n\n    return output;\n  }\n};\nexport { correctBoxShadow };","import { __extends, __assign, __read } from 'tslib';\nimport sync from 'framesync';\nimport React__default, { useContext } from 'react';\nimport { usePresence } from '../../../components/AnimatePresence/use-presence.mjs';\nimport { LayoutGroupContext } from '../../../context/LayoutGroupContext.mjs';\nimport { SwitchLayoutGroupContext } from '../../../context/SwitchLayoutGroupContext.mjs';\nimport { globalProjectionState } from '../../../projection/node/create-projection-node.mjs';\nimport { correctBorderRadius } from '../../../projection/styles/scale-border-radius.mjs';\nimport { correctBoxShadow } from '../../../projection/styles/scale-box-shadow.mjs';\nimport { addScaleCorrector } from '../../../projection/styles/scale-correction.mjs';\n\nvar MeasureLayoutWithContext =\n/** @class */\nfunction (_super) {\n  __extends(MeasureLayoutWithContext, _super);\n\n  function MeasureLayoutWithContext() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n  /**\n   * This only mounts projection nodes for components that\n   * need measuring, we might want to do it for all components\n   * in order to incorporate transforms\n   */\n\n\n  MeasureLayoutWithContext.prototype.componentDidMount = function () {\n    var _this = this;\n\n    var _a = this.props,\n        visualElement = _a.visualElement,\n        layoutGroup = _a.layoutGroup,\n        switchLayoutGroup = _a.switchLayoutGroup,\n        layoutId = _a.layoutId;\n    var projection = visualElement.projection;\n    addScaleCorrector(defaultScaleCorrectors);\n\n    if (projection) {\n      if (layoutGroup === null || layoutGroup === void 0 ? void 0 : layoutGroup.group) layoutGroup.group.add(projection);\n\n      if ((switchLayoutGroup === null || switchLayoutGroup === void 0 ? void 0 : switchLayoutGroup.register) && layoutId) {\n        switchLayoutGroup.register(projection);\n      }\n\n      projection.root.didUpdate();\n      projection.addEventListener(\"animationComplete\", function () {\n        _this.safeToRemove();\n      });\n      projection.setOptions(__assign(__assign({}, projection.options), {\n        onExitComplete: function onExitComplete() {\n          return _this.safeToRemove();\n        }\n      }));\n    }\n\n    globalProjectionState.hasEverUpdated = true;\n  };\n\n  MeasureLayoutWithContext.prototype.getSnapshotBeforeUpdate = function (prevProps) {\n    var _this = this;\n\n    var _a = this.props,\n        layoutDependency = _a.layoutDependency,\n        visualElement = _a.visualElement,\n        drag = _a.drag,\n        isPresent = _a.isPresent;\n    var projection = visualElement.projection;\n    if (!projection) return null;\n    /**\n     * TODO: We use this data in relegate to determine whether to\n     * promote a previous element. There's no guarantee its presence data\n     * will have updated by this point - if a bug like this arises it will\n     * have to be that we markForRelegation and then find a new lead some other way,\n     * perhaps in didUpdate\n     */\n\n    projection.isPresent = isPresent;\n\n    if (drag || prevProps.layoutDependency !== layoutDependency || layoutDependency === undefined) {\n      projection.willUpdate();\n    } else {\n      this.safeToRemove();\n    }\n\n    if (prevProps.isPresent !== isPresent) {\n      if (isPresent) {\n        projection.promote();\n      } else if (!projection.relegate()) {\n        /**\n         * If there's another stack member taking over from this one,\n         * it's in charge of the exit animation and therefore should\n         * be in charge of the safe to remove. Otherwise we call it here.\n         */\n        sync.postRender(function () {\n          var _a;\n\n          if (!((_a = projection.getStack()) === null || _a === void 0 ? void 0 : _a.members.length)) {\n            _this.safeToRemove();\n          }\n        });\n      }\n    }\n\n    return null;\n  };\n\n  MeasureLayoutWithContext.prototype.componentDidUpdate = function () {\n    var projection = this.props.visualElement.projection;\n\n    if (projection) {\n      projection.root.didUpdate();\n\n      if (!projection.currentAnimation && projection.isLead()) {\n        this.safeToRemove();\n      }\n    }\n  };\n\n  MeasureLayoutWithContext.prototype.componentWillUnmount = function () {\n    var _a = this.props,\n        visualElement = _a.visualElement,\n        layoutGroup = _a.layoutGroup,\n        promoteContext = _a.switchLayoutGroup;\n    var projection = visualElement.projection;\n\n    if (projection) {\n      projection.scheduleCheckAfterUnmount();\n      if (layoutGroup === null || layoutGroup === void 0 ? void 0 : layoutGroup.group) layoutGroup.group.remove(projection);\n      if (promoteContext === null || promoteContext === void 0 ? void 0 : promoteContext.deregister) promoteContext.deregister(projection);\n    }\n  };\n\n  MeasureLayoutWithContext.prototype.safeToRemove = function () {\n    var safeToRemove = this.props.safeToRemove;\n    safeToRemove === null || safeToRemove === void 0 ? void 0 : safeToRemove();\n  };\n\n  MeasureLayoutWithContext.prototype.render = function () {\n    return null;\n  };\n\n  return MeasureLayoutWithContext;\n}(React__default.Component);\n\nfunction MeasureLayout(props) {\n  var _a = __read(usePresence(), 2),\n      isPresent = _a[0],\n      safeToRemove = _a[1];\n\n  var layoutGroup = useContext(LayoutGroupContext);\n  return React__default.createElement(MeasureLayoutWithContext, __assign({}, props, {\n    layoutGroup: layoutGroup,\n    switchLayoutGroup: useContext(SwitchLayoutGroupContext),\n    isPresent: isPresent,\n    safeToRemove: safeToRemove\n  }));\n}\n\nvar defaultScaleCorrectors = {\n  borderRadius: __assign(__assign({}, correctBorderRadius), {\n    applyTo: [\"borderTopLeftRadius\", \"borderTopRightRadius\", \"borderBottomLeftRadius\", \"borderBottomRightRadius\"]\n  }),\n  borderTopLeftRadius: correctBorderRadius,\n  borderTopRightRadius: correctBorderRadius,\n  borderBottomLeftRadius: correctBorderRadius,\n  borderBottomRightRadius: correctBorderRadius,\n  boxShadow: correctBoxShadow\n};\nexport { MeasureLayout };","import { MeasureLayout } from './MeasureLayout.mjs';\nvar layoutFeatures = {\n  measureLayout: MeasureLayout\n};\nexport { layoutFeatures };","import { createProjectionNode } from './create-projection-node.mjs';\nvar DocumentProjectionNode = createProjectionNode({\n  attachResizeListener: function attachResizeListener(ref, notify) {\n    ref.addEventListener(\"resize\", notify, {\n      passive: true\n    });\n    return function () {\n      return ref.removeEventListener(\"resize\", notify);\n    };\n  },\n  measureScroll: function measureScroll() {\n    return {\n      x: document.documentElement.scrollLeft || document.body.scrollLeft,\n      y: document.documentElement.scrollTop || document.body.scrollTop\n    };\n  }\n});\nexport { DocumentProjectionNode };","import { createProjectionNode } from './create-projection-node.mjs';\nimport { DocumentProjectionNode } from './DocumentProjectionNode.mjs';\nvar rootProjectionNode = {\n  current: undefined\n};\nvar HTMLProjectionNode = createProjectionNode({\n  measureScroll: function measureScroll(instance) {\n    return {\n      x: instance.scrollLeft,\n      y: instance.scrollTop\n    };\n  },\n  defaultParent: function defaultParent() {\n    if (!rootProjectionNode.current) {\n      var documentNode = new DocumentProjectionNode(0, {});\n      documentNode.mount(window);\n      documentNode.setOptions({\n        layoutScroll: true\n      });\n      rootProjectionNode.current = documentNode;\n    }\n\n    return rootProjectionNode.current;\n  },\n  resetTransform: function resetTransform(instance, value) {\n    instance.style.transform = value !== null && value !== void 0 ? value : \"none\";\n  }\n});\nexport { HTMLProjectionNode, rootProjectionNode };","import { __assign } from 'tslib';\nimport { createMotionComponent } from '../../motion/index.mjs';\nimport { createMotionProxy } from './motion-proxy.mjs';\nimport { createDomMotionConfig } from './utils/create-config.mjs';\nimport { gestureAnimations } from '../../motion/features/gestures.mjs';\nimport { animations } from '../../motion/features/animations.mjs';\nimport { drag } from '../../motion/features/drag.mjs';\nimport { createDomVisualElement } from './create-visual-element.mjs';\nimport { layoutFeatures } from '../../motion/features/layout/index.mjs';\nimport { HTMLProjectionNode } from '../../projection/node/HTMLProjectionNode.mjs';\n\nvar featureBundle = __assign(__assign(__assign(__assign({}, animations), gestureAnimations), drag), layoutFeatures);\n/**\n * HTML & SVG components, optimised for use with gestures and animation. These can be used as\n * drop-in replacements for any HTML & SVG component, all CSS & SVG properties are supported.\n *\n * @public\n */\n\n\nvar motion = /*@__PURE__*/createMotionProxy(function (Component, config) {\n  return createDomMotionConfig(Component, config, featureBundle, createDomVisualElement, HTMLProjectionNode);\n});\n/**\n * Create a DOM `motion` component with the provided string. This is primarily intended\n * as a full alternative to `motion` for consumers who have to support environments that don't\n * support `Proxy`.\n *\n * ```javascript\n * import { createDomMotionComponent } from \"framer-motion\"\n *\n * const motion = {\n *   div: createDomMotionComponent('div')\n * }\n * ```\n *\n * @public\n */\n\nfunction createDomMotionComponent(key) {\n  return createMotionComponent(createDomMotionConfig(key, {\n    forwardMotionProps: false\n  }, featureBundle, createDomVisualElement, HTMLProjectionNode));\n}\n\nexport { createDomMotionComponent, motion };","import { __assign } from 'tslib';\nimport { isSVGComponent } from './is-svg-component.mjs';\nimport { createUseRender } from '../use-render.mjs';\nimport { svgMotionConfig } from '../../svg/config-motion.mjs';\nimport { htmlMotionConfig } from '../../html/config-motion.mjs';\n\nfunction createDomMotionConfig(Component, _a, preloadedFeatures, createVisualElement, projectionNodeConstructor) {\n  var _b = _a.forwardMotionProps,\n      forwardMotionProps = _b === void 0 ? false : _b;\n  var baseConfig = isSVGComponent(Component) ? svgMotionConfig : htmlMotionConfig;\n  return __assign(__assign({}, baseConfig), {\n    preloadedFeatures: preloadedFeatures,\n    useRender: createUseRender(forwardMotionProps),\n    createVisualElement: createVisualElement,\n    projectionNodeConstructor: projectionNodeConstructor,\n    Component: Component\n  });\n}\n\nexport { createDomMotionConfig };","import React, { componentDidMount, useEffect } from 'react';\nimport styled from 'styled-components';\nimport { motion } from 'framer-motion';\nimport { MenuItem } from '@components';\nimport { theme } from '@styles';\n\n// const variants = {\n//   open: {\n//     transition: { staggerChildren: 0.07, delayChildren: 0.2 },\n//   },\n//   closed: {\n//     transition: { staggerChildren: 0.05, staggerDirection: -1 },\n//   },\n// };\n\nconst DimensionSelector = styled(motion.div)`\n  background: transparent;\n`;\n\nconst SelectionHighlight = styled(motion.div)`\n  background: ${theme.colors.accent};\n  height: 3em;\n  width: 25em;\n  top: 100px;\n  // right: ;\n\n  // box-shadow: 0 0 30px black;\n  border-radius: 2em;\n  position: absolute;\n\n  transition: 0.5s;\n  // mix-blend-mode: difference;\n`;\n\nexport default function Menu(props) {\n  function resizeSelector() {\n    document.getElementById('selectionHighlight').style.top =\n      'calc(' +\n      document\n        .getElementById(props.dimension.split(' ').join(''))\n        .getBoundingClientRect().top +\n      'px - 0.8em + ' +\n      document.getElementById('sidebar').scrollTop +\n      'px)';\n    document.getElementById('selectionHighlight').style.width = '500px'; //document.getElementById('dimensionSelector').getBoundingClientRect().width - 50 + 'px';\n    document.getElementById('selectionHighlight').style.left = '-160px'; //document.getElementById('dimensionSelector').getBoundingClientRect().right + 'px';\n  }\n\n  window.addEventListener('resize', resizeSelector);\n\n  window.addEventListener('click', resizeSelector);\n\n  useEffect(() => {\n    resizeSelector();\n  }, []);\n\n  return (\n    <DimensionSelector id=\"dimensionSelector\">\n      <SelectionHighlight id=\"selectionHighlight\" />\n\n      {props.dimensions &&\n        props.dimensions.map((dimension, i) => {\n          return (\n            <MenuItem\n              childId={dimension.split(' ').join('')}\n              key={i}\n              dimension={dimension}\n              setDimension={props.setDimension}\n            />\n          );\n        })}\n    </DimensionSelector>\n  );\n}\n","import * as React from 'react';\nimport styled from 'styled-components';\nimport { motion } from 'framer-motion';\nimport { mixins } from '@styles';\nimport { theme } from '@styles';\n\nconst DimensionItem = styled(motion.p)`\n  // ${mixins.whiteLink}\n  // background: rgba(0, 0, 0, 0);\n  // border: none;\n  // padding: 0;\n  // color: inherit;\n  // font-size: inherit;\n  all: unset;\n  font-family: ${theme.fonts.mono};\n  text-transform: uppercase;\n  display: block;\n  margin: 1em;\n\n  mix-blend-mode: difference;\n\n  // position: relative;\n  cursor: pointer;\n`;\n\n// const colors = ['#FF008C', '#D309E1', '#9C1AFF', '#7700FF', '#4400FF'];\n\nexport default function MenuItem(props) {\n  // const style = { border: `2px solid ${colors[props.i]}` };\n  return (\n    <DimensionItem\n      whileHover={{ scale: 1.1 }}\n      whileTap={{ scale: 0.95 }}\n      id={props.childId}\n      onClick={() => {\n        props.setDimension(props.dimension);\n        document.getElementById('selectionHighlight').style.top =\n          'calc(' +\n          document\n            .getElementById(props.dimension.split(' ').join(''))\n            .getBoundingClientRect().top +\n          'px - 0.8em)';\n      }}\n    >\n      {/* <div className=\"icon-placeholder\" style={style} /> */}\n      {/* <a> */}\n      {props.dimension}\n      {/* </a> */}\n    </DimensionItem>\n  );\n}\n","import { __values } from 'tslib';\nimport * as React from 'react';\nimport { useMemo } from 'react';\nimport { PresenceContext } from '../../context/PresenceContext.mjs';\nimport { useConstant } from '../../utils/use-constant.mjs';\nvar presenceId = 0;\n\nfunction getPresenceId() {\n  var id = presenceId;\n  presenceId++;\n  return id;\n}\n\nvar PresenceChild = function PresenceChild(_a) {\n  var children = _a.children,\n      initial = _a.initial,\n      isPresent = _a.isPresent,\n      _onExitComplete = _a.onExitComplete,\n      custom = _a.custom,\n      presenceAffectsLayout = _a.presenceAffectsLayout;\n  var presenceChildren = useConstant(newChildrenMap);\n  var id = useConstant(getPresenceId);\n  var context = useMemo(function () {\n    return {\n      id: id,\n      initial: initial,\n      isPresent: isPresent,\n      custom: custom,\n      onExitComplete: function onExitComplete(childId) {\n        var e_1, _a;\n\n        presenceChildren.set(childId, true);\n\n        try {\n          for (var _b = __values(presenceChildren.values()), _c = _b.next(); !_c.done; _c = _b.next()) {\n            var isComplete = _c.value;\n            if (!isComplete) return; // can stop searching when any is incomplete\n          }\n        } catch (e_1_1) {\n          e_1 = {\n            error: e_1_1\n          };\n        } finally {\n          try {\n            if (_c && !_c.done && (_a = _b.return)) _a.call(_b);\n          } finally {\n            if (e_1) throw e_1.error;\n          }\n        }\n\n        _onExitComplete === null || _onExitComplete === void 0 ? void 0 : _onExitComplete();\n      },\n      register: function register(childId) {\n        presenceChildren.set(childId, false);\n        return function () {\n          return presenceChildren.delete(childId);\n        };\n      }\n    };\n  },\n  /**\n   * If the presence of a child affects the layout of the components around it,\n   * we want to make a new context value to ensure they get re-rendered\n   * so they can detect that layout change.\n   */\n  presenceAffectsLayout ? undefined : [isPresent]);\n  useMemo(function () {\n    presenceChildren.forEach(function (_, key) {\n      return presenceChildren.set(key, false);\n    });\n  }, [isPresent]);\n  /**\n   * If there's no `motion` components to fire exit animations, we want to remove this\n   * component immediately.\n   */\n\n  React.useEffect(function () {\n    !isPresent && !presenceChildren.size && (_onExitComplete === null || _onExitComplete === void 0 ? void 0 : _onExitComplete());\n  }, [isPresent]);\n  return React.createElement(PresenceContext.Provider, {\n    value: context\n  }, children);\n};\n\nfunction newChildrenMap() {\n  return new Map();\n}\n\nexport { PresenceChild };","import { __read, __spreadArray } from 'tslib';\nimport * as React from 'react';\nimport { useContext, useRef, useEffect, cloneElement, Children, isValidElement } from 'react';\nimport { useForceUpdate } from '../../utils/use-force-update.mjs';\nimport { PresenceChild } from './PresenceChild.mjs';\nimport { LayoutGroupContext } from '../../context/LayoutGroupContext.mjs';\n\nfunction getChildKey(child) {\n  return child.key || \"\";\n}\n\nfunction updateChildLookup(children, allChildren) {\n  var seenChildren = process.env.NODE_ENV !== \"production\" ? new Set() : null;\n  children.forEach(function (child) {\n    var key = getChildKey(child);\n\n    if (process.env.NODE_ENV !== \"production\" && seenChildren) {\n      if (seenChildren.has(key)) {\n        console.warn(\"Children of AnimatePresence require unique keys. \\\"\".concat(key, \"\\\" is a duplicate.\"));\n      }\n\n      seenChildren.add(key);\n    }\n\n    allChildren.set(key, child);\n  });\n}\n\nfunction onlyElements(children) {\n  var filtered = []; // We use forEach here instead of map as map mutates the component key by preprending `.$`\n\n  Children.forEach(children, function (child) {\n    if (isValidElement(child)) filtered.push(child);\n  });\n  return filtered;\n}\n/**\n * `AnimatePresence` enables the animation of components that have been removed from the tree.\n *\n * When adding/removing more than a single child, every child **must** be given a unique `key` prop.\n *\n * Any `motion` components that have an `exit` property defined will animate out when removed from\n * the tree.\n *\n * ```jsx\n * import { motion, AnimatePresence } from 'framer-motion'\n *\n * export const Items = ({ items }) => (\n *   <AnimatePresence>\n *     {items.map(item => (\n *       <motion.div\n *         key={item.id}\n *         initial={{ opacity: 0 }}\n *         animate={{ opacity: 1 }}\n *         exit={{ opacity: 0 }}\n *       />\n *     ))}\n *   </AnimatePresence>\n * )\n * ```\n *\n * You can sequence exit animations throughout a tree using variants.\n *\n * If a child contains multiple `motion` components with `exit` props, it will only unmount the child\n * once all `motion` components have finished animating out. Likewise, any components using\n * `usePresence` all need to call `safeToRemove`.\n *\n * @public\n */\n\n\nvar AnimatePresence = function AnimatePresence(_a) {\n  var children = _a.children,\n      custom = _a.custom,\n      _b = _a.initial,\n      initial = _b === void 0 ? true : _b,\n      onExitComplete = _a.onExitComplete,\n      exitBeforeEnter = _a.exitBeforeEnter,\n      _c = _a.presenceAffectsLayout,\n      presenceAffectsLayout = _c === void 0 ? true : _c; // We want to force a re-render once all exiting animations have finished. We\n  // either use a local forceRender function, or one from a parent context if it exists.\n\n  var _d = __read(useForceUpdate(), 1),\n      forceRender = _d[0];\n\n  var forceRenderLayoutGroup = useContext(LayoutGroupContext).forceRender;\n  if (forceRenderLayoutGroup) forceRender = forceRenderLayoutGroup;\n  var isInitialRender = useRef(true);\n  var isMounted = useRef(true);\n  useEffect(function () {\n    return function () {\n      isMounted.current = false;\n    };\n  }, []); // Filter out any children that aren't ReactElements. We can only track ReactElements with a props.key\n\n  var filteredChildren = onlyElements(children); // Keep a living record of the children we're actually rendering so we\n  // can diff to figure out which are entering and exiting\n\n  var presentChildren = useRef(filteredChildren); // A lookup table to quickly reference components by key\n\n  var allChildren = useRef(new Map()).current; // A living record of all currently exiting components.\n\n  var exiting = useRef(new Set()).current;\n  updateChildLookup(filteredChildren, allChildren); // If this is the initial component render, just deal with logic surrounding whether\n  // we play onMount animations or not.\n\n  if (isInitialRender.current) {\n    isInitialRender.current = false;\n    return React.createElement(React.Fragment, null, filteredChildren.map(function (child) {\n      return React.createElement(PresenceChild, {\n        key: getChildKey(child),\n        isPresent: true,\n        initial: initial ? undefined : false,\n        presenceAffectsLayout: presenceAffectsLayout\n      }, child);\n    }));\n  } // If this is a subsequent render, deal with entering and exiting children\n\n\n  var childrenToRender = __spreadArray([], __read(filteredChildren), false); // Diff the keys of the currently-present and target children to update our\n  // exiting list.\n\n\n  var presentKeys = presentChildren.current.map(getChildKey);\n  var targetKeys = filteredChildren.map(getChildKey); // Diff the present children with our target children and mark those that are exiting\n\n  var numPresent = presentKeys.length;\n\n  for (var i = 0; i < numPresent; i++) {\n    var key = presentKeys[i];\n\n    if (targetKeys.indexOf(key) === -1) {\n      exiting.add(key);\n    } else {\n      // In case this key has re-entered, remove from the exiting list\n      exiting.delete(key);\n    }\n  } // If we currently have exiting children, and we're deferring rendering incoming children\n  // until after all current children have exiting, empty the childrenToRender array\n\n\n  if (exitBeforeEnter && exiting.size) {\n    childrenToRender = [];\n  } // Loop through all currently exiting components and clone them to overwrite `animate`\n  // with any `exit` prop they might have defined.\n\n\n  exiting.forEach(function (key) {\n    // If this component is actually entering again, early return\n    if (targetKeys.indexOf(key) !== -1) return;\n    var child = allChildren.get(key);\n    if (!child) return;\n    var insertionIndex = presentKeys.indexOf(key);\n\n    var onExit = function onExit() {\n      allChildren.delete(key);\n      exiting.delete(key); // Remove this child from the present children\n\n      var removeIndex = presentChildren.current.findIndex(function (presentChild) {\n        return presentChild.key === key;\n      });\n      presentChildren.current.splice(removeIndex, 1); // Defer re-rendering until all exiting children have indeed left\n\n      if (!exiting.size) {\n        presentChildren.current = filteredChildren;\n\n        if (isMounted.current === false) {\n          return;\n        }\n\n        forceRender();\n        onExitComplete && onExitComplete();\n      }\n    };\n\n    childrenToRender.splice(insertionIndex, 0, React.createElement(PresenceChild, {\n      key: getChildKey(child),\n      isPresent: false,\n      onExitComplete: onExit,\n      custom: custom,\n      presenceAffectsLayout: presenceAffectsLayout\n    }, child));\n  }); // Add `MotionContext` even to children that don't need it to ensure we're rendering\n  // the same tree between renders\n\n  childrenToRender = childrenToRender.map(function (child) {\n    var key = child.key;\n    return exiting.has(key) ? child : React.createElement(PresenceChild, {\n      key: getChildKey(child),\n      isPresent: true,\n      presenceAffectsLayout: presenceAffectsLayout\n    }, child);\n  });\n  presentChildren.current = childrenToRender;\n\n  if (process.env.NODE_ENV !== \"production\" && exitBeforeEnter && childrenToRender.length > 1) {\n    console.warn(\"You're attempting to animate multiple children within AnimatePresence, but its exitBeforeEnter prop is set to true. This will lead to odd visual behaviour.\");\n  }\n\n  return React.createElement(React.Fragment, null, exiting.size ? childrenToRender : childrenToRender.map(function (child) {\n    return cloneElement(child);\n  }));\n};\n\nexport { AnimatePresence };","import { __read } from 'tslib';\nimport sync from 'framesync';\nimport { useRef, useState, useCallback } from 'react';\nimport { useUnmountEffect } from './use-unmount-effect.mjs';\n\nfunction useForceUpdate() {\n  var isUnmountingRef = useRef(false);\n\n  var _a = __read(useState(0), 2),\n      forcedRenderCount = _a[0],\n      setForcedRenderCount = _a[1];\n\n  useUnmountEffect(function () {\n    return isUnmountingRef.current = true;\n  });\n  var forceRender = useCallback(function () {\n    !isUnmountingRef.current && setForcedRenderCount(forcedRenderCount + 1);\n  }, [forcedRenderCount]);\n  /**\n   * Defer this to the end of the next animation frame in case there are multiple\n   * synchronous calls.\n   */\n\n  var deferredForceRender = useCallback(function () {\n    return sync.postRender(forceRender);\n  }, [forceRender]);\n  return [deferredForceRender, forcedRenderCount];\n}\n\nexport { useForceUpdate };","import React from 'react';\nimport styled from 'styled-components';\nimport { AnimatePresence, motion } from 'framer-motion';\nimport { theme } from '@styles';\n\nconst Container = styled(motion.div)`\n  position: fixed;\n  top: 50%;\n  left: 35vw;\n  width: 30vw;\n  height: 80vh;\n  transform: translate(0, -50%);\n\n  background: ${theme.colors.background};\n  border-radius: 30px;\n  box-shadow: 0 0 20px #999999;\n\n  padding: 40px;\n\n  overflow: scroll;\n  scrollbar-width: none;\n  -ms-overflow-style: none;\n  ::-webkit-scrollbar {\n    width: 0;\n    height: 0;\n  }\n`;\n\nconst CloseButton = styled(motion.button)`\n  // position: fixed;\n  // top: 50%;\n  // left: 35vw;\n  all: unset;\n  font-size: 50px;\n  text-align: right;\n  float: right;\n  // transform: translateY(-50%);\n  background: ${theme.colors.background};\n  color: ${theme.colors.accent};\n`;\n\nconst AnimatedText = styled(motion.p)``;\n\nconst OutboundLink = styled.a`\n  :hover {\n    text-decoration: underline;\n  }\n`;\n\n\nexport default function MoreInfo(props) {\n  const containerAnim = {\n    beginning: { opacity: 0 },\n    final: {\n      opacity: 1,\n      transition: { when: 'beforeChildren', staggerChildren: 0.1 },\n    },\n    exit: { opacity: 0 },\n  };\n  const item = {\n    beginning: { opacity: 0, y: 20 },\n    final: { opacity: 1, y: 0 },\n    exit: { opacity: 0 }\n  };\n  return (\n    <AnimatePresence>\n      {props.moreInfo && (\n        <Container\n          key=\"moreInfoContainer\"\n          variants={containerAnim}\n          intial=\"beginning\"\n          animate=\"final\"\n          exit=\"exit\"\n        >\n          <CloseButton\n            key=\"closeButton\"\n            onClick={() => {\n              props.setMoreInfo(false);\n              // document.getElementById('moreInfoContainer').style.opacity = 0;\n              // const p = new Promise((resolve) => setTimeout(resolve, 2000));\n              // p.then(() => { props.setMoreInfo(false) });\n            }}\n          // whileHover={{ scale: 1.5, transition: { duration: 0.1 } }}\n          // whileTap={{ scale: 0.85, transition: { duration: 0.1 } }}\n          >\n            ×\n          </CloseButton>\n          <br />\n          <AnimatedText key=\"1\" variants={item} >\n            Geert Hofstede, assisted by others, came up with six basic issues\n            that society needs to come to term with in order to organize itself.\n            These are called dimensions of culture. Each of them has been\n            expressed on a scale that runs roughly from 0 to 100.\n          </AnimatedText>\n          <AnimatedText key=\"2\" variants={item}>\n            Each dimension has been derived by comparing many, but not all,\n            countries in the world. The findings can be summarized into six\n            world maps of the distribution of that dimension. Of course, in\n            reality there can be quite a bit of within-country variation; these\n            maps should be seen as rough \"climate maps\" of culture.\n          </AnimatedText>\n          <AnimatedText key=\"3\" variants={item}>\n            This website allows you to explore the Hofstede's estimated scores\n            for every available country and each dimension. Please do not\n            consider this data official or static in any way. Hofstede's\n            research methods naturally had flaws, and societal cultures are\n            constantly shifting. Scores are just supposed to indications of\n            general trends, and never tell the fully story of a country's\n            people.\n          </AnimatedText>\n          <AnimatedText key=\"4\" variants={item}>\n            I hope this information helps people to understand and communicate\n            with different cultures more effectively, rather than judge them.\n            For more information about Hofstede's scientific methods, please\n            consult the wealth of academic literature that can be found on the\n            topic.\n          </AnimatedText>\n          <AnimatedText key=\"5\" variants={item}>\n            Summaries and data were taken from&nbsp;\n            <OutboundLink\n              href=\"https://geerthofstede.com/\"\n              aria-label=\"Geert Hofstede\"\n              target=\"_blank\"\n              rel=\"noopener noreferrer\"\n            >\n              Geert Hofstede's website\n            </OutboundLink>\n            .\n          </AnimatedText>\n          <AnimatedText key=\"6\" variants={item}>\n            Thank you so much for exploring my project! You can learn more about\n            me at{' '}\n            <OutboundLink\n              href=\"https://rustom.dev/\"\n              aria-label=\"Hofstede's Globe Source Code\"\n              target=\"_blank\"\n              rel=\"noopener noreferrer\"\n            >\n              my website\n            </OutboundLink>{' '}\n            and access the source code for this website on{' '}\n            <OutboundLink\n              href=\"https://github.com/rustom/hofstedes-globe\"\n              aria-label=\"Hofstede's Globe Source Code\"\n              target=\"_blank\"\n              rel=\"noopener noreferrer\"\n            >\n              GitHub\n            </OutboundLink>\n            . I'd love it if you reached out to me with questions!\n          </AnimatedText>\n        </Container>\n      )}\n    </AnimatePresence>\n  );\n}\n","import React from 'react';\nimport styled from 'styled-components';\nimport { motion } from 'framer-motion';\nimport { DimensionInfo, Menu } from '@components';\nimport { theme } from '@styles';\n\nconst Container = styled.div`\n  // width: 100%;\n  // height: 100%;\n  // margin: 0;\n\n  width: 25vw;\n  height: calc(100vh - 80px);\n  position: absolute;\n  overflow-y: scroll;\n  scrollbar-width: none;\n  -ms-overflow-style: none;\n  ::-webkit-scrollbar {\n    width: 0;\n    height: 0;\n  }\n  left: 0px;\n  top: 0px;\n  background: ${theme.colors.background};\n\n  box-shadow: 0 0 30px #999999;\n  padding: 40px;\n  min-width: 390px;\n  // transform: translate(2vw, 3vh);\n  // transition-delay: 1s;\n`;\n\nconst Title = styled.h1`\n  position: relative;\n  text-align: center;\n  background: ${theme.colors.background};\n  font-family: ${theme.fonts.mono};\n  line-height: 1.5em;\n  font-weight: 500;\n  text-transform: uppercase;\n`;\n\nconst TitleBoxLeft = styled.div`\n  position: absolute;\n  background: ${theme.colors.accent};\n  left: 28px;\n  top: 2.75em;\n  height: 3em;\n  width: 5em;\n`;\n\nconst TitleBoxRight = styled.div`\n  position: absolute;\n  background: ${theme.colors.accent};\n  right: 25px;\n  top: 3.96em;\n  height: 3em;\n  width: 5em;\n`;\n\nconst Separator = styled.hr`\n  width: 80%;\n`;\n\nconst MoreInfoButton = styled.button`\n  // margin: 0px;\n  // background: none;\n  // border: none;\n  // font-family: inherit;\n  // font-size: inherit;\n  all: unset;\n  color: ${theme.colors.accent};\n  // text-decoration: underline;\n`;\n\nconst colors = ['#FF008C', '#D309E1', '#9C1AFF', '#7700FF', '#4400FF'];\n\nexport default function Sidebar(props) {\n  return (\n    <Container id=\"sidebar\">\n      <TitleBoxLeft />\n      <TitleBoxRight />\n      <Title>Hofstede's Globe</Title>\n\n      <p style={{ paddingTop: '5%' }}>\n        Hofstede's Globe is a tool for visualizing Geert Hofstede's 6 Cultural\n        Dimensions.\n      </p>\n      <MoreInfoButton\n        onClick={() => {\n          props.setMoreInfo(!props.moreInfo);\n        }}\n      >\n        What's that?\n      </MoreInfoButton>\n\n      <div style={{ fontSize: '15px' }}>\n        <br />\n        <Separator />\n        <br />\n      </div>\n\n      <Menu\n        dimensions={props.dimensions}\n        dimension={props.dimension}\n        setDimension={props.setDimension}\n      />\n\n      <DimensionInfo dimension={props.dimension} />\n    </Container>\n  );\n}\n","import React, { useState } from 'react';\nimport styled, { ThemeProvider } from 'styled-components';\nimport { GlobalStyle, theme } from '@styles';\nimport { ColorKey, Map, MoreInfo, Sidebar } from '@components';\nimport { AnimatePresence, motion } from 'framer-motion';\n\nconst Container = styled.div`\n  position: fixed;\n  width: 100vw;\n  height: 100vh;\n`;\n\nconst dimensionList = [\n  'Power Distance',\n  'Individualism',\n  'Masculinity',\n  'Uncertainty Avoidance',\n  'Long Term Orientation',\n  'Indulgence',\n];\n\nexport default function Home() {\n  const [dimension, setDimension] = useState('Power Distance');\n  const [moreInfo, setMoreInfo] = useState(false);\n\n  return (\n    <>\n      <ThemeProvider theme={theme}>\n        <GlobalStyle />\n        <Container>\n          {/* <ChildContainer> */}\n          <Map mapWidth={'100%'} dimension={dimension} />\n          <ColorKey />\n          {/* <Menu /> */}\n          <Sidebar\n            dimensions={dimensionList}\n            dimension={dimension}\n            setDimension={setDimension}\n            moreInfo={moreInfo}\n            setMoreInfo={setMoreInfo}\n          />\n          {/* <AnimatePresence> */}\n          <MoreInfo moreInfo={moreInfo} setMoreInfo={setMoreInfo} />\n          {/* {moreInfo && (\n            )} */}\n            {/* // <motion.div initial={{ opacity: 0 }} animate={{ opacity: 1 }}>\n            // </motion.div> */}\n          {/* </AnimatePresence> */}\n          {/* </ChildContainer> */}\n          {/* <ChildContainer style={{position: 'absolute'}}> */}\n          {/* </ChildContainer> */}\n        </Container>\n      </ThemeProvider>\n    </>\n  );\n}\n"],"names":["module","exports","arr","len","length","i","arr2","Array","__esModule","isArray","arrayLikeToArray","instance","Constructor","TypeError","setPrototypeOf","isNativeReflectConstruct","_construct","Parent","args","Class","Reflect","construct","a","push","apply","Function","bind","prototype","arguments","_defineProperties","target","props","descriptor","enumerable","configurable","writable","Object","defineProperty","key","protoProps","staticProps","obj","value","superPropBase","_get","get","property","receiver","base","desc","getOwnPropertyDescriptor","call","this","_getPrototypeOf","o","getPrototypeOf","__proto__","subClass","superClass","create","constructor","fn","toString","indexOf","sham","Proxy","Boolean","valueOf","e","iter","Symbol","iterator","from","_i","_s","_e","_arr","_n","_d","next","done","err","_typeof","assertThisInitialized","self","arrayWithHoles","iterableToArrayLimit","unsupportedIterableToArray","nonIterableRest","object","hasOwnProperty","iterableToArray","arrayWithoutHoles","nonIterableSpread","minLen","n","slice","name","test","isNativeFunction","_wrapNativeSuper","_cache","Map","undefined","has","set","Wrapper","limit","x","min","max","clip_rgb","rgb","_clipped","_unclipped","classToType","list","toLowerCase","type","unpack","keyOrder","split","filter","k","map","last","l","PI","Math","utils","TWOPI","PITHIRD","DEG2RAD","RAD2DEG","input","format","autodetect","last$1","clip_rgb$1","type$1","Color","me","mode","sorted","sort","b","p","chk","Error","_rgb","hex","join","Color_1","chroma","concat","version","chroma_1","unpack$1","rgb2cmyk","ref","r","g","f","rgb2cmyk_1","unpack$2","cmyk2rgb","c","m","y","alpha","cmyk2rgb_1","unpack$3","type$2","cmyk","unpack$4","last$2","rnd","round","hsl2css","hsla","hsl2css_1","unpack$5","rgb2hsl","s","h","Number","NaN","rgb2hsl_1","unpack$6","last$3","rgb2css","rgba","substr","rgb2css_1","unpack$7","round$1","hsl2rgb","assign","t3","t2","t1","h_","hsl2rgb_1","RE_RGB","RE_RGBA","RE_RGB_PCT","RE_RGBA_PCT","RE_HSL","RE_HSLA","round$2","css2rgb","css","trim","named","match","rgb$1","i$1","rgb$2","i$2","rgb$3","i$3","hsl","rgb$4","hsl$1","rgb$5","css2rgb_1","type$3","rest","unpack$8","gl","unpack$9","rgb2hcg","delta","_g","rgb2hcg_1","unpack$a","floor","hcg2rgb","assign$1","assign$2","assign$3","assign$4","assign$5","_c","q","t","v","hcg2rgb_1","unpack$b","type$4","hcg","unpack$c","last$4","round$3","rgb2hex","str","hxa","rgb2hex_1","RE_HEX","RE_HEXA","hex2rgb_1","u","parseInt","u$1","type$5","unpack$d","sqrt","acos","rgb2hsi","min_","rgb2hsi_1","unpack$e","limit$1","TWOPI$1","cos","hsi2rgb","isNaN","hsi2rgb_1","unpack$f","type$6","hsi","unpack$g","type$7","unpack$h","min$1","max$1","rgb2hsl$1","max_","rgb2hsv","unpack$i","floor$1","hsv2rgb","hsv2rgb_1","unpack$j","type$8","hsv","labConstants","Kn","Xn","Yn","Zn","t0","unpack$k","pow","rgb2lab","ref$1","rgb2xyz","rgb_xyz","xyz_lab","rgb2lab_1","unpack$l","pow$1","lab2rgb","z","lab_xyz","xyz_rgb","lab2rgb_1","unpack$m","type$9","lab","unpack$n","sqrt$1","atan2","round$4","lab2lch","lab2lch_1","unpack$o","rgb2lch","b_","rgb2lch_1","unpack$p","sin","cos$1","lch2lab","lch2lab_1","unpack$q","lch2rgb","L","lch2rgb_1","unpack$r","hcl2rgb","hcl","reverse","hcl2rgb_1","unpack$s","type$a","lch","forEach","w3cx11_1","aliceblue","antiquewhite","aqua","aquamarine","azure","beige","bisque","black","blanchedalmond","blue","blueviolet","brown","burlywood","cadetblue","chartreuse","chocolate","coral","cornflower","cornflowerblue","cornsilk","crimson","cyan","darkblue","darkcyan","darkgoldenrod","darkgray","darkgreen","darkgrey","darkkhaki","darkmagenta","darkolivegreen","darkorange","darkorchid","darkred","darksalmon","darkseagreen","darkslateblue","darkslategray","darkslategrey","darkturquoise","darkviolet","deeppink","deepskyblue","dimgray","dimgrey","dodgerblue","firebrick","floralwhite","forestgreen","fuchsia","gainsboro","ghostwhite","gold","goldenrod","gray","green","greenyellow","grey","honeydew","hotpink","indianred","indigo","ivory","khaki","laserlemon","lavender","lavenderblush","lawngreen","lemonchiffon","lightblue","lightcoral","lightcyan","lightgoldenrod","lightgoldenrodyellow","lightgray","lightgreen","lightgrey","lightpink","lightsalmon","lightseagreen","lightskyblue","lightslategray","lightslategrey","lightsteelblue","lightyellow","lime","limegreen","linen","magenta","maroon","maroon2","maroon3","mediumaquamarine","mediumblue","mediumorchid","mediumpurple","mediumseagreen","mediumslateblue","mediumspringgreen","mediumturquoise","mediumvioletred","midnightblue","mintcream","mistyrose","moccasin","navajowhite","navy","oldlace","olive","olivedrab","orange","orangered","orchid","palegoldenrod","palegreen","paleturquoise","palevioletred","papayawhip","peachpuff","peru","pink","plum","powderblue","purple","purple2","purple3","rebeccapurple","red","rosybrown","royalblue","saddlebrown","salmon","sandybrown","seagreen","seashell","sienna","silver","skyblue","slateblue","slategray","slategrey","snow","springgreen","steelblue","tan","teal","thistle","tomato","turquoise","violet","wheat","white","whitesmoke","yellow","yellowgreen","type$b","keys","unpack$t","rgb2num","rgb2num_1","type$c","num2rgb_1","num","type$d","unpack$u","type$e","round$5","log","temperature2rgb_1","kelvin","temp","unpack$v","round$6","rgb2temperature","minTemp","maxTemp","eps","rgb2temperature_1","temperature","type$f","mutate","clipped","darken","amount","brighten","darker","brighter","mc","channel","src","type$g","pow$2","EPS","MAX_ITER","luminance","lum","cur_lum","max_iter","low","high","mid","interpolate","lm","abs","rgb2luminance","luminance_x","interpolator","type$h","mix","col1","col2","premultiply","saturate","desaturate","type$i","charAt","out","xyz0","xyz1","sqrt$2","pow$3","lrgb","x1","y1","z1","x2","y2","z2","lab$1","_hsx","hue0","hue1","sat0","sat1","lbv0","lbv1","sat","hue","lch$1","num$1","c1","c2","hcg$1","hsi$1","hsv$1","clip_rgb$2","pow$4","sqrt$3","PI$1","cos$2","sin$1","atan2$1","average","colors","weights","reduce","w","_average_lrgb","first","shift","xyz","cnt","dx","dy","A","ci","xyz2","A$1","col","type$j","pow$5","scale","_mode","_nacol","_spread","_domain","_pos","_padding","_classes","_colors","_out","_min","_max","_correctLightness","_colorCache","_useCache","_gamma","setColors","brewer","c$1","resetCache","getClass","tMapLightness","tMapDomain","getColor","val","bypassMap","classes","d","analyze","limits","domain","tOut","tBreaks","every","_m","range","_o","spread","correctLightness","L0","L1","pol","L_actual","L_ideal","L_diff","padding","numColors","result","dm","dd","__range__","samples","end","asc","cache","gamma","nodata","left","right","inclusive","ascending","bezier","I","lab0","lab1","lab2","lab3","I0","I1","bezier_1","blend","bottom","top","blend_f","c0","each","normal","multiply","darken$1","lighten","screen","overlay","burn","dodge","blend_1","type$k","clip_rgb$3","TWOPI$2","pow$6","sin$2","cos$3","cubehelix","start","rotations","lightness","dl","dh","fract","amp","cos_a","sin_a","digits","floor$2","random","random_1","code","log$1","pow$7","floor$3","data","MAX_VALUE","sum","values","count","min_log","LOG10E","max_log","pb","pr","cluster","assignments","clusterSizes","repeat","nb_iters","centroids","j","i$4","mindist","best","j$1","dist","newCentroids","j$2","i$5","j$3","j$4","kClusters","j$5","i$6","tmpKMeansBreaks","j$6","i$7","analyze_1","contrast","l1","l2","sqrt$4","atan2$2","abs$1","cos$4","PI$2","deltaE","C","a1","b1","L2","a2","b2","sl","sc","h1","c4","sh","delC","delA","delB","v1","v2","distance","sum_sq","valid","scales","cool","hot","colorbrewer","OrRd","PuBu","BuPu","Oranges","BuGn","YlOrBr","YlGn","Reds","RdPu","Greens","YlGnBu","Purples","GnBu","Greys","YlOrRd","PuRd","Blues","PuBuGn","Viridis","Spectral","RdYlGn","RdBu","PiYG","PRGn","RdYlBu","BrBG","RdGy","PuOr","Set2","Accent","Set1","Set3","Dark2","Paired","Pastel2","Pastel1","list$1","colorbrewer_1","factory","window","document","exportName","VENDOR_PREFIXES","TEST_ELEMENT","createElement","now","Date","setTimeoutContext","timeout","context","setTimeout","bindFn","invokeArrayArg","arg","deprecate","method","message","deprecationMessage","stack","replace","console","warn","output","index","source","nextKey","extend","dest","merge","inherit","child","properties","childP","baseP","_super","boolOrFn","ifUndefined","val1","val2","addEventListeners","types","handler","splitStr","addEventListener","removeEventListeners","removeEventListener","hasParent","node","parent","parentNode","inStr","find","inArray","findByKey","toArray","uniqueArray","results","prefixed","prefix","prop","camelProp","toUpperCase","_uniqueId","getWindowForElement","element","doc","ownerDocument","defaultView","parentWindow","SUPPORT_TOUCH","SUPPORT_POINTER_EVENTS","SUPPORT_ONLY_TOUCH","navigator","userAgent","INPUT_TYPE_TOUCH","INPUT_TYPE_MOUSE","DIRECTION_VERTICAL","DIRECTION_UP","PROPS_XY","PROPS_CLIENT_XY","Input","manager","callback","options","inputTarget","domHandler","ev","enable","init","inputHandler","eventType","pointersLen","pointers","changedPointersLen","changedPointers","isFirst","isFinal","session","pointersLength","firstInput","simpleCloneInputData","firstMultiple","offsetCenter","center","getCenter","timeStamp","deltaTime","angle","getAngle","getDistance","offset","offsetDelta","prevDelta","prevInput","deltaX","deltaY","computeDeltaXY","offsetDirection","getDirection","overallVelocity","getVelocity","overallVelocityX","overallVelocityY","rotation","getRotation","maxPointers","velocity","velocityX","velocityY","direction","lastInterval","computeIntervalInputData","srcEvent","computeInputData","emit","recognize","clientX","clientY","p1","p2","evEl","evTarget","evWin","destroy","MOUSE_INPUT_MAP","mousedown","mousemove","mouseup","MOUSE_ELEMENT_EVENTS","MOUSE_WINDOW_EVENTS","MouseInput","pressed","button","which","pointerType","POINTER_INPUT_MAP","pointerdown","pointermove","pointerup","pointercancel","pointerout","IE10_POINTER_TYPE_ENUM","POINTER_ELEMENT_EVENTS","POINTER_WINDOW_EVENTS","PointerEventInput","store","pointerEvents","MSPointerEvent","PointerEvent","removePointer","eventTypeNormalized","isTouch","storeIndex","pointerId","splice","SINGLE_TOUCH_INPUT_MAP","touchstart","touchmove","touchend","touchcancel","SINGLE_TOUCH_TARGET_EVENTS","SINGLE_TOUCH_WINDOW_EVENTS","SingleTouchInput","started","normalizeSingleTouches","all","touches","changed","changedTouches","TOUCH_INPUT_MAP","TOUCH_TARGET_EVENTS","TouchInput","targetIds","getTouches","allTouches","identifier","targetTouches","changedTargetTouches","touch","TouchMouseInput","mouse","primaryTouch","lastTouches","recordTouches","eventData","setLastTouch","lastTouch","lts","isSyntheticEvent","inputEvent","inputData","isMouse","sourceCapabilities","firesTouchEvents","PREFIXED_TOUCH_ACTION","style","NATIVE_TOUCH_ACTION","TOUCH_ACTION_COMPUTE","TOUCH_ACTION_AUTO","TOUCH_ACTION_MANIPULATION","TOUCH_ACTION_NONE","TOUCH_ACTION_PAN_X","TOUCH_ACTION_PAN_Y","TOUCH_ACTION_MAP","touchMap","cssSupports","CSS","supports","getTouchActionProps","TouchAction","compute","actions","update","touchAction","recognizers","recognizer","getTouchAction","hasPanX","hasPanY","cleanTouchActions","preventDefaults","prevented","preventDefault","hasNone","isTapPointer","isTapMovement","isTapTouchTime","DIRECTION_LEFT","preventSrc","STATE_FAILED","Recognizer","defaults","id","state","simultaneous","requireFail","stateStr","directionStr","getRecognizerByNameIfManager","otherRecognizer","AttrRecognizer","PanRecognizer","pX","pY","PinchRecognizer","PressRecognizer","_timer","_input","RotateRecognizer","SwipeRecognizer","TapRecognizer","pTime","pCenter","Hammer","preset","Manager","recognizeWith","dropRecognizeWith","requireFailure","dropRequireFailure","hasRequireFailures","canRecognizeWith","event","additionalEvent","tryEmit","canEmit","inputDataClone","reset","process","attrTest","optionPointers","isRecognized","isValid","threshold","DIRECTION_HORIZONTAL","directionTest","hasMoved","inOut","time","validPointers","validMovement","validTime","clearTimeout","taps","interval","posThreshold","validTouchTime","failTimeout","validInterval","validMultiTap","tapCount","VERSION","domEvents","inputClass","cssProps","userSelect","touchSelect","touchCallout","contentZooming","userDrag","tapHighlightColor","handlers","oldCssProps","toggleCssProps","item","add","stop","force","stopped","curRecognizer","existing","remove","on","events","off","gestureEvent","createEvent","initEvent","gesture","dispatchEvent","triggerDomEvent","INPUT_START","INPUT_MOVE","INPUT_END","INPUT_CANCEL","STATE_POSSIBLE","STATE_BEGAN","STATE_CHANGED","STATE_ENDED","STATE_RECOGNIZED","STATE_CANCELLED","DIRECTION_NONE","DIRECTION_RIGHT","DIRECTION_DOWN","DIRECTION_ALL","Tap","Pan","Swipe","Pinch","Rotate","Press","global","isCallable","tryToString","argument","isObject","String","toIndexedObject","toAbsoluteIndex","lengthOfArrayLike","createMethod","IS_INCLUDES","$this","el","fromIndex","O","includes","uncurryThis","stringSlice","it","hasOwn","ownKeys","getOwnPropertyDescriptorModule","definePropertyModule","DESCRIPTORS","createPropertyDescriptor","bitmap","fails","EXISTS","getBuiltIn","Deno","versions","v8","createNonEnumerableProperty","redefine","setGlobal","copyConstructorProperties","isForced","targetProperty","sourceProperty","TARGET","GLOBAL","STATIC","stat","noTargetGet","forced","exec","error","FunctionPrototype","getDescriptor","PROPER","CONFIGURABLE","callBind","aFunction","namespace","aCallable","V","P","func","check","globalThis","toObject","classof","propertyIsEnumerable","functionToString","inspectSource","NATIVE_WEAK_MAP","shared","sharedKey","hiddenKeys","OBJECT_ALREADY_INITIALIZED","WeakMap","wmget","wmhas","wmset","metadata","facade","STATE","enforce","getterFor","TYPE","replacement","feature","detection","normalize","POLYFILL","NATIVE","string","isPrototypeOf","USE_SYMBOL_AS_UID","$Symbol","toLength","V8_VERSION","getOwnPropertySymbols","symbol","IE8_DOM_DEFINE","anObject","toPropertyKey","$defineProperty","Attributes","propertyIsEnumerableModule","$getOwnPropertyDescriptor","internalObjectKeys","getOwnPropertyNames","names","$propertyIsEnumerable","NASHORN_BUG","pref","getOwnPropertyNamesModule","getOwnPropertySymbolsModule","InternalStateModule","CONFIGURABLE_FUNCTION_NAME","getInternalState","enforceInternalState","TEMPLATE","unsafe","simple","uid","SHARED","IS_PURE","copyright","toIntegerOrInfinity","integer","IndexedObject","requireObjectCoercible","ceil","number","isSymbol","getMethod","ordinaryToPrimitive","wellKnownSymbol","TO_PRIMITIVE","exoticToPrim","toPrimitive","postfix","NATIVE_SYMBOL","WellKnownSymbolsStore","symbolFor","createWellKnownSymbol","withoutSetter","description","$","$hypot","hypot","Infinity","value1","value2","div","aLen","larg","palette","background","backgroundLight","backgroundDark","text","textLight","accent","accentLight","accentDark","fonts","sans","mono","extra","sizeDefault","weightDefault","createGlobalStyle","theme","Container","styled","Colors","KeyText","ColorKey","InfoText","Separator","DimensionInfo","height","dimensionInfo","dimension","_extends","_classCallCheck","_createClass","EPSILON","ARRAY_TYPE","Float32Array","vec","transformVector","matrix","vector","mod","divisor","modulus","step","log2","LOG2E","a00","a01","a02","a03","a10","a11","a12","a13","a20","a21","a22","a23","a30","a31","a32","a33","b0","b3","translate","a0","a3","a4","a5","a6","a7","a8","a9","a14","a15","b4","b5","b6","b7","b8","b9","b10","b11","b12","b13","b14","b15","ax","ay","condition","PI_4","DEGREES_TO_RADIANS","RADIANS_TO_DEGREES","TILE_SIZE","zoomToScale","zoom","scaleToZoom","lngLatToWorld","_ref","_ref2","lng","lat","isFinite","phi2","worldToLngLat","_ref3","_ref4","lambda2","atan","exp","getDistanceScales","_ref6","latitude","longitude","_ref6$highPrecision","highPrecision","latCosine","unitsPerDegreeX","unitsPerDegreeY","altUnitsPerMeter","worldSize","unitsPerMeter","metersPerUnit","unitsPerDegree","degreesPerUnit","latCosine2","unitsPerDegreeY2","altUnitsPerDegree2","altUnitsPerMeter2","unitsPerDegree2","unitsPerMeter2","getViewMatrix","_ref7","pitch","bearing","altitude","_ref7$center","vm","rad","getProjectionMatrix","_ref9","width","_getProjectionParamet","_ref8","_ref8$fovy","fovy","altitudeToFovy","_ref8$pitch","_ref8$nearZMultiplier","nearZMultiplier","_ref8$farZMultiplier","farZMultiplier","halfFov","focalDistance","fovyToAltitude","pitchRadians","topHalfSurfaceDistance","fov","aspect","near","far","getProjectionParameters","projectionMatrix","nf","worldToPixels","pixelProjectionMatrix","_xyz2","_xyz2$","pixelsToWorld","pixelUnprojectionMatrix","targetZ","_xyz3","coord","coord0","coord1","z0","bounds","_ref$minExtent","minExtent","_ref$maxZoom","maxZoom","_ref$padding","_ref$offset","_bounds","_bounds$","west","south","_bounds$2","east","north","viewport","WebMercatorViewport","nw","project","se","size","targetSize","scaleX","scaleY","offsetX","offsetY","centerLngLat","unproject","getBounds","topLeft","topRight","unprojectOps","bottomLeft","bottomRight","angleToGround","unprojectOnFarPlane","distanceScales","_ref$latitude","_ref$longitude","_ref$zoom","_ref$pitch","_ref$bearing","_ref$altitude","_ref$fovy","_ref$position","position","_ref$nearZMultiplier","_ref$farZMultiplier","viewMatrix","meterOffset","_initMatrices","equals","projectPosition","unprojectPosition","freeze","vpm","viewProjectionMatrix","mInverse","b00","b01","b02","b03","b04","b05","b06","b07","b08","b09","det","_ref2$topLeft","worldPosition","_coord","_ref3$topLeft","_ref3$targetZ","_xyz","targetZWorld","_this$unprojectPositi","_this$unprojectPositi2","X","Y","Z","_lngLatToWorld2","_worldToLngLat2","lngLat","xy","fromLocation","pos","_ref5","getMapCenterByLngLatPosition","_fitBounds2","corners","getBoundingRegion","_createForOfIteratorHelper","allowArrayLike","_arrayLikeToArray","_unsupportedIterableToArray","F","normalCompletion","didErr","_e2","return","VIEWPORT_TRANSITION_PROPS","DEFAULT_OPTS","curve","speed","getFlyToTransitionParams","startProps","endProps","opts","rho","startZoom","startCenter","startScale","endZoom","endCenter","startCenterXY","endCenterXY","uDelta","w0","w1","u1","_u1","rho2","r0","r1","S","MapShim","getIndex","some","entry","class_1","__entries__","delete","entries","clear","ctx","_a","isBrowser","global$1","requestAnimationFrame$1","requestAnimationFrame","transitionKeys","mutationObserverSupported","MutationObserver","ResizeObserverController","connected_","mutationEventsAdded_","mutationsObserver_","observers_","onTransitionEnd_","refresh","delay","leadingCall","trailingCall","lastCallTime","resolvePending","proxy","timeoutCallback","throttle","addObserver","observer","connect_","removeObserver","observers","disconnect_","updateObservers_","activeObservers","gatherActive","hasActive","broadcastActive","observe","attributes","childList","characterData","subtree","disconnect","_b","propertyName","getInstance","instance_","defineConfigurable","getWindowOf","emptyRect","createRectInit","toFloat","parseFloat","getBordersSize","styles","positions","getHTMLElementContentRect","clientWidth","clientHeight","getComputedStyle","paddings","positions_1","getPaddings","horizPad","vertPad","boxSizing","documentElement","isDocumentElement","vertScrollbar","horizScrollbar","isSVGGraphicsElement","SVGGraphicsElement","SVGElement","getBBox","getContentRect","bbox","getSVGContentRect","ResizeObservation","broadcastWidth","broadcastHeight","contentRect_","isActive","rect","broadcastRect","ResizeObserverEntry","rectInit","Constr","contentRect","DOMRectReadOnly","ResizeObserverSPI","controller","callbackCtx","activeObservations_","observations_","callback_","controller_","callbackCtx_","Element","observations","unobserve","clearActive","_this","observation","ResizeObserver","document_","enumerableOnly","symbols","sym","_objectSpread","getOwnPropertyDescriptors","defineProperties","refProps","normalizeStyle","toJS","_step","layerIndex","_iterator","layers","layer","layerRef","normalizedLayer","interactive","_step2","_iterator2","propName","propTypes","container","mapboxApiAccessToken","mapboxApiUrl","attributionControl","preserveDrawingBuffer","reuseMaps","transformRequest","mapOptions","mapStyle","preventStyleDiffing","visible","asyncRender","onLoad","onError","viewState","defaultProps","accessToken","location","search","MapboxAccessToken","REACT_APP_MAPBOX_ACCESS_TOKEN","getAccessToken","checkPropTypes","component","debug","Mapbox","_map","mapboxgl","initialized","_checkStyleSheet","_initialize","_destroy","_update","_frame","cancel","_render","savedMap","oldContainer","getContainer","newContainer","classList","childNodes","appendChild","_container","setStyle","diff","isStyleLoaded","_fireLoadEvent","once","_reuse","getContext","HTMLCanvasElement","trackResize","_handleError","_this2","baseApiUrl","_create","canvas","getCanvas","outline","_updateMapViewport","_updateMapSize","oldProps","newProps","viewportChanged","sizeChanged","_updateMapStyle","redraw","resize","oldViewState","_getViewState","newViewState","jumpTo","_viewStateToMapboxProps","transform","mapboxVersion","testElement","className","display","isCssLoaded","link","setAttribute","ArrayBuffer","isView","clamp","ai","MAPBOX_LIMITS","minZoom","minPitch","maxPitch","DEFAULT_STATE","MapState","_ref$minZoom","_ref$maxPitch","_ref$minPitch","transitionDuration","transitionEasing","transitionInterpolator","transitionInterruption","startPanLngLat","startZoomLngLat","startRotatePos","startBearing","startPitch","_viewportProps","_applyConstraints","_state","_getUpdatedMapState","_unproject","startPos","_this$_calculateNewLn2","_calculateNewLngLat","newRotation","_ref5$deltaAngleX","deltaAngleX","_ref5$deltaAngleY","deltaAngleY","_this$_state","_calculateNewPitchAndBearing","_getRotationParams","_this$_state2","_calculateNewZoom","_zoomedViewport$getMa2","halfHeightPixels","minLatitude","maxLatitude","normalizeViewportProps","_this$_viewportProps","_ref10","deltaScaleX","deltaScaleY","_this$_viewportProps2","centerY","startY","_this$_viewportProps3","decapitalize","MapContext","createContext","onViewportChange","onViewStateChange","eventManager","MapContextProvider","Provider","children","_useState2","useState","setMap","useContext","useLayoutEffect","useEffect","getTerrainElevation","queryTerrainElevation","NO_TOKEN_WARNING","getViewport","viewportProps","CONTAINER_STYLE","overflow","disableTokenWarning","onResize","visibilityConstraints","NoTokenWarning","href","StaticMap","forwardRef","accessTokenValid","setTokenState","_useState4","setSize","mapboxRef","useRef","mapDivRef","containerRef","overlayRef","supported","mapbox","current","evt","status","getMap","resizeObserver","_entries$0$contentRec","_width","_height","finalize","setProps","useImperativeHandle","queryRenderedFeatures","geometry","getRefHandles","preventScroll","useCallback","scrollTo","overlays","onScroll","mapContainerStyle","constraints","constraintName","checkVisibilityConstraints","visibility","TransitionInterpolator","currentProps","nextProps","propNames","_assertThisInitialized","ReferenceError","_inherits","_possibleConstructorReturn","WRAPPED_ANGULAR_PROPS","getEndValueByShortestPath","startValue","endValue","isWrappedAngularProp","_createSuper","Derived","hasNativeReflectConstruct","_isNativeReflectConstruct","Super","NewTarget","REQUIRED_PROPS","LINEARLY_INTERPOLATED_PROPS","_TransitionInterpolat","ViewportFlyToInterpolator","startViewportProps","endViewportProps","_key","_startValue","_endValue","_step3","_getFlyToTransitionPa","cosh","tanh","sinh","newZoom","newCenterWorld","newCenter","flyToViewport","_iterator3","duration","_opts","screenSpeed","maxDuration","_getFlyToTransitionPa2","getFlyToDuration","LinearInterpolator","transitionProps","around","aroundLngLat","_WebMercatorViewport$2","TRANSITION_EVENTS","DEFAULT_PROPS","onTransitionStart","onTransitionInterrupt","onTransitionEnd","TransitionManager","_animationFrame","_onTransitionFrame","_updateViewport","onStateChange","getTime","propsInTransition","_shouldIgnoreViewportChange","_isTransitionEnabled","_isTransitionInProgress","interruption","currentTime","x0","startTime","easing","y0","cropEasingFunction","_triggerTransition","_endTransition","arePropsEqual","_isUpdateDueToCurrentTransition","cancelAnimationFrame","getDuration","initialProps","initializeProps","interactionState","inTransition","isZooming","isPanning","isRotating","animation","_this$state","shouldEnd","interpolateProps","mapState","getViewportProps","oldHandler","array","predict","RECOGNIZERS","RECOGNIZER_COMPATIBLE_MAP","tripan","rotate","pinch","pan","doubletap","anytap","RECOGNIZER_FALLBACK_MAP","BASIC_EVENT_ALIASES","INPUT_EVENT_TYPES","EVENT_RECOGNIZER_MAP","tap","press","pinchin","pinchout","pinchstart","pinchmove","pinchend","pinchcancel","rotatestart","rotatemove","rotateend","rotatecancel","tripanstart","tripanmove","tripanup","tripandown","tripanleft","tripanright","tripanend","tripancancel","panstart","panmove","panup","pandown","panleft","panright","panend","pancancel","swipe","swipeleft","swiperight","swipeup","swipedown","GESTURE_EVENT_ALIASES","click","anyclick","dblclick","mouseover","mouseout","mouseleave","passiveSupported","passive","firefox","WHEEL_EVENTS","EVENT_TYPE","WHEEL_DELTA_MAGIC_SCALER","WheelInput","handleEvent","enabled","deltaMode","wheelPosition","shiftKey","_onWheel","MOUSE_EVENTS","MOVE_EVENT_TYPE","OVER_EVENT_TYPE","OUT_EVENT_TYPE","LEAVE_EVENT_TYPE","MoveInput","enableMoveEvent","enableLeaveEvent","enableOutEvent","enableOverEvent","handleOverEvent","handleOutEvent","handleLeaveEvent","handleMoveEvent","KEY_EVENTS","DOWN_EVENT_TYPE","UP_EVENT_TYPE","KeyInput","enableDownEvent","enableUpEvent","tabIndex","targetElement","srcElement","tagName","ContextmenuInput","DEFAULT_OPTIONS","priority","EventRegistrar","handlersByElement","_active","insertPosition","isEmpty","mjolnirEvent","_normalizeEvent","rootElement","_emit","handled","immediatePropagationStopped","stopPropagation","stopImmediatePropagation","entriesToRemove","_entries$i","_entriesToRemove$_i","_type","_handler","_event$srcEvent","buttons","leftButton","middleButton","rightButton","whichButtons","getBoundingClientRect","offsetWidth","offsetHeight","clientLeft","clientTop","getOffsetPosition","recognizerOptions","EventManager","_onBasicInput","_onOtherEvent","setElement","ManagerClass","recognizerName","otherName","recognizerOption","wheelInput","moveInput","keyInput","contextmenuInput","_step$value","eventAlias","eventRegistrar","_toggleRecognizer","_addEventHandler","_removeEventHandler","fallbackRecognizers","enableEventType","eventName","isRecognizerUsed","eh","alias","NO_TRANSITION_PROPS","LINEAR_TRANSITION_PROPS","DEFAULT_INERTIA","INERTIA_EASING","EVENT_TYPES","MapController","isDragging","newState","_interactionState","newViewport","oldViewport","_transitionManager","_onTransition","_setInteractionState","getMapState","eventStartBlocked","_eventStartBlocked","_onPanStart","_onPan","_onPanEnd","_onPinchStart","_onPinch","_onPinchEnd","_onTriplePanStart","_onTriplePan","_onTriplePanEnd","_onDoubleTap","_onKeyDown","_event$offsetCenter","metaKey","altKey","ctrlKey","timer","newMapState","extraProps","viewStateChanged","getState","overrides","mapStateProps","_options$eventManager","_options$isInteractiv","isInteractive","_options$scrollZoom","scrollZoom","_options$dragPan","dragPan","_options$dragRotate","dragRotate","_options$doubleClickZ","doubleClickZoom","_options$touchZoom","touchZoom","_options$touchRotate","touchRotate","_options$keyboard","keyboard","prevOptions","dimensionChanged","updateViewport","processViewportChange","_events","toggleEvents","eventNames","_this3","_panRotate","isFunctionKeyPressed","rotateStart","panStart","_onPanRotate","_onPanMove","_onPanRotateEnd","_onPanMoveEnd","_this$dragPan$inertia","inertia","endPos","newControllerState","panEnd","_this$dragRotate$iner","rotateEnd","_this$scrollZoom","_this$scrollZoom$spee","_this$scrollZoom$smoo","smooth","zoomStart","_startPinchRotation","_lastPinchEvent","_this$touchZoom$inert","_newMapState","velocityZ","endScale","zoomEnd","blockEvents","startPinchRotation","_this$touchRotate$ine","_newMapState2","isZoomOut","funcKey","_this$keyboard","_this$keyboard$zoomSp","zoomSpeed","_this$keyboard$moveSp","moveSpeed","_this$keyboard$rotate","rotateSpeedX","_this$keyboard$rotate2","rotateSpeedY","keyCode","onInteractionStateChange","onHover","onClick","onDblClick","onContextMenu","onMouseDown","onMouseMove","onMouseUp","onTouchStart","onTouchMove","onTouchEnd","onMouseEnter","onMouseLeave","onMouseOut","onWheel","eventRecognizerOptions","clickRadius","interactiveLayerIds","getCursor","onNativeClick","isHovering","normalizeEvent","point","getFeatures","queryParams","_unused","onEvent","callbackName","onPointerDown","onPointerUp","onPointerMove","features","_this$props","isEntering","isExiting","setState","onPointerClick","_this$props2","callbacks","isDoubleClickEnabled","cb","InteractiveMap","parentContext","useMemo","eventCanvasRef","staticMapRef","thisRef","cursor","viewportUpdateRequested","stateUpdateRequested","inRender","handleViewportChange","_thisRef$props","handleInteractionStateChange","_interactionState$isD","updateControllerOpts","setOptions","pointerleave","wheel","contextmenu","eventCanvasStyle","_child","deepEqual","aKeys","bKeys","_aKeys","sourceCounter","createSource","_loaded","addSource","getSource","propsRef","setStyleLoaded","forceUpdate","removeSource","prevProps","changedKey","changedKeyCount","setData","updateImage","url","coordinates","setUrl","setTiles","tiles","setCoordinates","updateSource","cloneElement","_objectWithoutProperties","excluded","sourceKeys","sourceSymbolKeys","isRequired","beforeId","updateLayer","_props$layout","layout","_props$paint","paint","minzoom","maxzoom","otherProps","moveLayer","prevLayout","setLayoutProperty","prevPaint","_key2","setPaintProperty","_key3","_key4","setFilter","setLayerZoomRange","setLayerProperty","diffLayerStyles","layerCounter","Layer","removeLayer","getLayer","addLayer","createLayer","mapControlDefaultProps","captureScroll","captureDrag","captureClick","captureDoubleClick","capturePointerMove","mapControlPropTypes","onMount","onDragStart","onDoubleClick","watch","useMapControl","_thisRef","Control","_useMapControl","_context","_containerRef","BaseControl","_PureComponent","_len","createRef","_onScroll","_onDragStart","_onDblClick","_onClick","_onPointerMove","PureComponent","draggable","onDrag","onDragEnd","offsetLeft","offsetTop","draggableControlDefaultProps","getDragEventPosition","getDragLngLat","dragPos","dragOffset","_event$center","getDragEventOffset","setDragPos","setDragOffset","callbackEvent","registerEvents","pixelRatio","devicePixelRatio","crispPixel","crispPercentage","percentage","origSize","Marker","useDraggableControl","_getPosition","_viewport$project2","getPosition","_getPosition2","control","containerStyle","ANCHOR_POSITION","ANCHOR_TYPES","tipSize","anchor","dynamicPosition","sortByDepth","closeButton","closeOnClick","onClose","selfWidth","selfHeight","_ANCHOR_POSITION$anch","anchorX","anchorY","cutoffY","bestAnchorY","minCutoff","xStep","cutoffX","bestAnchorX","_minCutoff","positionType","anchorPosition","getDynamicPosition","Popup","contentRef","setLoaded","clickCallback","xPercentage","yPercentage","zIndex","getContainerStyle","onClickCloseButton","borderWidth","toggleLabel","AttributionControl","innerContainerRef","showCompact","setShowCompact","attributionContainer","_innerContainer","_updateAttributions","_updateEditLink","_updateData","setupAttributioncontrol","customAttribution","removeAttributionControl","compact","toggleAttribution","title","role","label","FullscreenControl","isFullscreen","setIsFullscreen","showButton","setShowButton","_useState6","mapboxFullscreenControl","createMapboxFullscreenControl","_checkFullscreenSupport","onFullscreenChange","nextState","_fullscreen","_fullscreenchange","_onClickFullscreen","disabledLabel","auto","positionOptions","enableHighAccuracy","fitBoundsOptions","trackUserLocation","showUserLocation","showUserHeading","showAccuracyCircle","onGeolocate","updateCamera","coords","radius","accuracy","toBounds","_ne","_sw","_context$viewport$fit","fitBounds","GeolocateControl","geolocateButtonRef","mapboxGeolocateControl","createMapboxGeolocateControl","supportsGeolocation","setSupportsGeolocation","Promise","resolve","permissions","query","then","geolocation","geolocateButton","_getUIString","_setupUI","_geolocateButton","_watchState","setupMapboxGeolocateControl","_updateCamera","_clearWatch","triggerGeolocate","trigger","_onZoom","disabled","showCompass","showZoom","zoomInLabel","zoomOutLabel","compassLabel","getUIVersion","version1","version2","part1","part2","compareVersions","renderButton","NavigationControl","uiVersion","renderCompass","maxWidth","unit","ScaleControl","mapboxScaleControl","createMapboxScaleControl","_onMove","CanvasOverlay","setDrawingContext","save","restore","HTMLOverlay","SVGOverlay","HoverInfoContainer","mapWidth","innerHeight","logo","setViewport","matchExpression","expression","column","row","dimensionData","color","layerProps","hoverInfo","setHoverInfo","hoveredFeature","nextViewport","name_en","iso_3166_1_alpha_3","_extendStatics","__extends","__","_assign","__rest","__values","ar","to","pack","createDefinition","isEnabled","featureDefinitions","measureLayout","exit","drag","focus","hover","inView","LazyContext","strict","featureNames","numFeatures","MotionConfigContext","transformPagePoint","isStatic","MotionContext","useVisualElement","Component","visualState","createVisualElement","lazyContext","visualElement","presenceContext","visualElementRef","renderer","presenceId","blockInitialAnimation","initial","syncRender","animationState","animateChanges","notifyUnmount","isRefObject","isVariantLabels","isVariantLabel","resolveVariantFromProps","definition","custom","currentValues","currentVelocity","variants","resolveVariant","getProps","forEachValue","getCurrent","checkIfControllingVariants","animate","whileHover","whileDrag","whileTap","whileFocus","checkIfVariantNode","useCreateMotionContext","getCurrentTreeVariants","variantLabelsAsDependency","useConstant","defaultTimestep","getCurrentTime","performance","onNextFrame","useDefaultElapsed","runNextFrame","isProcessing","timestamp","stepsOrder","steps","acc","toRun","toRunNextFrame","numToRun","flushNextFrame","toKeepAlive","WeakSet","schedule","addToCurrentFrame","buffer","frameData","createRenderStep","sync","keepAlive","immediate","startLoop","cancelSync","flushSync","processStep","stepId","processFrame","getFrameData","progress","velocityPerSecond","frameDuration","addUniqueItem","removeItem","SubscriptionManager","subscriptions","notify","numSubscriptions","getSize","MotionValue","timeDelta","lastUpdated","updateSubscribers","velocityUpdateSubscribers","renderSubscribers","canTrackVelocity","updateAndNotify","render","prev","scheduleVelocityCheck","velocityCheck","hasAnimated","onChange","subscription","clearListeners","onRenderRequest","attach","passiveEffect","getPrevious","stopAnimation","clearAnimation","isAnimating","motionValue","isMotionValue","safeMin","findSpring","envelope","derivative","_ref$duration","_ref$bounce","bounce","_ref$velocity","_ref$mass","mass","dampingRatio","undampedFreq","exponentialDecay","calcAngularFreq","initialGuess","approximateRoot","stiffness","damping","durationKeys","physicsKeys","isSpringType","spring","_a$from","_a$to","_a$restSpeed","restSpeed","restDelta","_getSpringOptions","springOptions","isResolvedFromDuration","derived","getSpringOptions","resolveSpring","resolveVelocity","createSpring","initialVelocity","initialDelta","undampedAngularFreq","angularFreq","dampedAngularFreq","freqForT","isBelowVelocityThreshold","isBelowDisplacementThreshold","flipTarget","needsInterpolation","_t","toFromDifference","sanitize","toFixed","floatRegex","colorRegex","singleColorRegex","isString","parse","default","isColorString","testProp","startsWith","splitColor","aName","bName","cName","_v$match2","clampRgbUnit","rgbUnit","_ref$alpha","alpha$1","createUnitType","endsWith","degrees","percent","px","vh","vw","progressPercentage","saturation","hueToRgb","hslaToRgba","mixLinearColor","fromExpo","toExpo","colorTypes","getColorType","notAnimatable","mixColor","fromColorType","toColorType","fromColor","toColor","blended","colorToken","numberToken","analyse","numbers","tokenised","createTransformer","_analyse","numValues","convertNumbersToZero","complex","getAnimatableNone","parsed","transformer","isNum","combineFunctions","pipe","transformers","getMixer","origin","mixComplex","mixArray","blendValue","fromThis","mixObject","numNumbers","numRGB","numHSL","template","originStats","targetStats","mixNumber","createMixers","ease","customMixer","mixers","mixerFactory","numMixers","mixer","easingFunction","fastInterpolate","slowInterpolate","inputLength","lastInputIndex","mixerIndex","foundMixerIndex","progressInRange","_ref5$clamp","isClamp","power","reverseEasing","mirrorEasing","createBackIn","linear","easeIn","easeOut","easeInOut","circIn","circOut","circInOut","backIn","backOut","backInOut","anticipate","backEasing","createAnticipate","bounceOut","bounceIn","defaultEasing","keyframes","_ref$from","_ref$to","times","convertOffsetToTimes","_value","defaultOffset","createInterpolator","decay","_ref$power","_ref$timeConstant","timeConstant","_ref$restDelta","modifyTarget","amplitude","ideal","loopElapsed","elapsed","framesync","passTimestamp","driverControls","latest","interpolateFromNumber","_a$autoplay","autoplay","_a$driver","driver","_a$elapsed","_a$repeat","repeatMax","_a$repeatType","repeatType","_a$repeatDelay","repeatDelay","onPlay","onStop","onComplete","onRepeat","onUpdate","repeatCount","computedDuration","isComplete","isForwardPlayback","animator","config","Set","detectAnimationFromOptions","reverseElapsed","hasRepeatDelayElapsed","secondsToMilliseconds","seconds","calcBezier","getSlope","kSampleStepSize","cubicBezier","mX1","mY1","mX2","mY2","sampleValues","getTForX","aX","intervalStart","currentSample","kSplineTableSize","guessForT","initialSlope","aGuessT","currentSlope","newtonRaphsonIterate","aA","aB","currentX","currentT","binarySubdivide","easingLookup","bounceInOut","easingDefinitionToFunction","isAnimatable","isKeyframesTarget","underDampedSpring","criticallyDampedSpring","linearTween","defaultTransitions","rotateX","rotateY","rotateZ","opacity","backgroundColor","maxDefaults","applyDefaultFilter","_v$slice$split2","defaultValue","functionRegex","functions","numberValueTypes","borderTopWidth","borderRightWidth","borderBottomWidth","borderLeftWidth","borderRadius","borderTopLeftRadius","borderTopRightRadius","borderBottomRightRadius","borderBottomLeftRadius","maxHeight","paddingTop","paddingRight","paddingBottom","paddingLeft","margin","marginTop","marginRight","marginBottom","marginLeft","scaleZ","skew","skewX","skewY","translateX","translateY","translateZ","perspective","transformPerspective","originX","originY","originZ","fillOpacity","strokeOpacity","numOctaves","defaultValueTypes","outlineColor","fill","stroke","borderColor","borderTopColor","borderRightColor","borderBottomColor","borderLeftColor","WebkitFilter","getDefaultValueType","defaultValueType","instantAnimationState","resolveFinalValueInKeyframes","convertTransitionToAnimationOptions","yoyo","flip","loop","transition","isEasingArray","getPopmotionAnimationOptions","valueKey","transitionFactory","hydrateKeyframes","when","delayChildren","staggerChildren","staggerDirection","isTransitionDefined","getAnimation","valueTransition","getValueTransition","isTargetAnimatable","isZero","getZeroUnit","isOriginAnimatable","currentAnimation","_ref$bounceStiffness","bounceStiffness","_ref$bounceDamping","bounceDamping","_onUpdate","isOutOfBounds","boundaryNearest","startAnimation","startSpring","boundary","heading","finalTarget","potentialUnitType","delayTimer","controls","getDelayFromTransition","borders","numBorders","getRadius","radiusName","easeCrossfadeIn","compress","easeCrossfadeOut","copyAxisInto","axis","originAxis","copyBoxInto","box","originBox","isIdentityScale","hasScale","hasTransform","hasTranslate","scalePoint","originPoint","applyPointDelta","boxScale","applyAxisDelta","applyBoxDelta","translateAxis","transformAxis","transforms","scaleKey","originKey","axisOrigin","xKeys","yKeys","transformBox","isPoint","isPoint3D","distance1D","xDelta","yDelta","zDelta","calcLength","isNear","maxDistance","calcAxisDelta","calcBoxDelta","calcRelativeAxis","relative","calcRelativeAxisPosition","calcRelativePosition","removePointDelta","removeAxisTransforms","sourceAxis","removeAxisDelta","removeBoxTransforms","sourceBox","isAxisDeltaZero","isDeltaZero","boxEquals","NodeStack","members","scheduleRender","prevLead","lead","promote","relegate","indexOfNode","findIndex","member","isPresent","preserveFollowOpacity","show","resumeFrom","preserveOpacity","snapshot","latestValues","animationValues","isShared","root","isUpdating","isLayoutDirty","crossfade","hide","exitAnimationComplete","onExitComplete","resumingFrom","removeLeadSnapshot","scaleCorrectors","buildProjectionTransform","treeScale","latestTransform","xTranslate","yTranslate","eachAxis","transformAxes","transformProps","sortTransformProps","operationKey","axesKey","transformPropSet","isTransformProp","transformOriginProps","isTransformOriginProp","compareByDepth","depth","FlatTree","isDirty","resolveMotionValue","unwrappedValue","toValue","globalProjectionState","hasAnimatedSinceResize","hasEverUpdated","createProjectionNode","attachResizeListener","defaultParent","measureScroll","resetTransform","ProjectionNode","isTreeAnimating","isAnimationBlocked","updateManuallyBlocked","updateBlockedByResize","isSVG","needsReset","shouldResetTransform","eventHandlers","potentialNodes","checkUpdateFailed","clearAllSnapshots","updateProjection","nodes","resolveTargetDelta","calcProjection","hasProjected","isVisible","animationProgress","sharedNodes","path","registerPotentialNode","notifyListeners","subscriptionManager","hasListeners","mount","layoutId","unblockTimeout_1","resizeUnblockUpdate_1","finishAnimation","registerSharedNode","_f","hasLayoutChanged","hasRelativeTargetChanged","newLayout","isTreeAnimationBlocked","relativeTarget","layoutTransition","getDefaultTransition","defaultLayoutTransition","onLayoutAnimationComplete","targetChanged","targetLayout","hasOnlyRelativeTargetChanged","setAnimationOrigin","isLead","unmount","willUpdate","getStack","preRender","blockUpdate","unblockUpdate","isUpdateBlocked","startUpdate","resetRotation","shouldNotifyListeners","updateScroll","transformTemplate","prevTransformTemplateValue","updateSnapshot","didUpdate","clearMeasurements","mountNodeEarly","resetTransformStyle","updateLayout","notifyLayoutUpdate","clearSnapshot","removeLeadSnapshots","scheduleUpdateProjection","scheduleCheckAfterUnmount","measured","measure","removeTransform","removeElementScroll","roundBox","alwaysMeasureLayout","actual","layoutCorrected","projectionDelta","notifyLayoutMeasure","layoutScroll","scroll","isResetRequested","hasProjection","transformTemplateValue","transformTemplateHasChanged","measureViewportBox","boxWithoutScroll","scroll_1","applyTransform","transformOnly","withTransforms","boxWithoutTransform","setTargetDelta","targetDelta","relativeParent","getClosestProjectingParent","relativeTargetOrigin","targetWithTransforms","attemptToResolveRelativeTarget","pendingAnimation","getLead","treePath","isSharedTransition","treeLength","applyTreeDeltas","projectionDeltaWithTransform","prevTreeScaleX","prevTreeScaleY","prevProjectionTransform","projectionTransform","notifyAll","snapshotLatestValues","mixedValues","relativeLayout","isSharedLayoutAnimation","isOnlyMember","shouldCrossfadeOpacity","hasOpacityCrossfade","mixTargetDelta","mixAxisDelta","mixAxis","follow","opacityExit","borderLabel","followRadius","leadRadius","mixValues","completeAnimation","applyTransformsToTarget","initialPromotionConfig","shouldPreserveFollowOpacity","getPrevLead","hasRotate","resetValues","getStaticValue","setStaticValue","getProjectionStyles","styleProp","emptyStyles","valuesToRender","transformOrigin","_h","correct","applyTo","corrected","resetTree","layout_1","measuredLayout","animationType","axisSnapshot","layoutDelta","visualDelta","parentSnapshot","parentLayout","relativeSnapshot","searchNode","querySelector","roundAxis","LayoutGroupContext","SwitchLayoutGroupContext","VisualElementHandler","getSnapshotBeforeUpdate","updateProps","componentDidUpdate","preloadedFeatures","projectionNodeConstructor","useRender","useVisualState","loadFeatures","externalRef","layoutGroupId","useLayoutId","projectionId","ProjectionNodeConstructor","dragConstraints","projection","getLatestValues","useProjection","name_1","useFeatures","useMotionRef","createMotionProxy","createConfig","customMotionComponentConfig","componentCache","_target","lowercaseSVGElements","isSVGComponent","isForcedMotionValue","translateAlias","isCSSVariable","getValueAsType","buildHTMLStyles","vars","transformKeys","hasTransformOrigin","transformIsNone","valueType","valueAsType","transformIsDefault","enableHardwareAcceleration","allowTransformNone","transformString","transformHasZ","numTransformKeys","buildTransform","buildTransformOrigin","createHtmlRenderState","copyRawValuesOnly","useStyle","useInitialMotionValues","transformValues","useHTMLProps","htmlProps","dragListener","WebkitUserSelect","WebkitTouchCallout","validMotionProps","isValidMotionProp","shouldForward","emotionIsPropValid_1","calcOrigin","dashKeys","camelKeys","buildSVGAttrs","attrX","attrY","pathLength","pathSpacing","pathOffset","attrs","dimensions","pxOriginX","pxOriginY","calcSVGTransformOrigin","spacing","useDashCase","buildSVGPath","createSvgRenderState","useSVGProps","visualProps","rawStyles","createUseRender","forwardMotionProps","filteredProps","isDom","filterProps","elementProps","CAMEL_CASE_PATTERN","camelToDash","renderHTML","setProperty","camelCaseAttributes","renderSVG","renderState","scrapeMotionValuesFromProps","newValues","isAnimationControls","makeState","createRenderState","makeLatestValues","makeUseVisualState","scrapeMotionValues","motionValues","isControllingVariants","isVariantNode","initialAnimationIsBlocked","variantToSet","resolved","transitionEnd","valueTarget","AnimationType","svgMotionConfig","htmlMotionConfig","addDomEvent","useDomEvent","isMouseEvent","MouseEvent","isTouchEvent","defaultPagePoint","pageX","pageY","pointFromTouch","pointType","pointFromMouse","extractEventInfo","wrapHandler","shouldFilterPrimaryPointer","eventHandler","listener","mouseEventNames","pointerover","pointerenter","touchEventNames","getPointerEventName","onpointerdown","ontouchstart","onmousedown","addPointerEvent","usePointerEvent","createLock","lock","globalHorizontalLock","globalVerticalLock","getGlobalLock","openHorizontal_1","openVertical_1","isDragActive","openGestureLock","createHoverEvent","info","setActive","Hover","isNodeOrChild","parentElement","useUnmountEffect","observerCallbacks","fireObserverCallback","fireAllObserverCallbacks","observeIntersection","rootInteresectionObserver","lookupRoot","rootObservers","JSON","stringify","IntersectionObserver","initIntersectionObserver","thresholdNames","useIntersectionObserver","shouldObserve","rootMargin","isIntersecting","isInView","hasEnteredView","InView","onViewportEnter","onViewportLeave","useMissingIntersectionObserver","makeRenderlessComponent","hook","gestureAnimations","whileInView","onTap","onTapStart","onTapCancel","hasPressListeners","isPressing","cancelPointerEndListeners","removePointerEndListener","checkPointerEnd","onPointerCancel","Focus","onHoverStart","onHoverEnd","usePresence","register","useUniqueId","counter","incrementId","shallowCompare","prevLength","isZeroValueString","testValueType","dimensionValueTypes","findDimensionValueType","valueTypes","findValueType","setMotionValue","hasValue","getValue","addValue","setTarget","makeTargetAnimatable","getOriginFromTransition","animateVariant","variant","transitionOverride","animateTarget","getChildAnimations","variantChildren","forwardDelay","animations","maxStaggerDuration","generateStaggerDuration","sortByTreeOrder","notifyAnimationComplete","animateChildren","animationTypeState","shouldBlockAnimation","sortNodePosition","protectedKeys","needsAnimating","shouldBlock","variantPriorityOrder","Animate","Drag","Exit","reversePriorityOrder","numAnimationTypes","animateList","notifyAnimationStart","resolvedDefinition","animateVisualElement","createAnimationState","createTypeState","allAnimatedKeys","isInitialRender","buildResolvedTypeValues","changedActiveType","getVariantContext","removedKeys","encounteredKeys","removedVariantIndex","_loop_1","typeState","propIsVariant","activeDelta","isInherited","manuallyAnimateOnMount","prevProp","variantDidChange","checkVariantsDidChange","shouldAnimateType","definitionList","resolvedValues","prevResolvedValues","allKeys","markToAnimate","fallbackAnimation_1","fallbackTarget","getBaseTarget","shouldAnimate","isAnimated","setAnimateFunction","makeAnimator","subscribe","safeToRemove","PanSession","startEvent","lastMoveEvent","lastMoveEventInfo","updatePoint","getPanInfo","history","isPanStarted","isDistancePastThreshold","onStart","onMove","handlePointerMove","transformPoint","handlePointerUp","onEnd","onSessionEnd","panInfo","initialInfo","onSessionStart","removeListeners","updateHandlers","subtractPoint","lastDevicePoint","startDevicePoint","timestampedPoint","lastPoint","calcRelativeAxisConstraints","calcViewportAxisConstraints","layoutAxis","constraintsAxis","defaultElastic","resolveAxisElastic","dragElastic","minLabel","maxLabel","resolvePointElastic","convertBoundingBoxToBox","transformBoxPoints","elementDragControls","VisualElementDragControls","openGlobalLock","currentDirection","hasMutatedConstraints","elastic","originEvent","snapToCursor","panSession","dragPropagation","resolveConstraints","getAxisMotionValue","measuredAxis","dragDirectionLock","onDirectionLock","lockThreshold","getCurrentDirection","updateAxis","getTransformPagePoint","_point","shouldDrag","axisValue","applyConstraints","prevConstraints","resolveRefConstraints","layoutBox","calcRelativeConstraints","resolveDragElastic","relativeConstraints","rebaseAxisConstraints","onMeasureDragConstraints","constraintsElement","constraintsBox","rootProjectionNode","viewportBox","measurePageBox","measuredConstraints","calcViewportConstraints","userConstraints","convertBoxToBoundingBox","dragMomentum","dragTransition","dragSnapToOrigin","onDragTransitionEnd","momentumAnimations","startAxisValueAnimation","dragKey","externalMotionValue","scalePositionWithinConstraints","boxProgress","sourceLength","targetLength","addListeners","stopPointerListener","measureDragConstraints","stopMeasureLayoutListener","stopResizeListener","onPan","onPanStart","onPanEnd","onPanSessionStart","hasPanEvents","groupDragControls","dragControls","treeType","build","_getBaseTarget","_makeTargetAnimatable","_measureViewportBox","renderInstance","readValueFromInstance","removeValueFromRenderState","_sortNodePosition","removeFromVariantTree","isMounted","lifecycles","managers","propSubscriptions","clearAllListeners","updatePropListeners","propListener","createLifecycles","valueSubscriptions","prevMotionValues","baseTarget","triggerBuild","notifyUpdate","initialMotionValues","newInstance","addVariantChild","closestVariantNode","getClosestVariantNode","other","getLayoutId","setVisibility","canMutate","removeValue","removeOnChange","latestValue","removeOnRenderRequest","bindToMotionValue","readValue","setBaseTarget","nextValue","prevValue","existingValue","updateMotionValuesFromProps","getVariant","startAtParent","context_1","numVariantProps","variantProps","cssVariableRegex","getVariableValue","parseCSSVariable","token","fallback","getPropertyValue","BoundingBoxDimension","positionalKeys","isPositionalKey","setAndResetVelocity","isNumOrPxType","getPosFromMatrix","getTranslateFromMatrix","pos2","pos3","_bbox","matrix3d","nonTranslationalTransformKeys","positionalValues","checkAndConvertChangedValueTypes","targetPositionalKeys","removedTransformValues","hasAttemptedToRemoveTransformValues","changedValueTypeKeys","toType","fromType","numKeyframes","removedTransforms","removeNonTranslationalTransform","convertedTarget","changedKeys","originBbox","elementComputedStyle","targetBbox","convertChangedValueTypes","unitConversion","hasPositionalKey","parseDomVariant","resolveCSSVariables","htmlConfig","domElement","defaultType","computedStyle","compareDocumentPosition","restoreTransform","mutableState","getOrigin","newValueKeys","numNewValues","targetValue","checkTargetForNewValues","htmlVisualElement","svgVisualElement","getAttribute","_element","pixelsToPercent","pixels","correctBorderRadius","varToken","correctBoxShadow","original","containsCSSVariables","cssVariables","shadow","xScale","yScale","averageScale","i_1","cssVariable","MeasureLayoutWithContext","componentDidMount","correctors","layoutGroup","switchLayoutGroup","defaultScaleCorrectors","group","layoutDependency","componentWillUnmount","promoteContext","deregister","boxShadow","layoutFeatures","DocumentProjectionNode","scrollLeft","body","scrollTop","documentNode","featureBundle","motion","baseConfig","DimensionSelector","SelectionHighlight","Menu","resizeSelector","getElementById","MenuItem","childId","setDimension","DimensionItem","getPresenceId","PresenceChild","_onExitComplete","presenceAffectsLayout","presenceChildren","newChildrenMap","e_1","e_1_1","_","getChildKey","AnimatePresence","exitBeforeEnter","isUnmountingRef","forcedRenderCount","setForcedRenderCount","forceRender","useForceUpdate","forceRenderLayoutGroup","filteredChildren","filtered","Children","isValidElement","onlyElements","presentChildren","allChildren","exiting","updateChildLookup","childrenToRender","presentKeys","targetKeys","numPresent","insertionIndex","removeIndex","presentChild","CloseButton","AnimatedText","OutboundLink","MoreInfo","beginning","final","moreInfo","intial","setMoreInfo","rel","Title","TitleBoxLeft","TitleBoxRight","MoreInfoButton","Sidebar","fontSize","dimensionList","Home","ThemeProvider"],"sourceRoot":""}